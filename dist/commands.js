/*! For license information please see commands.js.LICENSE.txt */
(()=>{var e,t,n,r={857:e=>{"use strict";e.exports=require("os")},1398:e=>{"use strict";e.exports=require("vscode")},1449:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){"use strict";d=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,i=Object.create(o.prototype),s=new T(r||[]);return a(i,"_invoke",{value:A(e,n,s)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var g="suspendedStart",f="suspendedYield",h="executing",v="completed",b={};function w(){}function x(){}function k(){}var y={};l(y,i,(function(){return this}));var C=Object.getPrototypeOf,S=C&&C(C(D([])));S&&S!==n&&r.call(S,i)&&(y=S);var I=k.prototype=w.prototype=Object.create(y);function M(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,i,c){var u=m(e[a],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==s(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function A(t,n,r){var a=g;return function(o,i){if(a===h)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===g)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=m(t,n,r);if("normal"===u.type){if(a=r.done?v:f,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=m(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(s(t)+" is not iterable")}return x.prototype=k,a(I,"constructor",{value:k,configurable:!0}),a(k,"constructor",{value:x,configurable:!0}),x.displayName=l(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,l(e,u,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},M(P.prototype),l(P.prototype,c,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new P(p(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},M(I),l(I,u,"Generator"),l(I,i,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;B(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function p(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,s,"next",e)}function s(e){p(o,r,a,i,s,"throw",e)}i(void 0)}))}}var g=n(1398),f=n(9829),h=n(4518).executeGitCommand,v=n(9329);function b(e,t,n,r){return w.apply(this,arguments)}function w(){return(w=m(d().mark((function e(t,n,r,a){var o,i,s,c,l,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=g.workspace.getConfiguration("comitto"),i=u({},o.get("triggerRules")),s=i[t],"",c="patterns"===a||"files"===a?Array.isArray(s)?s.join(", "):"":void 0!==s?s.toString():"",e.next=7,g.window.showInputBox({value:c,prompt:n,placeHolder:r,validateInput:function(e){if("number"===a){if(!e)return"Eingabe darf nicht leer sein.";var n=parseInt(e);if(isNaN(n)||n<("intervalMinutes"===t||"timeThresholdMinutes"===t?1:0))return"Bitte geben Sie eine gültige positive Zahl ein."}return null}});case 7:if(void 0===(l=e.sent)){e.next=14;break}return"number"===a?p=parseInt(l):"patterns"===a||"files"===a?(p=l.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),"patterns"===a&&0===p.length&&(p=["**/*"])):p=l,i[t]=p,e.next=13,o.update("triggerRules",i,g.ConfigurationTarget.Global);case 13:g.window.showInformationMessage("".concat(n," aktualisiert."));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return k.apply(this,arguments)}function k(){return(k=m(d().mark((function e(t,n){var r,a,o,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=g.workspace.getConfiguration("comitto"),a=r.get("triggerRules")||{},o=!a[t],i=u(u({},a),{},l({},t,o)),e.next=7,r.update("triggerRules",i,g.ConfigurationTarget.Global);case 7:if(g.window.showInformationMessage("".concat(n," wurde ").concat(o?"aktiviert":"deaktiviert",".")),"onInterval"!==t||!o||a.intervalMinutes&&!(a.intervalMinutes<=0)){e.next=11;break}return e.next=11,b("intervalMinutes","Intervall (Minuten)","z.B. 5","number");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),g.window.showErrorMessage("Fehler beim Umschalten von ".concat(n,": ").concat(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function y(e,t,n){return C.apply(this,arguments)}function C(){return(C=m(d().mark((function e(t,n,r){var a,o,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.workspace.getConfiguration("comitto"),o=u({},a.get("gitSettings")),i=o[t],e.next=5,g.window.showInputBox({value:void 0!==i?i.toString():"",prompt:n,placeHolder:r});case 5:if(void 0===(s=e.sent)){e.next=11;break}return o[t]=s,e.next=10,a.update("gitSettings",o,g.ConfigurationTarget.Global);case 10:g.window.showInformationMessage("".concat(n," aktualisiert."));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return I.apply(this,arguments)}function I(){return(I=m(d().mark((function e(t,n){var r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.workspace.getConfiguration("comitto"),a=u({},r.get("gitSettings")),o=!a[t],a[t]=o,e.next=6,r.update("gitSettings",a,g.ConfigurationTarget.Global);case 6:g.window.showInformationMessage("".concat(n," ").concat(o?"aktiviert":"deaktiviert","."));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,n){return P.apply(this,arguments)}function P(){return(P=m(d().mark((function e(t,n,r){var a,o,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.workspace.getConfiguration("comitto"),o=u({},a.get("gitSettings")),i=o[t],e.next=5,g.window.showQuickPick(r.map((function(e){return u(u({},e),{},{description:i===e.value?"(Aktuell)":""})})),{placeHolder:n,ignoreFocusOut:!0});case 5:if(!(s=e.sent)){e.next=11;break}return o[t]=s.value,e.next=10,a.update("gitSettings",o,g.ConfigurationTarget.Global);case 10:g.window.showInformationMessage("".concat(n,' auf "').concat(s.label,'" gesetzt.'));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return E.apply(this,arguments)}function E(){return(E=m(d().mark((function e(t,n){var r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.workspace.getConfiguration("comitto"),a=u({},r.get("uiSettings")),o=!a[t],a[t]=o,e.next=6,r.update("uiSettings",a,g.ConfigurationTarget.Global);case 6:"showNotifications"===t?g.window.showInformationMessage("".concat(n," wurden ").concat(o?"aktiviert":"deaktiviert",".")):a.showNotifications&&g.window.showInformationMessage("".concat(n," wurde ").concat(o?"aktiviert":"deaktiviert","."));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return B.apply(this,arguments)}function B(){return(B=m(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.workspace.getConfiguration("comitto"),n=t.get("openai.apiKey"),e.next=4,g.window.showInputBox({value:n,prompt:"Geben Sie Ihren OpenAI API-Schlüssel ein",placeHolder:"sk-...",password:!0,ignoreFocusOut:!0});case 4:if(void 0===(r=e.sent)){e.next=9;break}return e.next=8,t.update("openai.apiKey",r,g.ConfigurationTarget.Global);case 8:g.window.showInformationMessage("OpenAI API-Schlüssel aktualisiert.");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return D.apply(this,arguments)}function D(){return(D=m(d().mark((function e(){var t,n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.workspace.getConfiguration("comitto"),n=t.get("anthropic.model"),r=["claude-3-haiku-20240307","claude-3-sonnet-20240229","claude-3-opus-20240229","claude-2.1","claude-2.0","claude-instant-1.2"],e.next=5,g.window.showQuickPick(r.map((function(e){return{label:e,description:e===n?"(Aktuell)":""}})),{placeHolder:"Claude-Modell auswählen",ignoreFocusOut:!0});case 5:if(!(a=e.sent)){e.next=10;break}return e.next=9,t.update("anthropic.model",a.label,g.ConfigurationTarget.Global);case 9:g.window.showInformationMessage("Anthropic-Modell auf ".concat(a.label," gesetzt."));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return j.apply(this,arguments)}function j(){return(j=m(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.workspace.getConfiguration("comitto"),n=t.get("anthropic.apiKey"),e.next=4,g.window.showInputBox({value:n,prompt:"Geben Sie Ihren Anthropic API-Schlüssel ein",placeHolder:"sk-ant-...",password:!0,ignoreFocusOut:!0});case 4:if(void 0===(r=e.sent)){e.next=9;break}return e.next=8,t.update("anthropic.apiKey",r,g.ConfigurationTarget.Global);case 8:g.window.showInformationMessage("Anthropic API-Schlüssel aktualisiert.");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return z.apply(this,arguments)}function z(){return z=m(d().mark((function e(){var t,n,r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.workspace.getConfiguration("comitto"),n=t.get("promptTemplate"),e.prev=2,e.next=5,g.workspace.openTextDocument({content:n,language:"markdown"});case 5:return r=e.sent,e.next=8,g.window.showTextDocument(r);case 8:a=g.workspace.onDidSaveTextDocument(function(){var e=m(d().mark((function e(o){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o!==r){e.next=7;break}if((i=o.getText())===n){e.next=6;break}return e.next=5,t.update("promptTemplate",i,g.ConfigurationTarget.Global);case 5:g.window.showInformationMessage("Prompt-Vorlage wurde gespeichert.");case 6:a.dispose();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o=g.workspace.onDidCloseTextDocument((function(e){e===r&&(a.dispose(),o.dispose())})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),g.window.showErrorMessage("Fehler beim Öffnen der Prompt-Vorlage: ".concat(e.t0.message)),console.error("Fehler bei handleEditPromptTemplateCommand:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),z.apply(this,arguments)}function L(e){return N.apply(this,arguments)}function N(){return N=m(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(n=t.globalState.get("comittoDashboardPanelInstance"))&&"function"==typeof n.reveal?n.reveal(g.ViewColumn.One):(n&&(t.globalState.update("comittoDashboardPanelInstance",void 0),console.log("Ungültiges Dashboard-Panel gefunden und zurückgesetzt")),n=g.window.createWebviewPanel("comittoDashboard","Comitto Dashboard",g.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[g.Uri.joinPath(t.extensionUri,"resources")]}),t.globalState.update("comittoDashboardPanelInstance",n),n.onDidDispose((function(){t.globalState.update("comittoDashboardPanelInstance",void 0),n=void 0}),null,t.subscriptions),n.webview.onDidReceiveMessage(function(){var e=m(d().mark((function e(r){var a,o,i,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=r.command,e.next="refresh"===e.t0?4:"toggleAutoCommit"===e.t0?6:"manualCommit"===e.t0?20:"openSettings"===e.t0?22:"configureProvider"===e.t0?24:"configureTriggers"===e.t0?26:28;break;case 4:try{(a=t.globalState.get("comittoDashboardPanelInstance"))&&"object"===s(a.webview)?a.webview.html=U(t,a):console.warn("Versuch, HTML für ein nicht mehr existierendes Dashboard zu aktualisieren.")}catch(e){console.error("Fehler beim Aktualisieren des Dashboards:",e),g.window.showErrorMessage("Fehler beim Aktualisieren des Dashboards: ".concat(e.message))}return e.abrupt("break",28);case 6:return e.prev=6,o=g.workspace.getConfiguration("comitto"),i=!o.get("autoCommitEnabled"),e.next=11,o.update("autoCommitEnabled",i,g.ConfigurationTarget.Global);case 11:(c=t.globalState.get("comittoDashboardPanelInstance"))&&"object"===s(c.webview)&&(c.webview.html=U(t,c)),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(6),console.error("Fehler beim Umschalten des Auto-Commit-Status:",e.t1),g.window.showErrorMessage("Fehler beim Umschalten des Auto-Commit-Status: ".concat(e.t1.message));case 19:return e.abrupt("break",28);case 20:return g.commands.executeCommand("comitto.performManualCommit"),e.abrupt("break",28);case 22:return g.commands.executeCommand("comitto.openSettings"),e.abrupt("break",28);case 24:return g.commands.executeCommand("comitto.configureAIProvider"),e.abrupt("break",28);case 26:return g.commands.executeCommand("comitto.configureTriggers"),e.abrupt("break",28);case 28:e.next=34;break;case 30:e.prev=30,e.t2=e.catch(0),console.error("Fehler bei der Verarbeitung des Dashboard-Befehls:",e.t2),n&&n.webview&&"function"==typeof n.webview.postMessage&&n.webview.postMessage({type:"error",content:"Fehler bei der Befehlsverarbeitung: ".concat(e.t2.message)});case 34:case"end":return e.stop()}}),e,null,[[0,30],[6,15]])})));return function(t){return e.apply(this,arguments)}}(),void 0,t.subscriptions));try{n.webview.html=U(t,n)}catch(e){console.error("Fehler beim Generieren des Dashboard-HTML:",e),g.window.showErrorMessage("Fehler beim Öffnen des Dashboards: ".concat(e.message)),n.webview.html="\n                <html><body><h1>Fehler beim Laden des Dashboards</h1><p>".concat(e.message,"</p></body></html>\n            ")}}catch(e){console.error("Fehler beim Öffnen des Dashboards:",e),g.window.showErrorMessage("Fehler beim Öffnen des Comitto-Dashboards: ".concat(e.message))}case 1:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function U(e,t){if(!t||!t.webview)return console.error("generateDashboardHTML: Panel oder Webview ist nicht verfügbar."),"<html><body><h1>Fehler beim Initialisieren des Dashboards</h1>\n                <p>Das Webview-Panel ist nicht verfügbar. Bitte schließen Sie das Dashboard und versuchen Sie es erneut.</p></body></html>";var r=g.workspace.getConfiguration("comitto"),a=r.get("autoCommitEnabled"),o=r.get("aiProvider"),i=r.get("triggerRules"),s=r.get("gitSettings"),c=f.getProviderDisplayName(o),u=f.getProviderIcon(o),l="";switch(o){case"ollama":l=r.get("ollama.model");break;case"openai":l=r.get("openai.model");break;case"anthropic":l=r.get("anthropic.model")}var d=g.Uri.joinPath(e.extensionUri,"resources","ui","dashboard.js"),p=g.Uri.joinPath(e.extensionUri,"resources","ui","styles.css"),m=g.Uri.joinPath(e.extensionUri,"resources","ui","animations.css"),h=g.Uri.joinPath(e.extensionUri,"resources","icon.svg"),v=t.webview.asWebviewUri(d),b=t.webview.asWebviewUri(p),w=t.webview.asWebviewUri(m),x=t.webview.asWebviewUri(h),k=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<32;n++)e+=t.charAt(Math.floor(62*Math.random()));return e}(),y="0.9.6";try{var C=g.Uri.joinPath(e.extensionUri,"package.json").fsPath;y=JSON.parse(n(9896).readFileSync(C,"utf8")).version||y}catch(e){console.error("Fehler beim Lesen der package.json für Version",e)}return'\n    <!DOCTYPE html>\n    <html lang="en">\n    <head>\n        <meta charset="UTF-8">\n        \x3c!-- Content Security Policy --\x3e\n        <meta http-equiv="Content-Security-Policy" content="default-src \'none\'; style-src '.concat(t.webview.cspSource," https://cdn.jsdelivr.net 'unsafe-inline'; font-src https://fonts.gstatic.com; img-src ").concat(t.webview.cspSource," https: data:; script-src 'nonce-").concat(k,'\' https://cdn.jsdelivr.net; connect-src \'none\';">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        \n        \x3c!-- Tailwind CSS --\x3e\n        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">\n        \n        \x3c!-- Custom Styles --\x3e\n        <link href="').concat(b,'" rel="stylesheet">\n        <link href="').concat(w,'" rel="stylesheet">\n        \n        \x3c!-- Google Fonts - Inter --\x3e\n        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">\n        \n        <title>Comitto Dashboard</title>\n    </head>\n    <body class="vscode-dark">\n        <div class="container glass-container animated-bg">\n            <div class="dashboard-header">\n                <div class="flex items-center gap-4">\n                    <img src="').concat(x,'" alt="Comitto Logo" class="h-12 w-12 floating-element"/>\n                    <h1 class="dashboard-title typing">Comitto Dashboard</h1>\n                </div>\n                <button id="refreshBtn" class="btn btn-icon" title="Refresh">\n                    <span class="icon">🔄</span>\n                </button>\n            </div>\n            \n            <div class="flex justify-between items-center mb-6 fade-in" style="animation-delay: 0.2s">\n                <div class="status ').concat(a?"status-enabled":"status-disabled",' flex items-center">\n                    <span class="status-indicator ').concat(a?"status-active":"status-inactive",'"></span>\n                    <span><strong>Status:</strong> Comitto is currently ').concat(a?"enabled":"disabled",'</span>\n                </div>\n                \n                <div class="flex gap-2">\n                    <button id="commitBtn" class="btn hover-lift" title="Generate a commit now with AI">\n                        <span class="icon">💾</span> Manual Commit\n                    </button>\n                    <button id="toggleBtn" class="btn ').concat(a?"btn-danger":"btn-secondary",' hover-lift" data-enabled="').concat(a,'" title="Toggle automatic commits">\n                        <span class="icon">').concat(a?"🚫":"✅","</span> ").concat(a?"Disable":"Enable",'\n                    </button>\n                </div>\n            </div>\n            \n            <div class="dashboard fade-in" style="animation-delay: 0.4s">\n                \x3c!-- AI Configuration --\x3e\n                <div class="card interactive">\n                    <div class="card-header">\n                        <h2 class="card-title">\n                            <span class="icon">').concat(u.id?"$(".concat(u.id,")"):"🧠",'</span> AI Configuration\n                        </h2>\n                        <span class="badge badge-primary">\n                            ').concat(c,'\n                        </span>\n                    </div>\n                    <div class="card-content">\n                        <p class="mb-2"><strong>Model:</strong> ').concat(l||"Not set",'</p>\n                        <div class="flex justify-center mt-4">\n                            <button id="configureAIBtn" class="btn btn-secondary hover-lift">\n                                <span class="icon">⚙️</span> Configure AI\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                \n                \x3c!-- Trigger Rules --\x3e\n                <div class="card interactive">\n                    <div class="card-header">\n                        <h2 class="card-title">\n                            <span class="icon">⚙️</span> Trigger Rules\n                        </h2>\n                        <span class="badge ').concat(i.onSave||i.onInterval?"badge-success":"badge-danger",'">\n                            ').concat(i.onSave||i.onInterval?"Active":"Inactive",'\n                        </span>\n                    </div>\n                    <div class="card-content">\n                        <div class="grid grid-cols-2 gap-2 mb-3">\n                            <div>\n                                <p><strong>File Count:</strong></p>\n                                <span class="badge">').concat(i.fileCountThreshold,'</span>\n                            </div>\n                            <div>\n                                <p><strong>Change Count:</strong></p>\n                                <span class="badge">').concat(i.minChangeCount,'</span>\n                            </div>\n                            <div>\n                                <p><strong>Time Threshold:</strong></p>\n                                <span class="badge">').concat(i.timeThresholdMinutes,' Min.</span>\n                            </div>\n                            <div>\n                                <p><strong>Active Triggers:</strong></p>\n                                <div class="flex flex-wrap gap-1">\n                                    ').concat(i.onSave?'<span class="badge badge-success">On Save</span>':"","\n                                    ").concat(i.onInterval?'<span class="badge badge-success">Interval ('.concat(i.intervalMinutes," Min.)</span>"):"","\n                                    ").concat(i.onBranchSwitch?'<span class="badge badge-success">Branch Switch</span>':"","\n                                    ").concat(i.onSave||i.onInterval||i.onBranchSwitch?"":'<span class="badge badge-danger">None</span>','\n                                </div>\n                            </div>\n                        </div>\n                        <div class="flex justify-center">\n                            <button id="configureTriggersBtn" class="btn btn-secondary hover-lift">\n                                <span class="icon">⚙️</span> Configure Triggers\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                \n                \x3c!-- Git Settings --\x3e\n                <div class="card interactive">\n                    <div class="card-header">\n                        <h2 class="card-title">\n                            <span class="icon">📝</span> Git Settings\n                        </h2>\n                        <span class="badge badge-primary">\n                            ').concat("de"===s.commitMessageLanguage?"German":"English",'\n                        </span>\n                    </div>\n                    <div class="card-content">\n                        <div class="grid grid-cols-2 gap-2 mb-3">\n                            <div>\n                                <p><strong>Auto-Push:</strong></p>\n                                <span class="badge ').concat(s.autoPush?"badge-success":"badge-danger",'">\n                                    ').concat(s.autoPush?"Yes":"No",'\n                                </span>\n                            </div>\n                            <div>\n                                <p><strong>Branch:</strong></p>\n                                <span class="badge tooltip">\n                                    ').concat(s.branch||"Current Branch",'\n                                    <span class="tooltip-text">Active for ').concat(s.branch||"current branch",'</span>\n                                </span>\n                            </div>\n                            <div>\n                                <p><strong>Commit Style:</strong></p>\n                                <span class="badge">').concat(s.commitMessageStyle,'</span>\n                            </div>\n                            <div>\n                                <p><strong>Staging Mode:</strong></p>\n                                <span class="badge">').concat(f.getStageModeLabel(s.stageMode),'</span>\n                            </div>\n                        </div>\n                        <div class="flex justify-center">\n                            <button id="openSettingsBtn" class="btn btn-secondary hover-lift">\n                                <span class="icon">⚙️</span> Configure Git Settings\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                \n                \x3c!-- Statistics (Placeholder) --\x3e\n                <div class="card">\n                    <div class="card-header">\n                        <h2 class="card-title">\n                            <span class="icon">📊</span> Statistics\n                        </h2>\n                        <span class="badge badge-primary" id="statsTimeframe">Last 7 Days</span>\n                    </div>\n                    <div class="card-content">\n                        <div id="statsContainer" class="text-center">\n                            <div class="flex justify-around mb-4">\n                                <div>\n                                    <h3 class="text-xl font-bold" id="commitCount">-</h3>\n                                    <p class="text-sm text-gray-400">Commits</p>\n                                </div>\n                                <div>\n                                    <h3 class="text-xl font-bold" id="fileCount">-</h3>\n                                    <p class="text-sm text-gray-400">Files Changed</p>\n                                </div>\n                                <div>\n                                    <h3 class="text-xl font-bold" id="changeCount">-</h3>\n                                    <p class="text-sm text-gray-400">Lines Changed</p>\n                                </div>\n                            </div>\n                            <div id="chart" class="h-40">\n                                \x3c!-- Chart will be inserted here --\x3e\n                                <div class="flex items-center justify-center h-full">\n                                    <p class="text-gray-400 loading-dots">Loading statistics</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div class="mt-6 text-center text-sm text-gray-500 fade-in" style="animation-delay: 0.6s">\n                <p>Comitto v').concat(y,' • <span class="hover-underline tooltip">Made with ❤️<span class="tooltip-text">Thank you for using Comitto!</span></span></p>\n            </div>\n        </div>\n        \n        \x3c!-- Custom script with nonce --\x3e\n        <script nonce="').concat(k,'" src="').concat(v,'"><\/script>\n        \n        <script nonce="').concat(k,'">\n            // Initialize VS Code API\n            const vscode = acquireVsCodeApi();\n        <\/script>\n    </body>\n    </html>\n    ')}function K(){return H.apply(this,arguments)}function H(){return(H=m(d().mark((function e(){var t,n,r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=g.workspace.getConfiguration("comitto"),(n=t.get("gitSettings")||{}).commitMessageLanguage,r=[{label:"Englisch",value:"en",description:"Commit-Nachrichten in englischer Sprache"},{label:"Deutsch",value:"de",description:"Commit-Nachrichten in deutscher Sprache"}],e.next=7,g.window.showQuickPick(r,{placeHolder:"Wählen Sie die Sprache für Commit-Nachrichten",title:"Commit-Nachrichtensprache auswählen"});case 7:if(!(a=e.sent)){e.next=17;break}return n.commitMessageLanguage=a.value,e.next=12,t.update("gitSettings",n,g.ConfigurationTarget.Global);case 12:return o=t.get("promptTemplate"),"de"===a.value?o.includes("auf Deutsch")||(o=(o=(o=(o=o.replace(/Generate a meaningful commit message in English/i,"Generiere eine aussagekräftige Commit-Nachricht auf Deutsch")).replace(/using the Conventional Commits format/i,"im Format der Conventional Commits")).replace(/Keep it under 80 characters/i,"Halte sie unter 80 Zeichen")).replace(/Here is the diff of changes/i,"Hier ist das Diff der Änderungen")):o.includes("in English")||(o=(o=(o=(o=o.replace(/Generiere eine aussagekräftige Commit-Nachricht auf Deutsch/i,"Generate a meaningful commit message in English")).replace(/im Format der Conventional Commits/i,"using the Conventional Commits format")).replace(/Halte sie unter 80 Zeichen/i,"Keep it under 80 characters")).replace(/Hier ist das Diff der Änderungen/i,"Here is the diff of changes")),e.next=16,t.update("promptTemplate",o,g.ConfigurationTarget.Global);case 16:g.window.showInformationMessage('Commit-Nachrichtensprache auf "'.concat(a.label,'" gesetzt.'));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),g.window.showErrorMessage("Fehler bei der Spracheinstellung: ".concat(e.t0.message));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function q(){return W.apply(this,arguments)}function W(){return(W=m(d().mark((function e(){var t,n,r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.workspace.getConfiguration("comitto"),n=u({},t.get("gitSettings")),r=n.stageMode||"all",a=[{label:"Alle Änderungen",value:"all",detail:"Alle geänderten Dateien automatisch stagen (`git add .`)"},{label:"Spezifische Muster",value:"specific",detail:"Nur Dateien stagen, die bestimmten Mustern entsprechen"},{label:"Manuell auswählen",value:"prompt",detail:"Vor jedem Commit nach zu stagenden Dateien fragen"}],e.next=6,g.window.showQuickPick(a.map((function(e){return u(u({},e),{},{description:r===e.value?"(Aktuell)":""})})),{placeHolder:"Staging-Modus auswählen",title:"Wie sollen Änderungen gestaged werden?",ignoreFocusOut:!0});case 6:if(!(o=e.sent)){e.next=15;break}return n.stageMode=o.value,e.next=11,t.update("gitSettings",n,g.ConfigurationTarget.Global);case 11:if(g.window.showInformationMessage('Staging-Modus auf "'.concat(o.label,'" gesetzt.')),"specific"!==o.value||n.specificStagingPatterns&&0!==n.specificStagingPatterns.length){e.next=15;break}return e.next=15,V();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return R.apply(this,arguments)}function R(){return(R=m(d().mark((function e(){var t,n,r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.workspace.getConfiguration("comitto"),n=u({},t.get("gitSettings")),r=n.specificStagingPatterns||[],e.next=5,g.window.showInputBox({placeHolder:"*.js,*.json,src/**/*",value:r.join(","),prompt:"Kommagetrennte Glob-Muster für spezifisches Staging",title:"Staging-Muster bearbeiten",ignoreFocusOut:!0});case 5:if(void 0===(a=e.sent)){e.next=12;break}return o=a.split(",").map((function(e){return e.trim()})).filter((function(e){return e})),n.specificStagingPatterns=o,e.next=11,t.update("gitSettings",n,g.ConfigurationTarget.Global);case 11:o.length>0?g.window.showInformationMessage("Spezifische Staging-Muster aktualisiert: ".concat(o.join(", "))):g.window.showInformationMessage("Spezifische Staging-Muster entfernt.");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return Q.apply(this,arguments)}function Q(){return(Q=m(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=g.workspace.workspaceFolders&&g.workspace.workspaceFolders[0]){e.next=5;break}return g.window.showErrorMessage("Kein Workspace geöffnet."),e.abrupt("return",!1);case 5:return n=t.uri.fsPath,e.next=8,h("git status --porcelain",n);case 8:if(e.sent.trim()){e.next=12;break}return g.window.showInformationMessage("Keine Änderungen zum Stagen vorhanden."),e.abrupt("return",!0);case 12:return r=g.window.setStatusBarMessage("$(sync~spin) Stage alle Änderungen...",2e3),e.next=15,h("git add .",n);case 15:return r.dispose(),g.window.showInformationMessage("Alle Änderungen wurden gestaged."),e.abrupt("return",!0);case 20:return e.prev=20,e.t0=e.catch(0),g.window.showErrorMessage("Fehler beim Stagen aller Änderungen: ".concat(e.t0.message)),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}function Z(){return $.apply(this,arguments)}function $(){return($=m(d().mark((function e(){var t,n,r,a,o,i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=g.workspace.workspaceFolders&&g.workspace.workspaceFolders[0]){e.next=5;break}return g.window.showErrorMessage("Kein Workspace geöffnet."),e.abrupt("return",!1);case 5:return n=t.uri.fsPath,e.next=8,h("git status --porcelain",n);case 8:if((r=e.sent).trim()){e.next=12;break}return g.window.showInformationMessage("Keine Änderungen zum Stagen gefunden."),e.abrupt("return",!0);case 12:if(0!==(a=r.split("\n").filter((function(e){return""!==e.trim()})).map((function(e){var t=e.substring(0,2),n=e.substring(3).trim();return{status:t,filePath:n,label:"".concat(f.getStatusDescription(t),": ").concat(n),picked:!t.includes("?")}}))).length){e.next=16;break}return g.window.showInformationMessage("Keine Änderungen zum Stagen gefunden."),e.abrupt("return",!0);case 16:return e.next=18,g.window.showQuickPick(a,{placeHolder:"Wählen Sie die zu stagenden Dateien aus",canPickMany:!0,ignoreFocusOut:!0,title:"Dateien für Staging auswählen"});case 18:if((o=e.sent)&&0!==o.length){e.next=22;break}return g.window.showInformationMessage("Keine Dateien zum Stagen ausgewählt."),e.abrupt("return",!1);case 22:return i=g.window.setStatusBarMessage("$(sync~spin) Stage ".concat(o.length," Datei(en)..."),5e3),s=o.map((function(e){return'"'.concat(e.filePath,'"')})).join(" "),e.next=26,h("git add -- ".concat(s),n);case 26:return i.dispose(),g.window.showInformationMessage("".concat(o.length," Datei(en) wurden gestaged.")),e.abrupt("return",!0);case 31:return e.prev=31,e.t0=e.catch(0),g.window.showErrorMessage("Fehler beim Stagen ausgewählter Dateien: ".concat(e.t0.message)),console.error("Staging Error Details:",e.t0),e.abrupt("return",!1);case 36:case"end":return e.stop()}}),e,null,[[0,31]])})))).apply(this,arguments)}function Y(){return J.apply(this,arguments)}function J(){return(J=m(d().mark((function e(){var t,n,r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.workspace.getConfiguration("comitto"),n=u({},t.get("uiSettings")),r=n.theme||"auto",a=[{label:"Hell",value:"light",detail:"Helles Theme für Comitto UI-Elemente"},{label:"Dunkel",value:"dark",detail:"Dunkles Theme für Comitto UI-Elemente"},{label:"Automatisch",value:"auto",detail:"Theme automatisch an VS Code anpassen"}],e.next=6,g.window.showQuickPick(a.map((function(e){return u(u({},e),{},{description:r===e.value?"(Aktuell)":""})})),{placeHolder:"Theme für Comitto auswählen",title:"Comitto Theme",ignoreFocusOut:!0});case 6:if(!(o=e.sent)){e.next=12;break}return n.theme=o.value,e.next=11,t.update("uiSettings",n,g.ConfigurationTarget.Global);case 11:g.window.showInformationMessage('Comitto Theme auf "'.concat(o.label,'" gesetzt.'));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){return ee.apply(this,arguments)}function ee(){return(ee=m(d().mark((function e(t,n){var r,a,o,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=g.workspace.getConfiguration("comitto"),a=r.get("notifications")||{},o=!a[t],i=u(u({},a),{},l({},t,o)),e.next=7,r.update("notifications",i,g.ConfigurationTarget.Global);case 7:("onError"!==t||o)&&g.window.showInformationMessage("".concat(n," wurden ").concat(o?"aktiviert":"deaktiviert",".")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),g.window.showErrorMessage("Fehler beim Umschalten von ".concat(n,": ").concat(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function te(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.message||"Unbekannter Fehler";console.error("Comitto Fehler [".concat(t,"]:"),e);var a=r;if(r.includes("fatal: not a git repository")?a="Dieses Verzeichnis ist kein Git-Repository. Bitte initialisieren Sie zuerst ein Git-Repository.":r.includes("fatal: unable to access")?a="Fehler beim Zugriff auf das Remote-Repository. Bitte prüfen Sie Ihre Netzwerkverbindung und Zugangsrechte.":r.includes("maxBuffer")||r.includes("zu groß")?a="Zu viele oder zu große Änderungen für die automatische Verarbeitung. Es wird versucht, mit einem kleineren Diff fortzufahren.":r.includes("fatal: could not read")?a="Fehler beim Lesen von Git-Objekten. Möglicherweise ist Ihr Repository beschädigt.":r.includes("Permission denied")?a="Zugriff verweigert. Bitte prüfen Sie Ihre Berechtigungen.":r.includes("Authentication failed")?a="Authentifizierung fehlgeschlagen. Bitte prüfen Sie Ihre Git-Credentials.":r.includes("ENOENT")?a="Datei oder Verzeichnis nicht gefunden.":r.includes("ECONNREFUSED")?a="Verbindung verweigert. Der Server ist möglicherweise nicht erreichbar.":r.includes("ETIMEDOUT")&&(a="Zeitüberschreitung bei der Verbindung. Bitte prüfen Sie Ihre Netzwerkverbindung."),n){var o=g.workspace.getConfiguration("comitto").get("notifications");o&&o.onError&&g.window.showErrorMessage("".concat(t,": ").concat(a))}return console.warn("Comitto [".concat(t,"] - Benutzerfreundlich: ").concat(a)),a}function ne(e,t){var n=g.workspace.getConfiguration("comitto"),r=n.get("gitSettings"),a=e.split("\n").filter((function(e){return e.trim().length>0})).map((function(e){var t=e.substring(0,2).trim(),n=e.substring(3).trim();return"".concat(getStatusText(t)," ").concat(n)})).join("\n"),o=n.get("promptTemplate");o=o.replace("{changes}",a);var i=r.commitMessageLanguage||"en",s="de"===i?"auf Deutsch":"in English";o.includes("auf Deutsch")&&"de"!==i?o=o.replace("auf Deutsch","in English"):o.includes("in English")&&"de"===i?o=o.replace("in English","auf Deutsch"):o.toLowerCase().includes(s.toLowerCase())||(o+="\nDie Commit-Nachricht soll ".concat(s," sein."));var c=r.commitMessageStyle||"conventional";return"conventional"!==c||o.toLowerCase().includes("conventional")?"gitmoji"!==c||o.toLowerCase().includes("gitmoji")||(o+="de"===i?"\nVerwende Gitmojis am Anfang der Commit-Nachricht (z.B. 🐛 für Bugfixes, ✨ für neue Features).":"\nUse Gitmojis at the beginning of the commit message (e.g. 🐛 for bugfixes, ✨ for new features)."):o+="de"===i?"\nVerwende das Conventional Commits Format (feat, fix, docs, style, etc.).":"\nUse the Conventional Commits format (feat, fix, docs, style, etc.).","en"!==i||o.toLowerCase().includes("conventional git conventions")||(o+='\n\nFollow these additional rules:\n1. Use imperative mood ("Add feature" not "Added feature")\n2. Don\'t capitalize the first word if using conventional commits format\n3. No period at the end\n4. Keep the message concise and under 72 characters if possible\n5. If needed, add more details after a blank line'),t&&t.length>0&&(o+="\n\n".concat(function(e){var t=3e3;e.length>1e5&&console.warn("Extrem großer Diff (".concat(e.length," Zeichen) wird stark gekürzt."));var n="";try{var r=e.split("diff --git"),a=Math.min(8,r.length);r.slice(0,a).forEach((function(e,t){if(0!==t||e.trim()){var r=e.match(/a\/(.+?) b\//),a=r?r[1]:"unknown-file",o=e.split("\n").filter((function(e){return e.startsWith("+")||e.startsWith("-")})).join("\n").substring(0,500);n+="\n".concat(t>0?"diff --git":""," a/").concat(a," b/").concat(a,"\n").concat(o),o.length>=500&&(n+="\n...")}})),n.length>t&&(n=n.substring(0,t),n+="\n..."),n+="\n[Diff wurde gekürzt, insgesamt ".concat(e.length," Zeichen in ").concat(r.length," Dateien]")}catch(r){console.error("Fehler beim intelligenten Kürzen des Diffs:",r),n=e.substring(0,t)+"\n...\n[Diff wurde einfach gekürzt, insgesamt ".concat(e.length," Zeichen]")}return"Hier ist ein Ausschnitt der konkreten Änderungen:\n"+n}(t))),o}function re(){return(re=m(d().mark((function e(t,n){var r,a,o,i,s,c,u,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=g.workspace.getConfiguration("comitto"),a=r.get("aiProvider"),o=ne(t,n),i="",e.t0=a,e.next="ollama"===e.t0?8:"openai"===e.t0?12:"anthropic"===e.t0?16:20;break;case 8:return e.next=10,generateWithOllama(o);case 10:case 14:case 18:return i=e.sent,e.abrupt("break",21);case 12:return e.next=14,generateWithOpenAI(o);case 16:return e.next=18,generateWithAnthropic(o);case 20:throw new Error("Unbekannter KI-Provider: ".concat(a));case 21:return e.abrupt("return",ae(i));case 24:if(e.prev=24,e.t1=e.catch(0),te(e.t1,"Commit-Nachricht generieren"),s=g.workspace.getConfiguration("comitto"),c=s.get("gitSettings"),u=c.commitMessageLanguage||"en",l=c.commitMessageStyle||"conventional","de"!==u){e.next=35;break}return e.abrupt("return","conventional"===l?"chore: Änderungen gespeichert":"💾 Änderungen gespeichert");case 35:return e.abrupt("return","conventional"===l?"chore: save changes":"💾 Save changes");case 36:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}function ae(e){if(!e)return"chore: auto commit";var t=e.trim().replace(/^["']|["']$/g,"").replace(/\n/g," "),n=(t=t.replace(/\s+/g," ").replace(/^(commit[- ]message:?\s*)/i,"").replace(/^```|```$/g,"")).match(/^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\([\w-]+\))?:\s*(.+)/i);if(n){var r=n[1].toLowerCase(),a=n[2]||"",o=n[3];t="".concat(r).concat(a,": ").concat(o)}return(t=t.replace(/\.$/,"")).length>72&&(t=t.substring(0,69)+"..."),t}function oe(){return ie.apply(this,arguments)}function ie(){return(ie=m(d().mark((function e(){var t,n,r,o,i,s,c,u,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.workspace.getConfiguration("comitto"),n=t.get("openai.model"),global.statusBarItem&&(global.statusBarItem.text="$(sync~spin) Comitto: Lade verfügbare Modelle..."),e.prev=3,r=t.get("openai.apiKey")){e.next=7;break}throw new Error("OpenAI API-Schlüssel nicht konfiguriert");case 7:return e.next=9,v.get("https://api.openai.com/v1/models",{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});case 9:if(o=e.sent,global.statusBarItem&&(global.statusBarItem.text="$(sync~spin) Comitto: Aktiv"),o.data&&o.data.data){e.next=13;break}throw new Error("Unerwartetes Antwortformat von OpenAI");case 13:return i=o.data.data.filter((function(e){return e.id.includes("gpt-")&&!e.id.includes("-vision-")&&!e.id.includes("instruct")})).map((function(e){return e.id})).sort((function(e,t){return e.includes("gpt-4")&&!t.includes("gpt-4")?-1:!e.includes("gpt-4")&&t.includes("gpt-4")?1:t.localeCompare(e)})),["gpt-4o","gpt-4o-mini","gpt-4","gpt-4-turbo","gpt-3.5-turbo","gpt-3.5-turbo-0125"].forEach((function(e){i.includes(e)||i.unshift(e)})),s=a(new Set(i)),e.next=19,g.window.showQuickPick(s.map((function(e){return{label:e,description:e===n?"(Aktuell)":""}})),{placeHolder:"OpenAI-Modell auswählen",ignoreFocusOut:!0});case 19:if(!(c=e.sent)){e.next=24;break}return e.next=23,t.update("openai.model",c.label,g.ConfigurationTarget.Global);case 23:g.window.showInformationMessage("OpenAI-Modell auf ".concat(c.label," gesetzt."));case 24:e.next=39;break;case 26:return e.prev=26,e.t0=e.catch(3),global.statusBarItem&&(global.statusBarItem.text="$(sync~spin) Comitto: Aktiv"),console.error("Fehler beim Laden der OpenAI-Modelle:",e.t0),g.window.showWarningMessage("Fehler beim Laden der Modelle: ".concat(e.t0.message,". Verwende Standard-Liste.")),u=["gpt-4o","gpt-4o-mini","gpt-4","gpt-4-turbo","gpt-4-0125-preview","gpt-4-1106-preview","gpt-4-vision-preview","gpt-3.5-turbo","gpt-3.5-turbo-0125","gpt-3.5-turbo-1106"],e.next=34,g.window.showQuickPick(u.map((function(e){return{label:e,description:e===n?"(Aktuell)":""}})),{placeHolder:"OpenAI-Modell auswählen",ignoreFocusOut:!0});case 34:if(!(l=e.sent)){e.next=39;break}return e.next=38,t.update("openai.model",l.label,g.ConfigurationTarget.Global);case 38:g.window.showInformationMessage("OpenAI-Modell auf ".concat(l.label," gesetzt."));case 39:case"end":return e.stop()}}),e,null,[[3,26]])})))).apply(this,arguments)}function se(e){return ce.apply(this,arguments)}function ce(){return(ce=m(d().mark((function e(t){var n,r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=g.workspace.getConfiguration("comitto"),r=n.get("aiProvider"),a=[{label:"Ollama (lokal)",id:"ollama",description:"ollama"===r?"(Aktuell)":""},{label:"OpenAI",id:"openai",description:"openai"===r?"(Aktuell)":""},{label:"Anthropic Claude",id:"anthropic",description:"anthropic"===r?"(Aktuell)":""}],e.next=6,g.window.showQuickPick(a,{placeHolder:"KI-Provider auswählen",title:"Comitto - KI-Provider konfigurieren"});case 6:if(!(o=e.sent)){e.next=29;break}if(o.id===r){e.next=12;break}return e.next=11,n.update("aiProvider",o.id,g.ConfigurationTarget.Global);case 11:g.window.showInformationMessage('KI-Provider auf "'.concat(o.label,'" gesetzt.'));case 12:e.t0=o.id,e.next="ollama"===e.t0?15:"openai"===e.t0?18:"anthropic"===e.t0?23:28;break;case 15:return e.next=17,ue();case 17:return e.abrupt("break",28);case 18:return e.next=20,oe();case 20:return e.next=22,O();case 22:return e.abrupt("break",28);case 23:return e.next=25,T();case 25:return e.next=27,F();case 27:return e.abrupt("break",28);case 28:t&&(t.statusProvider.refresh(),t.settingsProvider.refresh(),t.quickActionsProvider.refresh());case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(0),g.window.showErrorMessage("Fehler bei der KI-Provider-Konfiguration: ".concat(e.t1.message));case 34:case"end":return e.stop()}}),e,null,[[0,31]])})))).apply(this,arguments)}function ue(){return le.apply(this,arguments)}function le(){return(le=m(d().mark((function e(){var t,n,r,o,i,s,c,u,l,p,m,f,h,b,w,x,k,y;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=g.workspace.getConfiguration("comitto"),n=t.get("ollama")||{},r=n.model,o=t.get("ollama-model"),r||!o){e.next=13;break}return r=o,n.model=o,e.next=10,t.update("ollama",n,g.ConfigurationTarget.Global);case 10:return e.next=12,t.update("ollama-model",void 0,g.ConfigurationTarget.Global);case 12:g.window.showInformationMessage("Korrektur der Ollama-Modell-Konfiguration durchgeführt.");case 13:return i=r||"granite3.3:2b",s=n.endpoint||"http://localhost:11434",c=[{label:"Ollama-Modell ändern",id:"model",description:"Aktuell: ".concat(i)},{label:"Ollama-Endpoint ändern",id:"endpoint",description:"Aktuell: ".concat(s)}],e.next=18,g.window.showQuickPick(c,{placeHolder:"Ollama-Einstellung konfigurieren",title:"Comitto - Ollama-Einstellungen"});case 18:if(u=e.sent){e.next=21;break}return e.abrupt("return",!1);case 21:if("model"!==u.id){e.next=64;break}return global.statusBarItem&&(global.statusBarItem.text="$(sync~spin) Comitto: Lade verfügbare Modelle..."),l=[],e.prev=24,e.next=27,v.get("".concat(s,"/api/tags"));case 27:(p=e.sent).data&&p.data.models&&(l=p.data.models.map((function(e){return e.name})),g.window.showInformationMessage("".concat(l.length," Ollama-Modelle gefunden."))),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(24),console.error("Fehler beim Abrufen der Ollama-Modelle:",e.t0),g.window.showWarningMessage("Keine Ollama-Modelle gefunden: ".concat(e.t0.message,". Verwende Standard-Liste."));case 35:return e.prev=35,global.statusBarItem&&(global.statusBarItem.text="$(sync~spin) Comitto: Aktiv"),e.finish(35);case 38:return m=["granite3.3:2b","llama3","llama3:8b","llama3:70b","llama2","llama2:13b","llama2:70b","mistral","mistral:7b-instruct-v0.2","orca-mini","vicuna","codellama","phi"],(f=a(new Set([].concat(a(l),m)))).sort((function(e,t){return"granite3.3:2b"===e?-1:"granite3.3:2b"===t?1:e.localeCompare(t)})),e.next=43,g.window.showQuickPick([].concat(a(f.map((function(e){return{label:e,description:e===i?"(Aktuell)":""}}))),[{label:"Benutzerdefiniert...",description:"Eigenen Modellnamen eingeben"}]),{placeHolder:"Ollama-Modell auswählen",title:"Comitto - Ollama-Modell"});case 43:if(!(h=e.sent)){e.next=62;break}if("Benutzerdefiniert..."!==h.label){e.next=57;break}return e.next=48,g.window.showInputBox({prompt:"Geben Sie den Namen des Ollama-Modells ein",value:i,placeHolder:"z.B. granite3.3:2b"});case 48:if(!(b=e.sent)){e.next=55;break}return(w=t.get("ollama")||{}).model=b,e.next=54,t.update("ollama",w,g.ConfigurationTarget.Global);case 54:g.window.showInformationMessage('Ollama-Modell auf "'.concat(b,'" gesetzt.'));case 55:e.next=62;break;case 57:return(x=t.get("ollama")||{}).model=h.label,e.next=61,t.update("ollama",x,g.ConfigurationTarget.Global);case 61:g.window.showInformationMessage('Ollama-Modell auf "'.concat(h.label,'" gesetzt.'));case 62:e.next=77;break;case 64:if("endpoint"!==u.id){e.next=77;break}return e.next=67,g.window.showInputBox({prompt:"Geben Sie den Ollama-Endpoint ein",value:s,placeHolder:"z.B. http://localhost:11434"});case 67:if(!(k=e.sent)){e.next=77;break}if(k.startsWith("http://")||k.startsWith("https://")){e.next=72;break}return g.window.showWarningMessage("Der Endpoint sollte mit http:// oder https:// beginnen."),e.abrupt("return",!1);case 72:return(y=t.get("ollama")||{}).endpoint=k,e.next=76,t.update("ollama",y,g.ConfigurationTarget.Global);case 76:g.window.showInformationMessage('Ollama-Endpoint auf "'.concat(k,'" gesetzt.'));case 77:return e.abrupt("return",!0);case 80:return e.prev=80,e.t1=e.catch(0),g.window.showErrorMessage("Fehler bei der Ollama-Konfiguration: ".concat(e.t1.message)),e.abrupt("return",!1);case 84:case"end":return e.stop()}}),e,null,[[0,80],[24,31,35,38]])})))).apply(this,arguments)}function de(){return de=m(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(r=t.globalState.get("comittoSimpleUIPanel"))?r.reveal(g.ViewColumn.One):(r=g.window.createWebviewPanel("comittoSimpleUI","Comitto",g.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0}),t.globalState.update("comittoSimpleUIPanel",r),r.onDidDispose((function(){t.globalState.update("comittoSimpleUIPanel",void 0)}),null,t.subscriptions),r.webview.onDidReceiveMessage(function(){var e=m(d().mark((function e(t){var n,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.command,e.next="commit"===e.t0?3:"toggle"===e.t0?5:"stage"===e.t0?11:"settings"===e.t0?13:"dashboard"===e.t0?15:17;break;case 3:return g.commands.executeCommand("comitto.performManualCommit"),e.abrupt("break",17);case 5:return n=g.workspace.getConfiguration("comitto"),a=!n.get("autoCommitEnabled"),e.next=9,n.update("autoCommitEnabled",a,g.ConfigurationTarget.Global);case 9:return r.webview.html=pe(),e.abrupt("break",17);case 11:return g.commands.executeCommand("comitto.stageAll"),e.abrupt("break",17);case 13:return g.commands.executeCommand("comitto.openSettings"),e.abrupt("break",17);case 15:return g.commands.executeCommand("comitto.showDashboard"),e.abrupt("break",17);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),void 0,t.subscriptions)),r.webview.html=pe()}catch(e){g.window.showErrorMessage("Fehler beim Anzeigen der einfachen Benutzeroberfläche: ".concat(e.message))}case 1:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function pe(e){var t=g.workspace.getConfiguration("comitto"),n=t.get("autoCommitEnabled"),r=t.get("aiProvider"),a=f.getProviderDisplayName(r);return'\n    <!DOCTYPE html>\n    <html lang="de">\n    <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>Comitto</title>\n        <style>\n            body {\n                font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, Cantarell, \'Open Sans\', \'Helvetica Neue\', sans-serif;\n                padding: 15px;\n                color: var(--vscode-foreground);\n                background-color: var(--vscode-editor-background);\n            }\n            .container {\n                max-width: 400px;\n                margin: 0 auto;\n                padding: 15px;\n                border-radius: 8px;\n                background-color: var(--vscode-editor-background);\n                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n            }\n            h1 {\n                text-align: center;\n                margin-bottom: 20px;\n                color: var(--vscode-editor-foreground);\n            }\n            .status {\n                display: flex;\n                align-items: center;\n                margin-bottom: 15px;\n                padding: 10px;\n                border-radius: 5px;\n                background: '.concat(n?"rgba(0, 150, 0, 0.1)":"rgba(150, 0, 0, 0.1)",";\n            }\n            .status-indicator {\n                width: 12px;\n                height: 12px;\n                border-radius: 50%;\n                margin-right: 10px;\n                background-color: ").concat(n?"#00c853":"#ff3d00",";\n                box-shadow: 0 0 8px ").concat(n?"rgba(0, 200, 83, 0.8)":"rgba(255, 61, 0, 0.8)",";\n            }\n            .button-group {\n                display: grid;\n                grid-template-columns: 1fr 1fr;\n                gap: 10px;\n                margin-bottom: 15px;\n            }\n            button {\n                padding: 10px;\n                border: none;\n                border-radius: 5px;\n                background-color: var(--vscode-button-background);\n                color: var(--vscode-button-foreground);\n                cursor: pointer;\n                font-weight: 600;\n                transition: background-color 0.2s;\n            }\n            button:hover {\n                background-color: var(--vscode-button-hoverBackground);\n            }\n            .main-button {\n                grid-column: span 2;\n                padding: 12px;\n                background-color: #0078D4;\n                color: white;\n                font-size: 1.1em;\n            }\n            .toggle-button {\n                background-color: ").concat(n?"#e53935":"#43a047",';\n            }\n            .footer {\n                margin-top: 20px;\n                text-align: center;\n                font-size: 0.9em;\n                color: var(--vscode-descriptionForeground);\n            }\n            .info {\n                margin-top: 15px;\n                padding: 10px;\n                border-radius: 5px;\n                background-color: var(--vscode-editor-inactiveSelectionBackground);\n                font-size: 0.9em;\n            }\n        </style>\n    </head>\n    <body>\n        <div class="container">\n            <h1>Comitto</h1>\n            \n            <div class="status">\n                <div class="status-indicator"></div>\n                <div>Status: ').concat(n?"Aktiviert":"Deaktiviert",'</div>\n            </div>\n            \n            <button class="main-button" id="commitBtn">Manuelles Commit 💾</button>\n            \n            <div class="button-group">\n                <button class="toggle-button" id="toggleBtn">\n                    ').concat(n?"Deaktivieren 🚫":"Aktivieren ✅",'\n                </button>\n                <button id="stageBtn">Alle Änderungen stagen 📋</button>\n            </div>\n            \n            <div class="button-group">\n                <button id="settingsBtn">Einstellungen ⚙️</button>\n                <button id="dashboardBtn">Dashboard 📊</button>\n            </div>\n            \n            <div class="info">\n                <p><strong>KI-Provider:</strong> ').concat(a,"</p>\n            </div>\n            \n            <div class=\"footer\">\n                <p>Comitto - Automatisierte KI-Commits</p>\n            </div>\n        </div>\n        \n        <script>\n            (function() {\n                const vscode = acquireVsCodeApi();\n                \n                document.getElementById('commitBtn').addEventListener('click', () => {\n                    vscode.postMessage({ command: 'commit' });\n                });\n                \n                document.getElementById('toggleBtn').addEventListener('click', () => {\n                    vscode.postMessage({ command: 'toggle' });\n                });\n                \n                document.getElementById('stageBtn').addEventListener('click', () => {\n                    vscode.postMessage({ command: 'stage' });\n                });\n                \n                document.getElementById('settingsBtn').addEventListener('click', () => {\n                    vscode.postMessage({ command: 'settings' });\n                });\n                \n                document.getElementById('dashboardBtn').addEventListener('click', () => {\n                    vscode.postMessage({ command: 'dashboard' });\n                });\n            })();\n        <\/script>\n    </body>\n    </html>\n    ")}function me(e,t){return ge.apply(this,arguments)}function ge(){return(ge=m(d().mark((function e(t,n){var a,o,i,s,c,l,p,m,f,h,v,w,x,k;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=g.workspace.getConfiguration("comitto"),o=a.get("triggerRules"),i=[{label:"Bei Speichern auslösen",id:"onSave",picked:o.onSave,detail:"Commits werden beim Speichern ausgelöst"},{label:"Periodisch auslösen",id:"onInterval",picked:o.onInterval,detail:"Commits werden in regelmäßigen Abständen ausgelöst"},{label:"Bei Branch-Wechsel auslösen",id:"onBranchSwitch",picked:o.onBranchSwitch,detail:"Commits werden beim Wechsel des Branches ausgelöst"},{label:"Schwellenwerte konfigurieren...",id:"thresholds",detail:"Datei-Anzahl, Änderungen und Zeit konfigurieren"},{label:"Dateimuster konfigurieren...",id:"patterns",detail:"Bestimmte Dateitypen überwachen"}],e.next=6,g.window.showQuickPick(i,{placeHolder:"Trigger-Regeln konfigurieren",title:"Comitto - Trigger-Konfiguration",canPickMany:!0});case 6:if(s=e.sent){e.next=9;break}return e.abrupt("return");case 9:c=u({},o),l=r(s);try{for(l.s();!(p=l.n()).done;)m=p.value,["onSave","onInterval","onBranchSwitch"].includes(m.id)&&(c[m.id]=!0)}catch(e){l.e(e)}finally{l.f()}f=d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=v[h],s.some((function(e){return e.id===t}))||(c[t]=!1);case 2:case"end":return e.stop()}}),e)})),h=0,v=["onSave","onInterval","onBranchSwitch"];case 14:if(!(h<v.length)){e.next=19;break}return e.delegateYield(f(),"t0",16);case 16:h++,e.next=14;break;case 19:return e.next=21,a.update("triggerRules",c,g.ConfigurationTarget.Global);case 21:w=r(s),e.prev=22,w.s();case 24:if((x=w.n()).done){e.next=41;break}if("thresholds"!==(k=x.value).id){e.next=31;break}return e.next=29,configureThresholds(c);case 29:e.next=39;break;case 31:if("patterns"!==k.id){e.next=36;break}return e.next=34,configureFilePatterns(c);case 34:e.next=39;break;case 36:if("onInterval"!==k.id||!c.onInterval){e.next=39;break}return e.next=39,b("intervalMinutes","Intervall (Minuten)","z.B. 5","number");case 39:e.next=24;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(22),w.e(e.t1);case 46:return e.prev=46,w.f(),e.finish(46);case 49:n&&(n.statusProvider.refresh(),n.settingsProvider.refresh()),e.next=55;break;case 52:e.prev=52,e.t2=e.catch(0),g.window.showErrorMessage("Fehler bei der Trigger-Konfiguration: ".concat(e.t2.message));case 55:case"end":return e.stop()}}),e,null,[[0,52],[22,43,46,49]])})))).apply(this,arguments)}global.statusBarItem=null,e.exports={registerCommands:function(e,t,n,r,a,o,i){global.statusBarItem=n,global.showNotification=i,e.subscriptions.push(g.commands.registerCommand("comitto.openSettings",(function(){g.commands.executeCommand("workbench.action.openSettings","comitto")}))),e.subscriptions.push(g.commands.registerCommand("comitto.refreshSettings",(function(){t&&(t.statusProvider.refresh(),t.settingsProvider.refresh(),t.quickActionsProvider.refresh()),i("Comitto-Einstellungen wurden aktualisiert.","info")}))),e.subscriptions.push(g.commands.registerCommand("comitto.enableAutoCommit",m(d().mark((function a(){var o,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.workspace.getConfiguration("comitto").update("autoCommitEnabled",!0,g.ConfigurationTarget.Global);case 2:r(e),n.text="$(sync~spin) Comitto: Aktiv",t&&(t.statusProvider.refresh(),t.quickActionsProvider.refresh()),o=g.workspace.getConfiguration("comitto"),(s=o.get("uiSettings"))&&s.showNotifications&&i("Automatische Commits sind aktiviert.","info");case 8:case"end":return a.stop()}}),a)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.disableAutoCommit",m(d().mark((function e(){var r,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.workspace.getConfiguration("comitto").update("autoCommitEnabled",!1,g.ConfigurationTarget.Global);case 2:a(),n.text="$(git-commit) Comitto: Inaktiv",t&&(t.statusProvider.refresh(),t.quickActionsProvider.refresh()),r=g.workspace.getConfiguration("comitto"),(o=r.get("uiSettings"))&&o.showNotifications&&i("Automatische Commits sind deaktiviert.","info");case 8:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleAutoCommit",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.workspace.getConfiguration("comitto").get("autoCommitEnabled")){e.next=7;break}return e.next=5,g.commands.executeCommand("comitto.enableAutoCommit");case 5:e.next=9;break;case 7:return e.next=9,g.commands.executeCommand("comitto.disableAutoCommit");case 9:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.performManualCommit",m(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=g.workspace.getConfiguration("comitto"),n=t.get("uiSettings"),r=!0,!n||!n.confirmBeforeCommit){e.next=9;break}return e.next=7,g.window.showInformationMessage("Möchten Sie einen manuellen KI-Commit durchführen?",{modal:!0},"Ja");case 7:e.t0=e.sent,r="Ja"===e.t0;case 9:if(!r){e.next=12;break}return e.next=12,o(!0);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),i("Fehler beim manuellen Commit: ".concat(e.t1.message),"error");case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))))),e.subscriptions.push(g.commands.registerCommand("comitto.selectAiProvider",m(d().mark((function e(){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{label:"Ollama (lokal)",id:"ollama"},{label:"OpenAI",id:"openai"},{label:"Anthropic Claude",id:"anthropic"}],e.next=3,g.window.showQuickPick(n,{placeHolder:"KI-Provider auswählen",title:"Comitto - KI-Provider auswählen"});case 3:if(!(r=e.sent)){e.next=9;break}return e.next=7,g.workspace.getConfiguration("comitto").update("aiProvider",r.id,g.ConfigurationTarget.Global);case 7:t&&(t.statusProvider.refresh(),t.settingsProvider.refresh(),t.quickActionsProvider.refresh()),i('KI-Provider auf "'.concat(r.label,'" gesetzt.'),"info");case 9:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.configureOllamaSettings",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:e.sent&&t&&(t.statusProvider.refresh(),t.settingsProvider.refresh());case 4:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.selectOpenAIModel",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:t&&t.settingsProvider.refresh();case 3:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editOpenAIKey",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t&&t.settingsProvider.refresh();case 3:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.selectAnthropicModel",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t&&t.settingsProvider.refresh();case 3:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editAnthropicKey",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t&&t.settingsProvider.refresh();case 3:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editFileCountThreshold",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("fileCountThreshold","Datei-Anzahl Schwellenwert","z.B. 3","number");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editMinChangeCount",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("minChangeCount","Änderungs-Anzahl Schwellenwert","z.B. 10","number");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editTimeThreshold",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("timeThresholdMinutes","Zeit-Schwellwert (Minuten)","z.B. 30","number");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editFilePatterns",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("filePatterns","Dateimuster (kommagetrennt)","z.B. **/*.js, **/*.ts","patterns");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editSpecificFiles",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("specificFiles","Spezifische Dateien (kommagetrennt)","z.B. package.json, README.md","files");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editIntervalMinutes",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("intervalMinutes","Intervall für Intervall-Trigger (Minuten)","z.B. 15","number");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleOnSave",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("onSave","Speichern-Trigger");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleOnInterval",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("onInterval","Intervall-Trigger");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleOnBranchSwitch",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("onBranchSwitch","Branch-Wechsel-Trigger");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleAutoPush",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("autoPush","Auto-Push");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editBranch",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("branch","Branch für Commits","Leer lassen für aktuellen Branch");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.stageAll",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:t&&(t.statusProvider.refresh(),t.quickActionsProvider.refresh()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i("Fehler beim Stagen aller Änderungen: ".concat(e.t0.message),"error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))))),e.subscriptions.push(g.commands.registerCommand("comitto.stageSelected",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:t&&(t.statusProvider.refresh(),t.quickActionsProvider.refresh()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i("Fehler beim Stagen ausgewählter Änderungen: ".concat(e.t0.message),"error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))))),e.subscriptions.push(g.commands.registerCommand("comitto.selectCommitLanguage",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.selectCommitStyle",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("commitMessageStyle","Commit-Nachrichtenstil",[{label:"Conventional Commits",value:"conventional"},{label:"Gitmoji",value:"gitmoji"}]);case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleUseGitignore",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("useGitignore","Gitignore-Verwendung");case 2:return e.next=4,g.commands.getCommands(!0).then((function(e){return e.includes("comitto.internal.reloadGitignore")}));case 4:e.sent?g.commands.executeCommand("comitto.internal.reloadGitignore"):console.warn("Befehl comitto.internal.reloadGitignore nicht gefunden.");case 6:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.selectStageMode",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editStagingPatterns",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleSimpleMode",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("simpleMode","Einfacher Modus");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleConfirmBeforeCommit",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("confirmBeforeCommit","Bestätigung vor Commit");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleShowNotifications",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("showNotifications","Benachrichtigungen anzeigen");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.selectTheme",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleNotificationOnCommit",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("onCommit","Commit-Benachrichtigungen");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleNotificationOnPush",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("onPush","Push-Benachrichtigungen");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleNotificationOnError",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("onError","Fehler-Benachrichtigungen");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.toggleNotificationOnTriggerFired",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("onTriggerFired","Trigger-Benachrichtigungen");case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.editPromptTemplate",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t&&t.settingsProvider.refresh();case 3:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.showDashboard",m(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:case"end":return t.stop()}}),t)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.configureAIProvider",m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:case"end":return e.stop()}}),e)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.configureTriggers",m(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,me(e,t);case 2:case"end":return n.stop()}}),n)}))))),e.subscriptions.push(g.commands.registerCommand("comitto.showSimpleUI",(function(){!function(e,t){de.apply(this,arguments)}(e,t)})))},generateCommitMessage:function(e,t){return re.apply(this,arguments)},handleError:te}},2018:e=>{"use strict";e.exports=require("tty")},2203:e=>{"use strict";e.exports=require("stream")},2613:e=>{"use strict";e.exports=require("assert")},3106:e=>{"use strict";e.exports=require("zlib")},4434:e=>{"use strict";e.exports=require("events")},5317:e=>{"use strict";e.exports=require("child_process")},5692:e=>{"use strict";e.exports=require("https")},6928:e=>{"use strict";e.exports=require("path")},6982:e=>{"use strict";e.exports=require("crypto")},7016:e=>{"use strict";e.exports=require("url")},8611:e=>{"use strict";e.exports=require("http")},9023:e=>{"use strict";e.exports=require("util")},9896:e=>{"use strict";e.exports=require("fs")}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e](n,n.exports,o),n.exports}o.m=r,o.x=()=>{var e=o.O(void 0,[121,730],(()=>o(1449)));return o.O(e)},e=[],o.O=(t,n,r,a)=>{if(!n){var i=1/0;for(l=0;l<e.length;l++){for(var[n,r,a]=e[l],s=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,r,a]},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>(121===e?"vendor":e)+".js",o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={217:1},o.O.require=e=>n[e],o.f.require=(e,t)=>{n[e]||(e=>{var t=e.modules,r=e.ids,a=e.runtime;for(var i in t)o.o(t,i)&&(o.m[i]=t[i]);a&&a(o);for(var s=0;s<r.length;s++)n[r[s]]=1;o.O()})(require("./"+o.u(e)))},t=o.x,o.x=()=>(o.e(121),o.e(730),t());var i=o.x();module.exports=i})();
//# sourceMappingURL=commands.js.map