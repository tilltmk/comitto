{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://comitto/webpack/runtime/chunk loaded","webpack://comitto/webpack/runtime/startup chunk dependencies","webpack://comitto/webpack/runtime/require chunk loading","webpack://comitto/./extension.js","webpack://comitto/external node-commonjs \"os\"","webpack://comitto/external commonjs \"vscode\"","webpack://comitto/./commands.js","webpack://comitto/external node-commonjs \"tty\"","webpack://comitto/external node-commonjs \"stream\"","webpack://comitto/external node-commonjs \"assert\"","webpack://comitto/external node-commonjs \"zlib\"","webpack://comitto/external node-commonjs \"events\"","webpack://comitto/external node-commonjs \"child_process\"","webpack://comitto/external node-commonjs \"https\"","webpack://comitto/external node-commonjs \"path\"","webpack://comitto/external node-commonjs \"crypto\"","webpack://comitto/external node-commonjs \"url\"","webpack://comitto/external node-commonjs \"http\"","webpack://comitto/external node-commonjs \"util\"","webpack://comitto/external node-commonjs \"fs\"","webpack://comitto/webpack/bootstrap","webpack://comitto/webpack/runtime/ensure chunk","webpack://comitto/webpack/runtime/get javascript chunk filename","webpack://comitto/webpack/runtime/hasOwnProperty shorthand","webpack://comitto/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\t__webpack_require__.e(121);\n\t__webpack_require__.e(730);\n\treturn next();\n};","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"loaded\", otherwise not loaded yet\nvar installedChunks = {\n\t217: 1,\n\t606: 1\n};\n\n__webpack_require__.O.require = (chunkId) => (installedChunks[chunkId]);\n\nvar installChunk = (chunk) => {\n\tvar moreModules = chunk.modules, chunkIds = chunk.ids, runtime = chunk.runtime;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tfor(var i = 0; i < chunkIds.length; i++)\n\t\tinstalledChunks[chunkIds[i]] = 1;\n\t__webpack_require__.O();\n};\n\n// require() chunk loading for javascript\n__webpack_require__.f.require = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\tinstallChunk(require(\"./\" + __webpack_require__.u(chunkId)));\n\t\t} else installedChunks[chunkId] = 1;\n\t}\n};\n\n// no external install chunk\n\n// no HMR\n\n// no HMR manifest","const vscode = require('vscode');\r\nconst axios = require('axios');\r\nconst { exec } = require('child_process');\r\nconst path = require('path');\r\nconst fs = require('fs');\r\nconst ignore = require('ignore');\r\nconst ui = require('./ui');\r\nconst commands = require('./commands');\r\nconst { executeGitCommand, getStatusText, ComittoError, ErrorTypes, logError, getErrorLogs, withRetry, getDiagnosticInfo } = require('./utils');\r\nconst os = require('os');\r\nconst { WebviewPanel } = require('vscode');\r\n\r\n/**\r\n * @type {vscode.StatusBarItem}\r\n */\r\nlet statusBarItem;\r\n\r\n/**\r\n * @type {vscode.FileSystemWatcher}\r\n */\r\nlet fileWatcher;\r\n\r\n/**\r\n * @type {Set<string>}\r\n */\r\nlet changedFiles = new Set();\r\n\r\n/**\r\n * @type {boolean}\r\n */\r\nlet isCommitInProgress = false;\r\n\r\n/**\r\n * @type {Date|null}\r\n */\r\nlet lastCommitTime = null;\r\n\r\n/**\r\n * @type {Object}\r\n */\r\nlet gitignoreObj = null;\r\n\r\n/**\r\n * @type {Object}\r\n */\r\nlet uiProviders = null;\r\n\r\n/**\r\n * @type {NodeJS.Timeout}\r\n */\r\nlet intervalTimer = null;\r\n\r\n// Globale Variable für Debug-Logs\r\nlet debugLogs = [];\r\nconst MAX_DEBUG_LOGS = 100;\r\n\r\n/**\r\n * Fügt einen Eintrag zum Debug-Log hinzu\r\n * @param {string} message Die Nachricht\r\n * @param {string} type Der Typ des Logs (info, warning, error)\r\n */\r\nfunction addDebugLog(message, type = 'info') {\r\n    const timestamp = new Date().toISOString();\r\n    const logEntry = { timestamp, message, type };\r\n    \r\n    debugLogs.unshift(logEntry); // Am Anfang einfügen\r\n    \r\n    // Maximale Größe einhalten\r\n    if (debugLogs.length > MAX_DEBUG_LOGS) {\r\n        debugLogs = debugLogs.slice(0, MAX_DEBUG_LOGS);\r\n    }\r\n    \r\n    // In die Konsole schreiben\r\n    const consoleMethod = type === 'error' ? console.error : \r\n                         type === 'warning' ? console.warn : \r\n                         console.log;\r\n    consoleMethod(`[Comitto Debug] ${message}`);\r\n    \r\n    // Webview aktualisieren, falls das Dashboard offen ist\r\n    try {\r\n        vscode.window.webviews.forEach(webview => {\r\n            if (webview.viewType === 'comittoDashboard' && webview.visible) {\r\n                webview.postMessage({ \r\n                    type: 'debugLog', \r\n                    content: `[${type.toUpperCase()}] ${message}` \r\n                });\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error('Fehler beim Senden des Debug-Logs an das Dashboard:', error);\r\n    }\r\n}\r\n\r\n/**\r\n * Verbesserte Debug-Protokollierungsfunktion\r\n */\r\nfunction debugLog(message, category = 'allgemein', level = 'info') {\r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    if (!config.get('debug')) return;\r\n    \r\n    const timestamp = new Date().toISOString();\r\n    const formattedMessage = `[${timestamp}] [${category}] [${level}] ${message}`;\r\n    \r\n    console.log(formattedMessage);\r\n    \r\n    // Debug-Ausgabe in Ausgabekanal\r\n    if (!outputChannel) {\r\n        outputChannel = vscode.window.createOutputChannel('Comitto Debug');\r\n    }\r\n    \r\n    outputChannel.appendLine(formattedMessage);\r\n    \r\n    // Bei Fehlern das Debug-Panel anzeigen\r\n    if (level === 'error') {\r\n        outputChannel.show(true);\r\n    }\r\n    \r\n    // Optional: In Datei protokollieren\r\n    try {\r\n        const logDir = path.join(process.env.HOME || process.env.USERPROFILE, '.comitto', 'logs');\r\n        if (!fs.existsSync(logDir)) {\r\n            fs.mkdirSync(logDir, { recursive: true });\r\n        }\r\n        \r\n        const logFile = path.join(logDir, `debug_${new Date().toISOString().split('T')[0]}.log`);\r\n        fs.appendFileSync(logFile, formattedMessage + '\\n');\r\n    } catch (e) {\r\n        console.error('Fehler beim Schreiben des Debug-Protokolls:', e);\r\n    }\r\n}\r\n\r\n/**\r\n * Fehlerbehandlungsfunktion für die Erweiterung\r\n * @param {Error|ComittoError} error - Der aufgetretene Fehler\r\n * @param {string} contextMessage - Kontextbezogene Nachricht\r\n * @param {boolean} showToUser - Ob der Fehler dem Benutzer angezeigt werden soll\r\n */\r\nasync function handleError(error, contextMessage = '', showToUser = true) {\r\n    // Sicherstellen, dass wir mit einem ComittoError arbeiten\r\n    const comittoError = error instanceof ComittoError ? error : \r\n        new ComittoError(\r\n            error.message || 'Unbekannter Fehler',\r\n            ErrorTypes.UNKNOWN,\r\n            error,\r\n            { context: contextMessage }\r\n        );\r\n    \r\n    // Fehler protokollieren\r\n    logError(comittoError);\r\n    \r\n    // Debug-Ausgabe\r\n    debugLog(\r\n        `Fehler: ${comittoError.message}${contextMessage ? ' - ' + contextMessage : ''}`,\r\n        'fehler',\r\n        'error'\r\n    );\r\n    \r\n    // Detaillierte Informationen in die Konsole schreiben\r\n    console.error('Detaillierter Fehler:', comittoError.toJSON());\r\n    \r\n    // Benutzerbenachrichtigung, falls erforderlich\r\n    if (showToUser) {\r\n        const viewDetailsButton = 'Details anzeigen';\r\n        const reportButton = 'Problem melden';\r\n        \r\n        const messagePrefix = contextMessage ? `${contextMessage}: ` : '';\r\n        const userMessage = await vscode.window.showErrorMessage(\r\n            `${messagePrefix}${comittoError.message}`, \r\n            viewDetailsButton,\r\n            reportButton\r\n        );\r\n        \r\n        if (userMessage === viewDetailsButton) {\r\n            // Details in neuem Fenster anzeigen\r\n            showErrorDetails(comittoError);\r\n        } else if (userMessage === reportButton) {\r\n            // Öffne GitHub Issues oder sende Fehlerbericht\r\n            const issueBody = encodeURIComponent(\r\n                `## Fehlerbeschreibung\\n${comittoError.message}\\n\\n` +\r\n                `## Kontext\\n${contextMessage || 'Nicht angegeben'}\\n\\n` +\r\n                `## Fehlerdetails\\n\\`\\`\\`json\\n${JSON.stringify(comittoError.toJSON(), null, 2)}\\n\\`\\`\\`\\n\\n` +\r\n                `## Diagnostische Informationen\\n\\`\\`\\`json\\n${JSON.stringify(getDiagnosticInfo(), null, 2)}\\n\\`\\`\\`\\n\\n` +\r\n                `## Schritte zur Reproduktion\\n\\n` +\r\n                `## Erwartetes Verhalten\\n\\n` +\r\n                `## VSCode-Version\\n${vscode.version}\\n\\n` +\r\n                `## Comitto-Version\\n${vscode.extensions.getExtension('publisher.comitto').packageJSON.version || 'Unbekannt'}`\r\n            );\r\n            \r\n            vscode.env.openExternal(\r\n                vscode.Uri.parse(`https://github.com/publisher/comitto/issues/new?body=${issueBody}&title=Fehler: ${encodeURIComponent(comittoError.message)}`)\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Zeigt detaillierte Fehlerinformationen in einem Webview-Panel an\r\n * @param {ComittoError} error - Der anzuzeigende Fehler\r\n */\r\nfunction showErrorDetails(error) {\r\n    const panel = vscode.window.createWebviewPanel(\r\n        'comittoErrorDetails',\r\n        'Comitto Fehlerdetails',\r\n        vscode.ViewColumn.One,\r\n        {\r\n            enableScripts: true\r\n        }\r\n    );\r\n    \r\n    const diagnosticInfo = getDiagnosticInfo();\r\n    \r\n    panel.webview.html = `\r\n        <!DOCTYPE html>\r\n        <html lang=\"de\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Comitto Fehlerdetails</title>\r\n            <style>\r\n                body {\r\n                    font-family: var(--vscode-font-family);\r\n                    padding: 20px;\r\n                    color: var(--vscode-foreground);\r\n                }\r\n                h2 {\r\n                    margin-top: 20px;\r\n                    margin-bottom: 10px;\r\n                    border-bottom: 1px solid var(--vscode-editor-lineHighlightBorder);\r\n                    padding-bottom: 5px;\r\n                }\r\n                pre {\r\n                    background-color: var(--vscode-editor-background);\r\n                    padding: 15px;\r\n                    border-radius: 4px;\r\n                    overflow: auto;\r\n                }\r\n                .error-section {\r\n                    margin-bottom: 20px;\r\n                }\r\n                .label {\r\n                    font-weight: bold;\r\n                    margin-right: 10px;\r\n                }\r\n                .actions {\r\n                    margin-top: 20px;\r\n                }\r\n                button {\r\n                    background-color: var(--vscode-button-background);\r\n                    color: var(--vscode-button-foreground);\r\n                    border: none;\r\n                    padding: 8px 16px;\r\n                    border-radius: 4px;\r\n                    cursor: pointer;\r\n                    margin-right: 10px;\r\n                }\r\n                button:hover {\r\n                    background-color: var(--vscode-button-hoverBackground);\r\n                }\r\n            </style>\r\n        </head>\r\n        <body>\r\n            <h1>Fehlerdetails</h1>\r\n            \r\n            <div class=\"error-section\">\r\n                <h2>Fehlerinformationen</h2>\r\n                <div><span class=\"label\">Typ:</span> ${error.type}</div>\r\n                <div><span class=\"label\">Nachricht:</span> ${error.message}</div>\r\n                <div><span class=\"label\">Zeitstempel:</span> ${error.timestamp.toISOString()}</div>\r\n            </div>\r\n            \r\n            <div class=\"error-section\">\r\n                <h2>Fehlerkontext</h2>\r\n                <pre>${JSON.stringify(error.context, null, 2)}</pre>\r\n            </div>\r\n            \r\n            ${error.originalError ? `\r\n                <div class=\"error-section\">\r\n                    <h2>Ursprünglicher Fehler</h2>\r\n                    <div><span class=\"label\">Typ:</span> ${error.originalError.name}</div>\r\n                    <div><span class=\"label\">Nachricht:</span> ${error.originalError.message}</div>\r\n                </div>\r\n            ` : ''}\r\n            \r\n            <div class=\"error-section\">\r\n                <h2>Stack-Trace</h2>\r\n                <pre>${error.stack}</pre>\r\n            </div>\r\n            \r\n            <div class=\"error-section\">\r\n                <h2>Diagnostische Informationen</h2>\r\n                <pre>${JSON.stringify(diagnosticInfo, null, 2)}</pre>\r\n            </div>\r\n            \r\n            <div class=\"actions\">\r\n                <button id=\"copyDetails\">Details kopieren</button>\r\n                <button id=\"reportIssue\">Problem melden</button>\r\n            </div>\r\n            \r\n            <script>\r\n                const vscode = acquireVsCodeApi();\r\n                \r\n                document.getElementById('copyDetails').addEventListener('click', () => {\r\n                    const errorDetails = ${JSON.stringify(JSON.stringify({\r\n                        error: error.toJSON(),\r\n                        diagnosticInfo\r\n                    }, null, 2))};\r\n                    vscode.postMessage({\r\n                        command: 'copyToClipboard',\r\n                        text: errorDetails\r\n                    });\r\n                });\r\n                \r\n                document.getElementById('reportIssue').addEventListener('click', () => {\r\n                    vscode.postMessage({\r\n                        command: 'reportIssue',\r\n                        error: ${JSON.stringify(error.toJSON())}\r\n                    });\r\n                });\r\n            </script>\r\n        </body>\r\n        </html>\r\n    `;\r\n    \r\n    panel.webview.onDidReceiveMessage(\r\n        message => {\r\n            switch (message.command) {\r\n                case 'copyToClipboard':\r\n                    vscode.env.clipboard.writeText(message.text);\r\n                    vscode.window.showInformationMessage('Fehlerdetails wurden in die Zwischenablage kopiert');\r\n                    break;\r\n                case 'reportIssue':\r\n                    const issueBody = encodeURIComponent(\r\n                        `## Fehlerbeschreibung\\n${error.message}\\n\\n` +\r\n                        `## Fehlerdetails\\n\\`\\`\\`json\\n${JSON.stringify(error.toJSON(), null, 2)}\\n\\`\\`\\`\\n\\n` +\r\n                        `## Diagnostische Informationen\\n\\`\\`\\`json\\n${JSON.stringify(diagnosticInfo, null, 2)}\\n\\`\\`\\`\\n\\n` +\r\n                        `## Schritte zur Reproduktion\\n\\n` +\r\n                        `## Erwartetes Verhalten\\n\\n` +\r\n                        `## VSCode-Version\\n${vscode.version}\\n\\n` +\r\n                        `## Comitto-Version\\n${vscode.extensions.getExtension('publisher.comitto').packageJSON.version || 'Unbekannt'}`\r\n                    );\r\n                    \r\n                    vscode.env.openExternal(\r\n                        vscode.Uri.parse(`https://github.com/publisher/comitto/issues/new?body=${issueBody}&title=Fehler: ${encodeURIComponent(error.message)}`)\r\n                    );\r\n                    break;\r\n            }\r\n        },\r\n        undefined,\r\n        undefined\r\n    );\r\n}\r\n\r\n/**\r\n * Zeigt eine Liste der neuesten Fehlerprotokolle an\r\n */\r\nfunction showErrorLogs() {\r\n    const logs = getErrorLogs();\r\n    \r\n    const panel = vscode.window.createWebviewPanel(\r\n        'comittoErrorLogs',\r\n        'Comitto Fehlerprotokolle',\r\n        vscode.ViewColumn.One,\r\n        {\r\n            enableScripts: true\r\n        }\r\n    );\r\n    \r\n    panel.webview.html = `\r\n        <!DOCTYPE html>\r\n        <html lang=\"de\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Comitto Fehlerprotokolle</title>\r\n            <style>\r\n                body {\r\n                    font-family: var(--vscode-font-family);\r\n                    padding: 20px;\r\n                    color: var(--vscode-foreground);\r\n                }\r\n                h1 {\r\n                    margin-bottom: 20px;\r\n                }\r\n                .log-entry {\r\n                    margin-bottom: 20px;\r\n                    padding: 15px;\r\n                    background-color: var(--vscode-editor-background);\r\n                    border-radius: 4px;\r\n                    border-left: 4px solid #e74c3c;\r\n                }\r\n                .log-entry-header {\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n                    margin-bottom: 10px;\r\n                }\r\n                .log-type {\r\n                    font-weight: bold;\r\n                    color: #e74c3c;\r\n                }\r\n                .log-timestamp {\r\n                    color: var(--vscode-descriptionForeground);\r\n                }\r\n                .log-message {\r\n                    margin-bottom: 10px;\r\n                }\r\n                .log-details-button {\r\n                    background: none;\r\n                    border: 1px solid var(--vscode-button-background);\r\n                    color: var(--vscode-button-background);\r\n                    padding: 4px 8px;\r\n                    border-radius: 4px;\r\n                    cursor: pointer;\r\n                }\r\n                .log-details {\r\n                    display: none;\r\n                    margin-top: 10px;\r\n                    padding: 10px;\r\n                    background-color: var(--vscode-editor-inactiveSelectionBackground);\r\n                    border-radius: 4px;\r\n                }\r\n                .log-details pre {\r\n                    white-space: pre-wrap;\r\n                    word-break: break-all;\r\n                }\r\n                .actions {\r\n                    margin-top: 20px;\r\n                }\r\n                button {\r\n                    background-color: var(--vscode-button-background);\r\n                    color: var(--vscode-button-foreground);\r\n                    border: none;\r\n                    padding: 8px 16px;\r\n                    border-radius: 4px;\r\n                    cursor: pointer;\r\n                    margin-right: 10px;\r\n                }\r\n                button:hover {\r\n                    background-color: var(--vscode-button-hoverBackground);\r\n                }\r\n                .no-logs {\r\n                    margin: 30px 0;\r\n                    text-align: center;\r\n                    font-style: italic;\r\n                    color: var(--vscode-descriptionForeground);\r\n                }\r\n            </style>\r\n        </head>\r\n        <body>\r\n            <h1>Fehlerprotokolle</h1>\r\n            \r\n            ${logs.length === 0 ? \r\n                '<div class=\"no-logs\">Keine Fehlerprotokolle vorhanden</div>' : \r\n                logs.map((log, index) => `\r\n                    <div class=\"log-entry\">\r\n                        <div class=\"log-entry-header\">\r\n                            <span class=\"log-type\">${log.type}</span>\r\n                            <span class=\"log-timestamp\">${log.timestamp}</span>\r\n                        </div>\r\n                        <div class=\"log-message\">${log.message}</div>\r\n                        <button class=\"log-details-button\" onclick=\"toggleDetails(${index})\">Details anzeigen</button>\r\n                        <div id=\"details-${index}\" class=\"log-details\">\r\n                            <pre>${JSON.stringify(log, null, 2)}</pre>\r\n                        </div>\r\n                    </div>\r\n                `).join('')\r\n            }\r\n            \r\n            <div class=\"actions\">\r\n                <button id=\"clearLogs\">Protokolle löschen</button>\r\n                <button id=\"exportLogs\">Protokolle exportieren</button>\r\n            </div>\r\n            \r\n            <script>\r\n                const vscode = acquireVsCodeApi();\r\n                \r\n                function toggleDetails(index) {\r\n                    const details = document.getElementById('details-' + index);\r\n                    const button = details.previousElementSibling;\r\n                    \r\n                    if (details.style.display === 'block') {\r\n                        details.style.display = 'none';\r\n                        button.textContent = 'Details anzeigen';\r\n                    } else {\r\n                        details.style.display = 'block';\r\n                        button.textContent = 'Details ausblenden';\r\n                    }\r\n                }\r\n                \r\n                document.getElementById('clearLogs').addEventListener('click', () => {\r\n                    vscode.postMessage({\r\n                        command: 'clearLogs'\r\n                    });\r\n                });\r\n                \r\n                document.getElementById('exportLogs').addEventListener('click', () => {\r\n                    vscode.postMessage({\r\n                        command: 'exportLogs',\r\n                        logs: ${JSON.stringify(logs)}\r\n                    });\r\n                });\r\n            </script>\r\n        </body>\r\n        </html>\r\n    `;\r\n    \r\n    panel.webview.onDidReceiveMessage(\r\n        message => {\r\n            switch (message.command) {\r\n                case 'clearLogs':\r\n                    clearErrorLogs();\r\n                    vscode.window.showInformationMessage('Fehlerprotokolle wurden gelöscht');\r\n                    panel.dispose();\r\n                    break;\r\n                case 'exportLogs':\r\n                    vscode.window.showSaveDialog({\r\n                        defaultUri: vscode.Uri.file(path.join(os.homedir(), 'comitto_error_logs.json')),\r\n                        filters: {\r\n                            'JSON-Dateien': ['json']\r\n                        }\r\n                    }).then(fileUri => {\r\n                        if (fileUri) {\r\n                            fs.writeFileSync(fileUri.fsPath, JSON.stringify(message.logs, null, 2));\r\n                            vscode.window.showInformationMessage(`Fehlerprotokolle wurden nach ${fileUri.fsPath} exportiert`);\r\n                        }\r\n                    });\r\n                    break;\r\n            }\r\n        },\r\n        undefined,\r\n        undefined\r\n    );\r\n}\r\n\r\n/**\r\n * Hauptaktivierungsfunktion der Erweiterung.\r\n * @param {vscode.ExtensionContext} context\r\n */\r\nasync function activate(context) {\r\n    try {\r\n        debugLog('Comitto-Erweiterung wird aktiviert', 'aktivierung', 'info');\r\n        \r\n        addDebugLog('Die Erweiterung \"comitto\" wird aktiviert.', 'info');\r\n\r\n        // Sicherstellen, dass das Ressourcenverzeichnis existiert\r\n        ensureResourceDirs(context);\r\n\r\n        // UI-Komponenten registrieren\r\n        uiProviders = ui.registerUI(context);\r\n\r\n        // Statusleistenelement erstellen\r\n        statusBarItem = vscode.window.createStatusBarItem(vscode.StatusBarAlignment.Left, 100);\r\n        statusBarItem.text = \"$(git-commit) Comitto: Initialisiere...\";\r\n        statusBarItem.tooltip = \"Comitto: Klicke zum Aktivieren/Deaktivieren oder manuellen Commit\";\r\n        statusBarItem.command = \"comitto.toggleAutoCommit\"; // Standardaktion\r\n        context.subscriptions.push(statusBarItem);\r\n        statusBarItem.show();\r\n\r\n        // Git-Status prüfen und Kontext setzen\r\n        const hasGit = await checkGitRepository(context);\r\n        vscode.commands.executeCommand('setContext', 'workspaceHasGit', hasGit);\r\n        \r\n        if (hasGit) {\r\n            addDebugLog('Git-Repository gefunden.', 'info');\r\n        } else {\r\n            addDebugLog('Kein Git-Repository gefunden. Einige Funktionen sind deaktiviert.', 'warning');\r\n        }\r\n\r\n        // Befehle zentral registrieren und Abhängigkeiten übergeben\r\n        commands.registerCommands(\r\n            context,\r\n            uiProviders,\r\n            statusBarItem,\r\n            setupFileWatcher,       // Funktion übergeben\r\n            disableFileWatcher,     // Funktion übergeben\r\n            performAutoCommit,      // Funktion übergeben\r\n            showNotification        // Funktion übergeben\r\n        );\r\n        \r\n        // .gitignore einlesen, wenn vorhanden und konfiguriert\r\n        loadGitignore();\r\n\r\n        // Initialen Status setzen und FileSystemWatcher/Timer ggf. starten\r\n        const config = vscode.workspace.getConfiguration('comitto');\r\n        if (config.get('autoCommitEnabled') && hasGit) {\r\n            setupFileWatcher(context);\r\n            statusBarItem.text = \"$(sync~spin) Comitto: Aktiv\";\r\n            addDebugLog('Comitto wurde automatisch aktiviert.', 'info');\r\n        } else if (!hasGit) {\r\n            statusBarItem.text = \"$(warning) Comitto: Kein Git-Repo\";\r\n            statusBarItem.tooltip = \"Kein Git-Repository im aktuellen Workspace gefunden\";\r\n            statusBarItem.command = undefined; // Keine Aktion bei Klick\r\n        } else {\r\n            statusBarItem.text = \"$(git-commit) Comitto: Inaktiv\";\r\n        }\r\n\r\n        // Debugging-Befehle registrieren\r\n        context.subscriptions.push(\r\n            vscode.commands.registerCommand('comitto.showErrorLogs', showErrorLogs),\r\n            vscode.commands.registerCommand('comitto.openDebugConsole', () => {\r\n                if (!outputChannel) {\r\n                    outputChannel = vscode.window.createOutputChannel('Comitto Debug');\r\n                }\r\n                outputChannel.show();\r\n            }),\r\n            vscode.commands.registerCommand('comitto.diagnosticInfo', async () => {\r\n                const info = getDiagnosticInfo();\r\n                const panel = vscode.window.createWebviewPanel(\r\n                    'comittoDiagnostics',\r\n                    'Comitto Diagnose',\r\n                    vscode.ViewColumn.One,\r\n                    { enableScripts: true }\r\n                );\r\n                \r\n                panel.webview.html = `\r\n                    <!DOCTYPE html>\r\n                    <html lang=\"de\">\r\n                    <head>\r\n                        <meta charset=\"UTF-8\">\r\n                        <title>Comitto Diagnose</title>\r\n                        <style>\r\n                            body { padding: 20px; font-family: var(--vscode-font-family); }\r\n                            pre { background-color: var(--vscode-editor-background); padding: 15px; }\r\n                            button {\r\n                                background-color: var(--vscode-button-background);\r\n                                color: var(--vscode-button-foreground);\r\n                                border: none;\r\n                                padding: 8px 16px;\r\n                                border-radius: 4px;\r\n                                cursor: pointer;\r\n                                margin-right: 10px;\r\n                            }\r\n                        </style>\r\n                    </head>\r\n                    <body>\r\n                        <h1>Comitto Diagnose</h1>\r\n                        <pre>${JSON.stringify(info, null, 2)}</pre>\r\n                        <button id=\"copyBtn\">In Zwischenablage kopieren</button>\r\n                        \r\n                        <script>\r\n                            const vscode = acquireVsCodeApi();\r\n                            document.getElementById('copyBtn').addEventListener('click', () => {\r\n                                vscode.postMessage({ command: 'copy', data: ${JSON.stringify(JSON.stringify(info, null, 2))} });\r\n                            });\r\n                        </script>\r\n                    </body>\r\n                    </html>\r\n                `;\r\n                \r\n                panel.webview.onDidReceiveMessage(message => {\r\n                    if (message.command === 'copy') {\r\n                        vscode.env.clipboard.writeText(message.data);\r\n                        vscode.window.showInformationMessage('Diagnostische Informationen in die Zwischenablage kopiert');\r\n                    }\r\n                });\r\n            })\r\n        );\r\n        \r\n        // Automatische Hintergrundüberwachung einrichten\r\n        setupAutoBackgroundMonitoring(context);\r\n        \r\n        // Eventuell kurze Verzögerung für initiale UI-Aktualisierung\r\n        setTimeout(() => {\r\n            if (uiProviders) {\r\n                uiProviders.statusProvider.refresh();\r\n                uiProviders.settingsProvider.refresh();\r\n                uiProviders.quickActionsProvider.refresh();\r\n            }\r\n        }, 1500);\r\n\r\n        // Willkommensnachricht anzeigen (einmalig)\r\n        showWelcomeNotification(context);\r\n\r\n        debugLog('Comitto-Erweiterung erfolgreich aktiviert', 'aktivierung', 'info');\r\n    } catch (error) {\r\n        handleError(error, 'Fehler beim Aktivieren der Erweiterung', true);\r\n    }\r\n}\r\n\r\n/**\r\n * Prüft, ob im Workspace ein Git-Repository vorhanden ist.\r\n * @param {vscode.ExtensionContext} context\r\n * @returns {Promise<boolean>}\r\n */\r\nasync function checkGitRepository(context) {\r\n    const workspaceFolders = vscode.workspace.workspaceFolders;\r\n    if (!workspaceFolders || workspaceFolders.length === 0) {\r\n        return false;\r\n    }\r\n    const repoPath = workspaceFolders[0].uri.fsPath;\r\n    try {\r\n        await executeGitCommand('git rev-parse --is-inside-work-tree', repoPath);\r\n        console.log('Git-Repository gefunden.');\r\n        return true;\r\n    } catch (error) {\r\n        console.log('Kein Git-Repository gefunden oder Git nicht verfügbar.');\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * Stellt sicher, dass die notwendigen Ressourcenverzeichnisse existieren.\r\n * @param {vscode.ExtensionContext} context \r\n */\r\nfunction ensureResourceDirs(context) {\r\n    const dirsToEnsure = ['resources', 'resources/ui'];\r\n    dirsToEnsure.forEach(dir => {\r\n        const dirPath = vscode.Uri.joinPath(context.extensionUri, dir).fsPath;\r\n        if (!fs.existsSync(dirPath)) {\r\n            try {\r\n                fs.mkdirSync(dirPath, { recursive: true });\r\n                console.log(`Verzeichnis erstellt: ${dirPath}`);\r\n            } catch (error) {\r\n                console.error(`Fehler beim Erstellen des Verzeichnisses ${dirPath}:`, error);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Zeigt eine Willkommensnachricht beim ersten Start nach einer Installation/Update.\r\n * @param {vscode.ExtensionContext} context\r\n */\r\nfunction showWelcomeNotification(context) {\r\n    const currentVersion = context.extension.packageJSON.version;\r\n    const previousVersion = context.globalState.get('comitto.version');\r\n\r\n    if (previousVersion !== currentVersion) {\r\n        // Nach erstem Start oder Update anzeigen\r\n        vscode.window.showInformationMessage(\r\n            `Comitto v${currentVersion} wurde aktiviert! Konfigurieren Sie es über die Seitenleiste.`,\r\n            'Seitenleiste öffnen', 'Changelog anzeigen'\r\n        ).then(selection => {\r\n            if (selection === 'Seitenleiste öffnen') {\r\n                vscode.commands.executeCommand('workbench.view.extension.comitto-sidebar');\r\n            } else if (selection === 'Changelog anzeigen') {\r\n                // Prüfen, ob die Nachricht bereits angezeigt wurde\r\n                const hasShownWelcome = context.globalState.get('comitto.hasShownWelcome', false);\r\n                if (!hasShownWelcome) {\r\n                    vscode.window.showInformationMessage(\r\n                        'Comitto wurde aktiviert! Öffnen Sie die Comitto-Seitenleiste über das Icon in der Activity Bar.',\r\n                        'Öffnen', 'Nicht mehr anzeigen'\r\n                    ).then(selection => {\r\n                        if (selection === 'Öffnen') {\r\n                            vscode.commands.executeCommand('comitto-sidebar.focus');\r\n                        } else if (selection === 'Nicht mehr anzeigen') {\r\n                            context.globalState.update('comitto.hasShownWelcome', true);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        // Version speichern\r\n        context.globalState.update('comitto.version', currentVersion);\r\n    }\r\n\r\n    // Status der UI anzeigen\r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    const uiSettings = config.get('uiSettings');\r\n    \r\n    if (uiSettings.showNotifications) {\r\n        setTimeout(() => {\r\n            if (vscode.window.activeTextEditor) {\r\n                vscode.window.showInformationMessage(\r\n                    'Comitto ist bereit! Verwenden Sie die Seitenleiste oder das $(git-commit) Symbol in der Statusleiste.',\r\n                    'Einstellungen öffnen', 'Dashboard anzeigen'\r\n                ).then(selection => {\r\n                    if (selection === 'Einstellungen öffnen') {\r\n                        vscode.commands.executeCommand('comitto.openSettings');\r\n                    } else if (selection === 'Dashboard anzeigen') {\r\n                        vscode.commands.executeCommand('comitto.showDashboard');\r\n                    }\r\n                });\r\n            }\r\n        }, 2000);\r\n    }\r\n}\r\n\r\n/**\r\n * .gitignore-Datei laden und Parser erstellen\r\n */\r\nfunction loadGitignore() {\r\n    const workspaceFolders = vscode.workspace.workspaceFolders;\r\n    if (!workspaceFolders) return;\r\n\r\n    const gitSettings = vscode.workspace.getConfiguration('comitto').get('gitSettings');\r\n    if (!gitSettings.useGitignore) {\r\n        gitignoreObj = null;\r\n        return;\r\n    }\r\n\r\n    const repoPath = gitSettings.repositoryPath || workspaceFolders[0].uri.fsPath;\r\n    const gitignorePath = path.join(repoPath, '.gitignore');\r\n    \r\n    try {\r\n        if (fs.existsSync(gitignorePath)) {\r\n            const gitignoreContent = fs.readFileSync(gitignorePath, 'utf8');\r\n            gitignoreObj = ignore().add(gitignoreContent);\r\n        } else {\r\n            gitignoreObj = null;\r\n        }\r\n    } catch (error) {\r\n        console.error('Fehler beim Laden der .gitignore-Datei:', error);\r\n        gitignoreObj = null;\r\n    }\r\n}\r\n\r\n/**\r\n * FileSystemWatcher konfigurieren\r\n * @param {vscode.ExtensionContext} context\r\n */\r\nfunction setupFileWatcher(context) {\r\n    // Vorhandenen Watcher deaktivieren\r\n    disableFileWatcher();\r\n\r\n    // Neuen Watcher erstellen\r\n    const workspaceFolders = vscode.workspace.workspaceFolders;\r\n    if (!workspaceFolders) {\r\n        vscode.window.showErrorMessage('Comitto: Kein Workspace gefunden.');\r\n        return;\r\n    }\r\n\r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    const triggerRules = config.get('triggerRules');\r\n    const filePatterns = triggerRules.filePatterns || ['**/*'];\r\n\r\n    fileWatcher = vscode.workspace.createFileSystemWatcher(filePatterns.length === 1 ? filePatterns[0] : '{' + filePatterns.join(',') + '}');\r\n    \r\n    // Auf Dateiereignisse reagieren\r\n    fileWatcher.onDidChange(uri => {\r\n        if (!isFileIgnored(uri.fsPath)) {\r\n            changedFiles.add(uri.fsPath);\r\n            checkCommitTrigger();\r\n        }\r\n    });\r\n    \r\n    fileWatcher.onDidCreate(uri => {\r\n        if (!isFileIgnored(uri.fsPath)) {\r\n            changedFiles.add(uri.fsPath);\r\n            checkCommitTrigger();\r\n        }\r\n    });\r\n    \r\n    fileWatcher.onDidDelete(uri => {\r\n        if (!isFileIgnored(uri.fsPath)) {\r\n            changedFiles.add(uri.fsPath);\r\n            checkCommitTrigger();\r\n        }\r\n    });\r\n\r\n    context.subscriptions.push(fileWatcher);\r\n\r\n    // Interval-Timer einrichten, falls aktiviert\r\n    if (triggerRules.onInterval) {\r\n        setupIntervalTrigger(triggerRules.intervalMinutes);\r\n    }\r\n}\r\n\r\n/**\r\n * Richtet einen Interval-Trigger für automatische Commits ein\r\n * @param {number} minutes Intervall in Minuten\r\n */\r\nfunction setupIntervalTrigger(minutes) {\r\n    // Bestehenden Timer löschen\r\n    if (intervalTimer) {\r\n        clearInterval(intervalTimer);\r\n        intervalTimer = null;\r\n    }\r\n    \r\n    // Neuen Timer einrichten\r\n    if (minutes > 0) {\r\n        const intervalMs = minutes * 60 * 1000;\r\n        intervalTimer = setInterval(() => {\r\n            if (vscode.workspace.getConfiguration('comitto').get('autoCommitEnabled') && changedFiles.size > 0) {\r\n                const notificationSettings = vscode.workspace.getConfiguration('comitto').get('notifications');\r\n                if (notificationSettings.onTriggerFired) {\r\n                    showNotification('Intervall-Trigger aktiviert. Prüfe auf ausstehende Commits...', 'info');\r\n                }\r\n                checkCommitTrigger();\r\n            }\r\n        }, intervalMs);\r\n    }\r\n}\r\n\r\n/**\r\n * FileSystemWatcher deaktivieren\r\n */\r\nfunction disableFileWatcher() {\r\n    if (fileWatcher) {\r\n        fileWatcher.dispose();\r\n        fileWatcher = null;\r\n    }\r\n    \r\n    // Interval-Timer deaktivieren\r\n    if (intervalTimer) {\r\n        clearInterval(intervalTimer);\r\n        intervalTimer = null;\r\n    }\r\n    \r\n    changedFiles.clear();\r\n}\r\n\r\n/**\r\n * Überprüft, ob eine Datei ignoriert werden soll\r\n * @param {string} filePath Dateipfad\r\n * @returns {boolean}\r\n */\r\nfunction isFileIgnored(filePath) {\r\n    // Standardmäßig node_modules und .git ausschließen\r\n    if (filePath.includes('node_modules') || filePath.includes('.git')) {\r\n        return true;\r\n    }\r\n\r\n    // .gitignore-Regeln prüfen, wenn verfügbar\r\n    if (gitignoreObj) {\r\n        const workspaceFolders = vscode.workspace.workspaceFolders;\r\n        if (workspaceFolders) {\r\n            const relativePath = path.relative(workspaceFolders[0].uri.fsPath, filePath)\r\n                .replace(/\\\\/g, '/');  // Pfadtrennzeichen normalisieren\r\n            \r\n            return gitignoreObj.ignores(relativePath);\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n * Prüft, ob die Bedingungen für ein Auto-Commit erfüllt sind\r\n */\r\nfunction checkCommitTrigger() {\r\n    // Wenn bereits ein Commit-Vorgang läuft, abbrechen\r\n    if (isCommitInProgress) {\r\n        return;\r\n    }\r\n\r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    const rules = config.get('triggerRules');\r\n\r\n    // Prüfen, ob bestimmte Dateien geändert wurden\r\n    const specificFiles = rules.specificFiles || [];\r\n    const hasSpecificFileChanged = specificFiles.length > 0 && \r\n        specificFiles.some(file => [...changedFiles].some(changed => changed.includes(file)));\r\n\r\n    // Prüfen, ob die Mindestanzahl an Änderungen erreicht wurde\r\n    const hasMinChanges = changedFiles.size >= (rules.minChangeCount || 10);\r\n\r\n    // Prüfen, ob die Anzahl der geänderten Dateien den Schwellwert überschreitet\r\n    const hasFileThreshold = changedFiles.size >= (rules.fileCountThreshold || 3);\r\n\r\n    // Prüfen, ob genug Zeit seit dem letzten Commit vergangen ist\r\n    const timeThresholdMinutes = rules.timeThresholdMinutes || 30;\r\n    const timeThresholdMs = timeThresholdMinutes * 60 * 1000;\r\n    const hasTimeThresholdPassed = !lastCommitTime || \r\n        (Date.now() - lastCommitTime.getTime() >= timeThresholdMs);\r\n\r\n    // Commit auslösen, wenn die Bedingungen erfüllt sind\r\n    if (hasTimeThresholdPassed && (hasSpecificFileChanged || hasMinChanges || hasFileThreshold)) {\r\n        performAutoCommit();\r\n    }\r\n}\r\n\r\n/**\r\n * Führt den automatischen Commit-Prozess durch\r\n * @param {boolean} isManualTrigger Gibt an, ob der Commit manuell ausgelöst wurde\r\n * @param {number} retryCount Anzahl der bisherigen Versuche (für Retry-Logik)\r\n */\r\nasync function performAutoCommit(isManualTrigger = false, retryCount = 0) {\r\n    // Maximale Anzahl an Wiederholungsversuchen\r\n    const MAX_RETRIES = 3;\r\n    \r\n    try {\r\n        isCommitInProgress = true;\r\n        statusBarItem.text = \"$(sync~spin) Comitto: Commit wird vorbereitet...\";\r\n\r\n        // Git-Repository-Pfad bestimmen\r\n        const workspaceFolders = vscode.workspace.workspaceFolders;\r\n        if (!workspaceFolders) {\r\n            throw new Error('Kein Workspace gefunden.');\r\n        }\r\n\r\n        const config = vscode.workspace.getConfiguration('comitto');\r\n        const gitSettings = config.get('gitSettings');\r\n        const repoPath = gitSettings.repositoryPath || workspaceFolders[0].uri.fsPath;\r\n        \r\n        try {\r\n            // Prüfen, ob Git initialisiert ist\r\n            try {\r\n                await executeGitCommand('git rev-parse --is-inside-work-tree', repoPath);\r\n            } catch (error) {\r\n                throw new Error('Kein Git-Repository gefunden. Bitte initialisieren Sie zuerst ein Git-Repository.');\r\n            }\r\n            \r\n            // Dateien zum Staging hinzufügen\r\n            try {\r\n                await stageChanges(gitSettings.stageMode);\r\n            } catch (stageError) {\r\n                console.error('Fehler beim Stagen der Änderungen:', stageError);\r\n                showNotification(`Fehler beim Stagen: ${stageError.message}. Versuche Fallback-Methode...`, 'warning');\r\n                \r\n                // Fallback: Alle Änderungen stagen\r\n                await executeGitCommand('git add .', repoPath);\r\n            }\r\n            \r\n            // git status ausführen, um Änderungen zu erhalten\r\n            let gitStatus = '';\r\n            try {\r\n                gitStatus = await executeGitCommand('git status --porcelain', repoPath);\r\n            } catch (statusError) {\r\n                // Wenn git status fehlschlägt, versuchen wir es trotzdem weiter\r\n                console.warn('Fehler bei git status, versuche trotzdem fortzufahren:', statusError);\r\n                gitStatus = \"Fehler beim Abrufen des Status. Commit wird trotzdem versucht.\";\r\n            }\r\n            \r\n            if (!gitStatus.trim() && !isManualTrigger) {\r\n                isCommitInProgress = false;\r\n                statusBarItem.text = \"$(sync~spin) Comitto: Aktiv\";\r\n                changedFiles.clear();\r\n                return;\r\n            } else if (!gitStatus.trim() && isManualTrigger) {\r\n                throw new Error('Keine Änderungen zum Committen gefunden.');\r\n            }\r\n\r\n            // Änderungen abrufen für KI-Commit-Nachricht\r\n            let diffOutput = '';\r\n            try {\r\n                statusBarItem.text = \"$(sync~spin) Comitto: Diff wird berechnet...\";\r\n                diffOutput = await executeGitCommand('git diff --cached', repoPath);\r\n            } catch (diffError) {\r\n                // Bei Pufferüberlauf oder anderen Diff-Fehlern trotzdem weitermachen\r\n                console.warn('Fehler beim Abrufen des Diffs, versuche alternative Methode:', diffError);\r\n                \r\n                try {\r\n                    // Nur Liste der geänderten Dateien abrufen\r\n                    const fileList = await executeGitCommand('git diff --cached --name-status', repoPath);\r\n                    diffOutput = 'Diff konnte nicht vollständig abgerufen werden.\\nGeänderte Dateien:\\n' + fileList;\r\n                } catch (fileListError) {\r\n                    console.error('Auch die Dateiliste konnte nicht abgerufen werden:', fileListError);\r\n                    diffOutput = 'Diff-Inhalt konnte nicht abgerufen werden. Commit wird trotzdem versucht.';\r\n                }\r\n            }\r\n            \r\n            // Commit-Nachricht generieren\r\n            statusBarItem.text = \"$(sync~spin) Comitto: Generiere Commit-Nachricht...\";\r\n            let commitMessage = '';\r\n            \r\n            try {\r\n                commitMessage = await commands.generateCommitMessage(gitStatus, diffOutput);\r\n            } catch (messageError) {\r\n                console.error('Fehler bei der Commit-Nachricht-Generierung:', messageError);\r\n                \r\n                // Fallback-Nachricht mit Datum\r\n                const now = new Date();\r\n                const dateStr = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\r\n                const timeStr = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;\r\n                \r\n                const gitSettings = config.get('gitSettings');\r\n                const language = gitSettings.commitMessageLanguage || 'en';\r\n                const style = gitSettings.commitMessageStyle || 'conventional';\r\n                \r\n                if (language === 'de') {\r\n                    commitMessage = style === 'conventional' ? \r\n                        `chore: Automatischer Commit vom ${dateStr} ${timeStr}` : \r\n                        `💾 Automatischer Commit vom ${dateStr} ${timeStr}`;\r\n                } else {\r\n                    commitMessage = style === 'conventional' ? \r\n                        `chore: automatic commit ${dateStr} ${timeStr}` : \r\n                        `💾 Automatic commit ${dateStr} ${timeStr}`;\r\n                }\r\n            }\r\n            \r\n            if (!commitMessage || commitMessage.trim().length === 0) {\r\n                commitMessage = \"chore: auto commit\";\r\n            }\r\n            \r\n            // Branch-Handling\r\n            try {\r\n                if (gitSettings.branch) {\r\n                    statusBarItem.text = \"$(sync~spin) Comitto: Prüfe Branch...\";\r\n                    \r\n                    // Aktuelle Branch bestimmen\r\n                    const currentBranch = (await executeGitCommand('git rev-parse --abbrev-ref HEAD', repoPath)).trim();\r\n                    \r\n                    // Nur wechseln, wenn nicht bereits auf dem Ziel-Branch\r\n                    if (currentBranch !== gitSettings.branch) {\r\n                        // Prüfen, ob der Branch existiert\r\n                        const branches = await executeGitCommand('git branch', repoPath);\r\n                        const branchExists = branches.includes(gitSettings.branch);\r\n                        \r\n                        if (branchExists) {\r\n                            // Zu existierendem Branch wechseln\r\n                            try {\r\n                                await executeGitCommand(`git checkout ${gitSettings.branch}`, repoPath);\r\n                                showNotification(`Zu Branch '${gitSettings.branch}' gewechselt.`, 'info');\r\n                            } catch (checkoutError) {\r\n                                // Fehler beim Checkout - möglicherweise ungespeicherte Änderungen\r\n                                showNotification(`Fehler beim Wechseln zu Branch '${gitSettings.branch}': ${checkoutError.message}. Fortfahren mit aktuellem Branch.`, 'warning');\r\n                            }\r\n                        } else {\r\n                            // Neuen Branch erstellen und wechseln\r\n                            try {\r\n                                await executeGitCommand(`git checkout -b ${gitSettings.branch}`, repoPath);\r\n                                showNotification(`Branch '${gitSettings.branch}' erstellt und ausgecheckt.`, 'info');\r\n                            } catch (createBranchError) {\r\n                                showNotification(`Fehler beim Erstellen des Branches '${gitSettings.branch}': ${createBranchError.message}. Fortfahren mit aktuellem Branch.`, 'warning');\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } catch (branchError) {\r\n                console.error('Fehler beim Branch-Handling:', branchError);\r\n                showNotification(`Fehler bei der Branch-Verwaltung: ${branchError.message}. Fortfahren mit aktuellem Branch.`, 'warning');\r\n            }\r\n            \r\n            // Git Commit durchführen\r\n            statusBarItem.text = \"$(sync~spin) Comitto: Führe Commit aus...\";\r\n            \r\n            try {\r\n                // Escapte Anführungszeichen für Shell\r\n                const escapedMessage = commitMessage.replace(/\"/g, '\\\\\"').replace(/`/g, \"'\");\r\n                await executeGitCommand(`git commit -m \"${escapedMessage}\"`, repoPath);\r\n                \r\n                // Benachrichtigungen anzeigen basierend auf den Einstellungen\r\n                const notificationSettings = config.get('notifications');\r\n                \r\n                if (!isManualTrigger && notificationSettings.onCommit) {\r\n                    showNotification(`Automatischer Commit durchgeführt: ${commitMessage}`, 'info');\r\n                } else if (isManualTrigger) {\r\n                    showNotification(`Manueller Commit durchgeführt: ${commitMessage}`, 'info');\r\n                }\r\n                \r\n                // Reset der Änderungsverfolgung\r\n                lastCommitTime = new Date();\r\n                changedFiles.clear();\r\n            } catch (commitError) {\r\n                console.error('Commit fehlgeschlagen:', commitError);\r\n                \r\n                // Wenn nichts zum Committen da ist, ist das kein echter Fehler\r\n                if (commitError.message.includes('nothing to commit')) {\r\n                    showNotification('Keine Änderungen zum Committen gefunden.', 'info');\r\n                    isCommitInProgress = false;\r\n                    statusBarItem.text = \"$(sync~spin) Comitto: Aktiv\";\r\n                    changedFiles.clear();\r\n                    return;\r\n                }\r\n                \r\n                // Bei anderen Fehlern versuchen, es noch einmal\r\n                if (retryCount < MAX_RETRIES) {\r\n                    showNotification(`Commit fehlgeschlagen: ${commitError.message}. Versuche es erneut...`, 'warning');\r\n                    setTimeout(() => {\r\n                        performAutoCommit(isManualTrigger, retryCount + 1);\r\n                    }, 2000); // 2 Sekunden Verzögerung vor dem Retry\r\n                    return;\r\n                } else {\r\n                    throw new Error(`Commit fehlgeschlagen nach ${MAX_RETRIES} Versuchen: ${commitError.message}`);\r\n                }\r\n            }\r\n            \r\n            // Automatischen Push ausführen, wenn konfiguriert\r\n            if (gitSettings.autoPush) {\r\n                try {\r\n                    await performAutoPush(repoPath);\r\n                } catch (pushError) {\r\n                    console.error('Push fehlgeschlagen:', pushError);\r\n                    showNotification(`Push fehlgeschlagen: ${pushError.message}`, 'error');\r\n                }\r\n            }\r\n            \r\n            // Statusleiste aktualisieren\r\n            statusBarItem.text = \"$(sync~spin) Comitto: Aktiv\";\r\n        } catch (error) {\r\n            console.error('Git-Befehl fehlgeschlagen:', error);\r\n            \r\n            // Fehlerbehandlung verbessern\r\n            let errorMessage = error.message;\r\n            if (errorMessage.includes('fatal: not a git repository')) {\r\n                errorMessage = 'Dieses Verzeichnis ist kein Git-Repository. Bitte initialisieren Sie zuerst ein Git-Repository.';\r\n            } else if (errorMessage.includes('fatal: unable to access')) {\r\n                errorMessage = 'Fehler beim Zugriff auf das Remote-Repository. Bitte prüfen Sie Ihre Netzwerkverbindung und Zugangsrechte.';\r\n            } else if (errorMessage.includes('maxBuffer') || errorMessage.includes('zu groß')) {\r\n                errorMessage = 'Zu viele oder zu große Änderungen für die automatische Verarbeitung. Bitte führen Sie einen manuellen Commit durch oder reduzieren Sie die Anzahl der Änderungen.';\r\n            }\r\n            \r\n            // Benachrichtigung anzeigen\r\n            const notificationSettings = config.get('notifications');\r\n            if (notificationSettings.onError) {\r\n                showNotification(`Git-Befehl fehlgeschlagen: ${errorMessage}`, 'error');\r\n            }\r\n            \r\n            statusBarItem.text = \"$(sync~spin) Comitto: Aktiv\";\r\n            throw error;\r\n        }\r\n    } catch (error) {\r\n        console.error('Comitto Fehler:', error);\r\n        \r\n        // Benachrichtigung anzeigen\r\n        const notificationSettings = vscode.workspace.getConfiguration('comitto').get('notifications');\r\n        if (notificationSettings.onError) {\r\n            showNotification(`Comitto Fehler: ${error.message}`, 'error');\r\n        }\r\n        \r\n        statusBarItem.text = \"$(sync~spin) Comitto: Aktiv\";\r\n    } finally {\r\n        isCommitInProgress = false;\r\n    }\r\n}\r\n\r\n/**\r\n * Führt einen automatischen Push durch\r\n * @param {string} repoPath Der Pfad zum Git-Repository\r\n */\r\nasync function performAutoPush(repoPath) {\r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    const notificationSettings = config.get('notifications');\r\n    const MAX_PUSH_RETRIES = 2;\r\n    \r\n    statusBarItem.text = \"$(sync~spin) Comitto: Pushe Änderungen...\";\r\n    \r\n    // Aktuelle Branch bestimmen\r\n    let currentBranch;\r\n    try {\r\n        currentBranch = (await executeGitCommand('git rev-parse --abbrev-ref HEAD', repoPath)).trim();\r\n    } catch (error) {\r\n        throw new Error(`Fehler beim Ermitteln des aktuellen Branches: ${error.message}`);\r\n    }\r\n    \r\n    // Push-Optionen basierend auf Einstellungen\r\n    const gitSettings = config.get('gitSettings');\r\n    const pushOptions = gitSettings.pushOptions || '';\r\n    const pushCommand = `git push origin ${currentBranch} ${pushOptions}`.trim();\r\n    \r\n    let pushSuccess = false;\r\n    let pushError = null;\r\n    \r\n    // Versuche es mehrfach mit Push\r\n    for (let i = 0; i <= MAX_PUSH_RETRIES; i++) {\r\n        try {\r\n            await executeGitCommand(pushCommand, repoPath);\r\n            pushSuccess = true;\r\n            break;\r\n        } catch (error) {\r\n            pushError = error;\r\n            console.warn(`Push-Versuch ${i+1} fehlgeschlagen:`, error);\r\n            \r\n            // Bei bestimmten Fehlern erneut versuchen\r\n            if (error.message.includes('Connection timed out') || \r\n                error.message.includes('Could not resolve host') ||\r\n                error.message.includes('failed to push some refs')) {\r\n                \r\n                // Kurze Pause vor dem nächsten Versuch\r\n                if (i < MAX_PUSH_RETRIES) {\r\n                    await new Promise(resolve => setTimeout(resolve, 2000 * (i + 1)));\r\n                    continue;\r\n                }\r\n            }\r\n            \r\n            // Bei anderen Fehlern oder nach allen Versuchen abbrechen\r\n            break;\r\n        }\r\n    }\r\n    \r\n    // Ergebnis verarbeiten\r\n    if (pushSuccess) {\r\n        if (notificationSettings.onPush) {\r\n            showNotification(`Änderungen wurden zu origin/${currentBranch} gepusht.`, 'info');\r\n        }\r\n    } else if (pushError) {\r\n        // Versuche ein Pull bei bestimmten Fehlern\r\n        if (pushError.message.includes('failed to push some refs') || \r\n            pushError.message.includes('rejected') ||\r\n            pushError.message.includes('non-fast-forward')) {\r\n            \r\n            try {\r\n                showNotification('Push fehlgeschlagen. Versuche Pull...', 'warning');\r\n                await executeGitCommand(`git pull origin ${currentBranch}`, repoPath);\r\n                \r\n                // Erneut versuchen zu pushen\r\n                await executeGitCommand(pushCommand, repoPath);\r\n                \r\n                if (notificationSettings.onPush) {\r\n                    showNotification(`Pull & Push erfolgreich: Änderungen wurden zu origin/${currentBranch} gepusht.`, 'info');\r\n                }\r\n            } catch (pullError) {\r\n                throw new Error(`Push fehlgeschlagen und Pull konnte nicht ausgeführt werden: ${pullError.message}`);\r\n            }\r\n        } else {\r\n            throw pushError;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Führt das Staging von Dateien basierend auf dem konfigurieren Modus aus\r\n * @param {string} mode Der Staging-Modus ('all', 'specific', 'prompt')\r\n * @returns {Promise<void>}\r\n */\r\nasync function stageChanges(mode) {\r\n    const workspaceFolders = vscode.workspace.workspaceFolders;\r\n    if (!workspaceFolders) {\r\n        throw new Error('Kein Workspace gefunden.');\r\n    }\r\n    \r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    const gitSettings = config.get('gitSettings');\r\n    const repoPath = gitSettings.repositoryPath || workspaceFolders[0].uri.fsPath;\r\n    \r\n    // Bei manuellem Modus Benutzer nach Dateien fragen\r\n    if (mode === 'prompt') {\r\n        // Git Status abrufen\r\n        const gitStatusOutput = await executeGitCommand('git status --porcelain', repoPath);\r\n        if (!gitStatusOutput.trim()) {\r\n            throw new Error('Keine Änderungen zum Stagen gefunden.');\r\n        }\r\n        \r\n        // Dateien parsen\r\n        const changedFilesList = gitStatusOutput.split('\\n')\r\n            .filter(line => line.trim().length > 0)\r\n            .map(line => {\r\n                const status = line.substring(0, 2).trim();\r\n                const filePath = line.substring(3).trim();\r\n                return { status, filePath };\r\n            });\r\n        \r\n        // Dateien zur Auswahl anbieten\r\n        const selectedFiles = await vscode.window.showQuickPick(\r\n            changedFilesList.map(file => ({\r\n                label: file.filePath,\r\n                description: ui.getStatusDescription(file.status),\r\n                picked: true // Standardmäßig alle auswählen\r\n            })),\r\n            {\r\n                canPickMany: true,\r\n                placeHolder: 'Dateien zum Stagen auswählen'\r\n            }\r\n        );\r\n        \r\n        if (!selectedFiles || selectedFiles.length === 0) {\r\n            throw new Error('Keine Dateien ausgewählt.');\r\n        }\r\n        \r\n        // Ausgewählte Dateien stagen\r\n        for (const file of selectedFiles) {\r\n            await executeGitCommand(`git add \"${file.label}\"`, repoPath);\r\n        }\r\n        \r\n        return;\r\n    }\r\n    \r\n    // Spezifische Dateien basierend auf Mustern stagen\r\n    if (mode === 'specific') {\r\n        const patterns = gitSettings.specificStagingPatterns || ['**/*.js', '**/*.ts', '**/*.json'];\r\n        \r\n        for (const pattern of patterns) {\r\n            try {\r\n                // Bei Windows können wir Probleme mit den Pfadtrennzeichen haben,\r\n                // daher verwenden wir ein sicheres Muster für die Ausführung\r\n                const safePattern = pattern.replace(/\\\\/g, '/');\r\n                await executeGitCommand(`git add \"${safePattern}\"`, repoPath);\r\n            } catch (error) {\r\n                console.error(`Fehler beim Stagen von Muster ${pattern}:`, error);\r\n                // Wir werfen den Fehler nicht weiter, sondern versuchen andere Muster\r\n            }\r\n        }\r\n        \r\n        return;\r\n    }\r\n    \r\n    // Standardmäßig alle Änderungen stagen\r\n    await executeGitCommand('git add .', repoPath);\r\n}\r\n\r\n/**\r\n * Zeigt eine Benachrichtigung an, wenn entsprechend konfiguriert,\r\n * und fügt sie immer zum Debug-Log hinzu\r\n * @param {string} message Die anzuzeigende Nachricht\r\n * @param {string} type Der Typ der Nachricht (info, warning, error)\r\n */\r\nfunction showNotification(message, type = 'info') {\r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    const uiSettings = config.get('uiSettings');\r\n    const debug = config.get('debug');\r\n    \r\n    // Zum Debug-Log hinzufügen\r\n    addDebugLog(message, type);\r\n    \r\n    // Benachrichtigung anzeigen, wenn aktiviert\r\n    if (uiSettings && uiSettings.showNotifications) {\r\n        switch (type) {\r\n            case 'info':\r\n                vscode.window.showInformationMessage(message);\r\n                break;\r\n            case 'warning':\r\n                vscode.window.showWarningMessage(message);\r\n                break;\r\n            case 'error':\r\n                vscode.window.showErrorMessage(message);\r\n                break;\r\n            default:\r\n                vscode.window.showInformationMessage(message);\r\n        }\r\n    }\r\n    \r\n    // Status in der Statusleiste aktualisieren\r\n    if (type === 'error' && statusBarItem) {\r\n        const originalText = statusBarItem.text;\r\n        statusBarItem.text = \"$(error) Comitto: Fehler\";\r\n        \r\n        // Nach 3 Sekunden zurücksetzen\r\n        setTimeout(() => {\r\n            if (statusBarItem) {\r\n                statusBarItem.text = originalText;\r\n            }\r\n        }, 3000);\r\n    }\r\n}\r\n\r\n/**\r\n * Generiert eine Commit-Nachricht mit dem konfigurierten KI-Modell\r\n * @param {string} gitStatus Die Ausgabe von git status\r\n * @param {string} diffOutput Die Ausgabe von git diff\r\n * @returns {Promise<string>} Generierte Commit-Nachricht\r\n */\r\nasync function generateCommitMessage(gitStatus, diffOutput) {\r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    const aiProvider = config.get('aiProvider');\r\n    const gitSettings = config.get('gitSettings');\r\n    \r\n    // Änderungen in ein lesbares Format bringen\r\n    const changes = gitStatus.split('\\n')\r\n        .filter(line => line.trim().length > 0)\r\n        .map(line => {\r\n            const status = line.substring(0, 2).trim();\r\n            const filePath = line.substring(3).trim();\r\n            return `${getStatusText(status)} ${filePath}`;\r\n        })\r\n        .join('\\n');\r\n    \r\n    // Prompt-Vorlage mit Änderungen füllen\r\n    let promptTemplate = config.get('promptTemplate');\r\n    promptTemplate = promptTemplate.replace('{changes}', changes);\r\n    \r\n    // Sprache für die Commit-Nachricht einfügen\r\n    const language = gitSettings.commitMessageLanguage || 'de';\r\n    if (!promptTemplate.includes(language)) {\r\n        promptTemplate += `\\nDie Commit-Nachricht soll auf ${language.toUpperCase()} sein.`;\r\n    }\r\n    \r\n    // Commit-Stil einfügen\r\n    const style = gitSettings.commitMessageStyle || 'conventional';\r\n    if (style === 'conventional' && !promptTemplate.includes('conventional')) {\r\n        promptTemplate += `\\nVerwende das Conventional Commits Format (feat, fix, docs, style, etc.).`;\r\n    }\r\n    \r\n    // Diff-Informationen für komplexere Abrechnungen hinzufügen\r\n    if (diffOutput && diffOutput.length > 0) {\r\n        // Eine aggressiv gekürzte Version des Diffs anhängen, um den Kontext zu verbessern,\r\n        // aber nicht zu viel Token zu verwenden\r\n        const maxDiffLength = 2000; // Maximale Anzahl der Zeichen des Diffs reduziert auf 2000\r\n        \r\n        // Sehr große Diffs erkennen und Warnung ausgeben\r\n        if (diffOutput.length > 100000) {\r\n            console.warn(`Extrem großer Diff (${diffOutput.length} Zeichen) wird stark gekürzt.`);\r\n        }\r\n        \r\n        // Intelligente Kürzung: Nur die ersten Änderungen jeder Datei\r\n        let shortenedDiff = '';\r\n        \r\n        try {\r\n            // Aufteilen nach Dateiänderungen (beginnen mit 'diff --git')\r\n            const fileChanges = diffOutput.split('diff --git');\r\n            \r\n            // Die ersten Änderungen für jede Datei extrahieren (maximal 5 Dateien)\r\n            const maxFiles = 5;\r\n            const filesToInclude = fileChanges.slice(0, maxFiles);\r\n            \r\n            filesToInclude.forEach((fileChange, index) => {\r\n                if (index === 0 && !fileChange.trim()) return; // Erstes Element kann leer sein\r\n                \r\n                // Jede Dateiänderung auf maximal 400 Zeichen beschränken\r\n                const maxPerFile = 400;\r\n                const truncatedChange = fileChange.length > maxPerFile \r\n                    ? fileChange.substring(0, maxPerFile) + '...' \r\n                    : fileChange;\r\n                \r\n                shortenedDiff += (index > 0 ? 'diff --git' : '') + truncatedChange + '\\n';\r\n            });\r\n            \r\n            // Kürzen, wenn insgesamt zu lang\r\n            if (shortenedDiff.length > maxDiffLength) {\r\n                shortenedDiff = shortenedDiff.substring(0, maxDiffLength);\r\n            }\r\n            \r\n            shortenedDiff += `\\n[Diff wurde gekürzt, insgesamt ${diffOutput.length} Zeichen in ${fileChanges.length} Dateien]`;\r\n        } catch (error) {\r\n            console.error('Fehler beim Kürzen des Diffs:', error);\r\n            shortenedDiff = diffOutput.substring(0, maxDiffLength) + \r\n                `...\\n[Diff wurde einfach gekürzt, insgesamt ${diffOutput.length} Zeichen]`;\r\n        }\r\n        \r\n        promptTemplate += `\\n\\nHier ist ein Ausschnitt der konkreten Änderungen:\\n\\n${shortenedDiff}`;\r\n    }\r\n    \r\n    // Verschiedene KI-Provider unterstützen\r\n    switch (aiProvider) {\r\n        case 'ollama':\r\n            return await generateWithOllama(promptTemplate);\r\n        case 'openai':\r\n            return await generateWithOpenAI(promptTemplate);\r\n        case 'anthropic':\r\n            return await generateWithAnthropic(promptTemplate);\r\n        default:\r\n            throw new Error(`Unbekannter KI-Provider: ${aiProvider}`);\r\n    }\r\n}\r\n\r\n/**\r\n * Generiert eine Commit-Nachricht mit Ollama\r\n * @param {string} prompt Der zu verwendende Prompt\r\n * @returns {Promise<string>} Generierte Commit-Nachricht\r\n */\r\nasync function generateWithOllama(prompt) {\r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    const endpoint = config.get('ollama.endpoint') || 'http://localhost:11434/api/generate';\r\n    const model = config.get('ollama.model') || 'llama3';\r\n    \r\n    try {\r\n        statusBarItem.text = \"$(sync~spin) Comitto: Generiere Commit-Nachricht mit Ollama...\";\r\n        \r\n        const response = await axios.post(endpoint, {\r\n            model: model,\r\n            prompt: prompt,\r\n            stream: false\r\n        }, {\r\n            timeout: 30000 // 30 Sekunden Timeout für lokale Modelle\r\n        });\r\n        \r\n        if (response.data && response.data.response) {\r\n            statusBarItem.text = \"$(sync~spin) Comitto: Aktiv\";\r\n            \r\n            // Formatierung der Nachricht: Leerzeichen und Anführungszeichen entfernen\r\n            let commitMessage = response.data.response.trim()\r\n                .replace(/^[\"']|[\"']$/g, '')  // Entfernt Anführungszeichen am Anfang und Ende\r\n                .replace(/\\n/g, ' ');  // Ersetzt Zeilenumbrüche durch Leerzeichen\r\n            \r\n            // Prüfen, ob die Nachricht zu lang ist und ggf. kürzen\r\n            if (commitMessage.length > 100) {\r\n                commitMessage = commitMessage.substring(0, 97) + '...';\r\n            }\r\n            \r\n            return commitMessage;\r\n        } else {\r\n            throw new Error('Unerwartetes Antwortformat von Ollama');\r\n        }\r\n    } catch (error) {\r\n        console.error('Ollama API-Fehler:', error.response?.data || error.message);\r\n        \r\n        // Detaillierte Fehlermeldung\r\n        let errorMessage = 'Fehler bei der Kommunikation mit Ollama';\r\n        \r\n        if (error.code === 'ECONNREFUSED') {\r\n            errorMessage = 'Verbindung zu Ollama fehlgeschlagen. Bitte stellen Sie sicher, dass Ollama läuft und erreichbar ist.';\r\n        } else if (error.code === 'ETIMEDOUT' || error.code === 'TIMEOUT') {\r\n            errorMessage = 'Zeitüberschreitung bei der Anfrage an Ollama. Bitte prüfen Sie die Verbindung oder versuchen Sie ein kleineres Modell.';\r\n        } else if (error.response?.status === 404) {\r\n            errorMessage = `Das Ollama-Modell \"${model}\" wurde nicht gefunden. Bitte stellen Sie sicher, dass das Modell installiert ist.`;\r\n        } else if (error.response?.data) {\r\n            errorMessage = `Ollama-Fehler: ${error.response.data.error || JSON.stringify(error.response.data)}`;\r\n        } else {\r\n            errorMessage = `Ollama-Fehler: ${error.message}`;\r\n        }\r\n        \r\n        statusBarItem.text = \"$(sync~spin) Comitto: Aktiv\";\r\n        vscode.window.showErrorMessage(errorMessage);\r\n        \r\n        // Fallback: Einfache, generische Commit-Nachricht\r\n        return \"chore: Änderungen commited\";\r\n    }\r\n}\r\n\r\n/**\r\n * Generiert eine Commit-Nachricht mit OpenAI\r\n * @param {string} prompt Der zu verwendende Prompt\r\n * @returns {Promise<string>} Generierte Commit-Nachricht\r\n */\r\nasync function generateWithOpenAI(prompt) {\r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    const apiKey = config.get('openai.apiKey');\r\n    const model = config.get('openai.model');\r\n    \r\n    if (!apiKey) {\r\n        throw new Error('OpenAI API-Schlüssel nicht konfiguriert');\r\n    }\r\n    \r\n    try {\r\n        const response = await axios.post('https://api.openai.com/v1/chat/completions', {\r\n            model: model,\r\n            messages: [\r\n                { role: 'system', content: 'Du bist ein Assistent, der hilft, präzise Git-Commit-Nachrichten zu erstellen.' },\r\n                { role: 'user', content: prompt }\r\n            ],\r\n            temperature: 0.3,\r\n            max_tokens: 100\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${apiKey}`,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n        \r\n        if (response.data && response.data.choices && response.data.choices[0]) {\r\n            return response.data.choices[0].message.content.trim()\r\n                .replace(/^[\"']|[\"']$/g, '')\r\n                .replace(/\\n/g, ' ');\r\n        } else {\r\n            throw new Error('Unerwartetes Antwortformat von OpenAI');\r\n        }\r\n    } catch (error) {\r\n        console.error('OpenAI API-Fehler:', error.response?.data || error.message);\r\n        throw new Error(`Fehler bei der Kommunikation mit OpenAI: ${error.message}`);\r\n    }\r\n}\r\n\r\n/**\r\n * Generiert eine Commit-Nachricht mit Anthropic\r\n * @param {string} prompt Der zu verwendende Prompt\r\n * @returns {Promise<string>} Generierte Commit-Nachricht\r\n */\r\nasync function generateWithAnthropic(prompt) {\r\n    const config = vscode.workspace.getConfiguration('comitto');\r\n    const apiKey = config.get('anthropic.apiKey');\r\n    const model = config.get('anthropic.model');\r\n    \r\n    if (!apiKey) {\r\n        throw new Error('Anthropic API-Schlüssel nicht konfiguriert');\r\n    }\r\n    \r\n    try {\r\n        const response = await axios.post('https://api.anthropic.com/v1/messages', {\r\n            model: model,\r\n            max_tokens: 100,\r\n            temperature: 0.3,\r\n            system: 'Du bist ein Assistent, der hilft, präzise Git-Commit-Nachrichten zu erstellen.',\r\n            messages: [\r\n                { role: 'user', content: prompt }\r\n            ]\r\n        }, {\r\n            headers: {\r\n                'x-api-key': apiKey,\r\n                'anthropic-version': '2023-06-01',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n        \r\n        if (response.data && response.data.content && response.data.content[0]) {\r\n            return response.data.content[0].text.trim()\r\n                .replace(/^[\"']|[\"']$/g, '')\r\n                .replace(/\\n/g, ' ');\r\n        } else {\r\n            throw new Error('Unerwartetes Antwortformat von Anthropic');\r\n        }\r\n    } catch (error) {\r\n        console.error('Anthropic API-Fehler:', error.response?.data || error.message);\r\n        throw new Error(`Fehler bei der Kommunikation mit Anthropic: ${error.message}`);\r\n    }\r\n}\r\n\r\n/**\r\n * Richtet eine automatische Hintergrundüberwachung ein\r\n * @param {vscode.ExtensionContext} context \r\n */\r\nfunction setupAutoBackgroundMonitoring(context) {\r\n    // Überwachung für Git-Status (alle 10 Minuten)\r\n    setInterval(async () => {\r\n        try {\r\n            const config = vscode.workspace.getConfiguration('comitto');\r\n            if (!config.get('autoCommitEnabled')) return;\r\n            \r\n            const debugSettings = config.get('debug') || {};\r\n            \r\n            // Git-Repository-Status prüfen\r\n            const hasGit = await checkGitRepository(context);\r\n            if (!hasGit) {\r\n                addDebugLog('Hintergrundprüfung: Kein aktives Git-Repository gefunden.', 'warning');\r\n                return;\r\n            }\r\n            \r\n            // Prüfen, ob ungespeicherte Änderungen vorliegen, die noch nicht committed wurden\r\n            const workspaceFolders = vscode.workspace.workspaceFolders;\r\n            if (!workspaceFolders) return;\r\n            \r\n            const repoPath = workspaceFolders[0].uri.fsPath;\r\n            const gitStatus = await executeGitCommand('git status --porcelain', repoPath);\r\n            \r\n            if (gitStatus.trim() && changedFiles.size === 0) {\r\n                // Es gibt Änderungen, die nicht in changedFiles erfasst wurden\r\n                addDebugLog('Hintergrundprüfung: Nicht erfasste Änderungen gefunden.', 'info');\r\n                \r\n                // Dateien dem Tracking hinzufügen\r\n                gitStatus.split('\\n')\r\n                    .filter(line => line.trim().length > 0)\r\n                    .forEach(line => {\r\n                        const filePath = line.substring(3).trim();\r\n                        if (filePath && !isFileIgnored(filePath)) {\r\n                            changedFiles.add(path.join(repoPath, filePath));\r\n                        }\r\n                    });\r\n                \r\n                if (debugSettings.extendedLogging) {\r\n                    addDebugLog(`Hintergrund-Synchronisierung: ${changedFiles.size} Dateien werden nun überwacht.`, 'info');\r\n                }\r\n                \r\n                // Trigger-Check ausführen\r\n                if (config.get('autoCommitEnabled')) {\r\n                    checkCommitTrigger();\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Fehler bei der Hintergrundüberwachung:', error);\r\n            addDebugLog(`Fehler bei der Hintergrundüberwachung: ${error.message}`, 'error');\r\n        }\r\n    }, 10 * 60 * 1000); // 10 Minuten\r\n    \r\n    // Regelmäßiger Gesundheitscheck\r\n    setInterval(() => {\r\n        try {\r\n            const config = vscode.workspace.getConfiguration('comitto');\r\n            if (!config.get('autoCommitEnabled')) return;\r\n            \r\n            const debugSettings = config.get('debug') || {};\r\n            \r\n            // Prüfen, ob der Watcher noch aktiv ist\r\n            if (!fileWatcher && config.get('autoCommitEnabled')) {\r\n                addDebugLog('Gesundheitscheck: FileWatcher ist nicht aktiv. Starte neu...', 'warning');\r\n                setupFileWatcher(context);\r\n            }\r\n            \r\n            // Prüfen, ob der Interval-Timer noch aktiv ist\r\n            const triggerRules = config.get('triggerRules');\r\n            if (triggerRules.onInterval && !intervalTimer && config.get('autoCommitEnabled')) {\r\n                addDebugLog('Gesundheitscheck: Interval-Timer ist nicht aktiv. Starte neu...', 'warning');\r\n                setupIntervalTrigger(triggerRules.intervalMinutes);\r\n            }\r\n            \r\n            if (debugSettings.extendedLogging) {\r\n                addDebugLog('Gesundheitscheck durchgeführt.', 'info');\r\n            }\r\n        } catch (error) {\r\n            console.error('Fehler beim Gesundheitscheck:', error);\r\n            addDebugLog(`Fehler beim Gesundheitscheck: ${error.message}`, 'error');\r\n        }\r\n    }, 30 * 60 * 1000); // 30 Minuten\r\n}\r\n\r\nfunction deactivate() {\r\n    disableFileWatcher();\r\n    if (statusBarItem) {\r\n        statusBarItem.dispose();\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    activate,\r\n    deactivate,\r\n    // Für Tests exponieren\r\n    debugLog,\r\n    handleError\r\n}; ","module.exports = require(\"os\");","module.exports = require(\"vscode\");","const vscode = require('vscode');\nconst ui = require('./ui'); // Importiere UI-Modul für Hilfsfunktionen\nconst { executeGitCommand } = require('./utils'); // Annahme: executeGitCommand ist in utils.js\n\n/**\n * Registriert die Befehle für die UI-Interaktionen\n * @param {vscode.ExtensionContext} context \n * @param {Object} providers UI-Provider-Instanzen\n * @param {vscode.StatusBarItem} statusBarItem Das Statusleisten-Element\n * @param {Function} setupFileWatcher Funktion zum Einrichten des File Watchers\n * @param {Function} disableFileWatcher Funktion zum Deaktivieren des File Watchers\n * @param {Function} performAutoCommit Funktion zum Ausführen des Commits\n * @param {Function} showNotification Funktion zum Anzeigen von Benachrichtigungen\n */\nfunction registerCommands(context, providers, statusBarItem, setupFileWatcher, disableFileWatcher, performAutoCommit, showNotification) {\n    // #region Kernbefehle (vorher in extension.js)\n\n    // Befehl zum Öffnen der Einstellungen\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.openSettings', () => {\n        vscode.commands.executeCommand('workbench.action.openSettings', 'comitto');\n    }));\n\n    // Befehl zum Aktualisieren der Einstellungsansicht\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.refreshSettings', () => {\n        if (providers) {\n            providers.statusProvider.refresh();\n            providers.settingsProvider.refresh();\n            providers.quickActionsProvider.refresh();\n        }\n        showNotification('Comitto-Einstellungen wurden aktualisiert.', 'info');\n    }));\n\n    // Befehl zum Aktivieren der automatischen Commits\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.enableAutoCommit', async () => {\n        await vscode.workspace.getConfiguration('comitto').update('autoCommitEnabled', true, vscode.ConfigurationTarget.Global);\n        setupFileWatcher(context); // Übergabe des Kontexts ist hier wichtig\n        statusBarItem.text = \"$(sync~spin) Comitto: Aktiv\";\n        \n        // UI aktualisieren\n        if (providers) {\n            providers.statusProvider.refresh();\n            providers.quickActionsProvider.refresh();\n        }\n        \n        const config = vscode.workspace.getConfiguration('comitto');\n        const uiSettings = config.get('uiSettings');\n        if (uiSettings && uiSettings.showNotifications) {\n            showNotification('Automatische Commits sind aktiviert.', 'info');\n        }\n    }));\n\n    // Befehl zum Deaktivieren der automatischen Commits\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.disableAutoCommit', async () => {\n        await vscode.workspace.getConfiguration('comitto').update('autoCommitEnabled', false, vscode.ConfigurationTarget.Global);\n        disableFileWatcher();\n        statusBarItem.text = \"$(git-commit) Comitto: Inaktiv\";\n        \n        // UI aktualisieren\n        if (providers) {\n            providers.statusProvider.refresh();\n            providers.quickActionsProvider.refresh();\n        }\n        \n        const config = vscode.workspace.getConfiguration('comitto');\n        const uiSettings = config.get('uiSettings');\n        if (uiSettings && uiSettings.showNotifications) {\n            showNotification('Automatische Commits sind deaktiviert.', 'info');\n        }\n    }));\n\n    // Befehl zum Umschalten der automatischen Commits\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleAutoCommit', async () => {\n        const config = vscode.workspace.getConfiguration('comitto');\n        const isEnabled = !config.get('autoCommitEnabled');\n        // Rufe die spezifischen enable/disable Befehle auf, um die Logik nicht zu duplizieren\n        if (isEnabled) {\n            await vscode.commands.executeCommand('comitto.enableAutoCommit');\n        } else {\n            await vscode.commands.executeCommand('comitto.disableAutoCommit');\n        }\n    }));\n\n    // Befehl zum manuellen Ausführen eines KI-generierten Commits\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.performManualCommit', async () => {\n        try {\n            const config = vscode.workspace.getConfiguration('comitto');\n            const uiSettings = config.get('uiSettings');\n            \n            // Optional Bestätigung anfordern\n            let shouldProceed = true;\n            if (uiSettings && uiSettings.confirmBeforeCommit) {\n                shouldProceed = await vscode.window.showInformationMessage(\n                    'Möchten Sie einen manuellen KI-Commit durchführen?',\n                    { modal: true }, // Macht das Dialogfeld modal\n                    'Ja'\n                ) === 'Ja';\n            }\n            \n            if (shouldProceed) {\n                await performAutoCommit(true); // 'true' signalisiert manuellen Trigger\n                // Die Erfolgsmeldung wird jetzt innerhalb von performAutoCommit angezeigt\n            }\n        } catch (error) {\n            showNotification(`Fehler beim manuellen Commit: ${error.message}`, 'error');\n        }\n    }));\n\n    // #endregion Kernbefehle\n\n    // #region UI & Konfigurationsbefehle\n\n    // KI-Provider auswählen\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.selectAiProvider', async () => {\n        const providerOptions = [\n            { label: 'Ollama (lokal)', id: 'ollama' },\n            { label: 'OpenAI', id: 'openai' },\n            { label: 'Anthropic Claude', id: 'anthropic' }\n        ];\n        \n        const selected = await vscode.window.showQuickPick(providerOptions, {\n            placeHolder: 'KI-Provider auswählen',\n            title: 'Comitto - KI-Provider auswählen'\n        });\n        \n        if (selected) {\n            await vscode.workspace.getConfiguration('comitto').update('aiProvider', selected.id, vscode.ConfigurationTarget.Global);\n            if (providers) {\n                providers.statusProvider.refresh();\n            providers.settingsProvider.refresh();\n                providers.quickActionsProvider.refresh();\n            }\n            showNotification(`KI-Provider auf \"${selected.label}\" gesetzt.`, 'info');\n        }\n    }));\n\n    // Ollama-Modell bearbeiten (ersetzt durch configureOllamaSettings)\n    // context.subscriptions.push(vscode.commands.registerCommand('comitto.editOllamaModel', async () => { ... }));\n\n    // Ollama-Endpoint bearbeiten (ersetzt durch configureOllamaSettings)\n    // context.subscriptions.push(vscode.commands.registerCommand('comitto.editOllamaEndpoint', async () => { ... }));\n\n    // OpenAI-Modell auswählen\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.selectOpenAIModel', async () => {\n        await handleOpenAIModelSelectionCommand(); // Ruft die dedizierte Funktion auf\n        if (providers) providers.settingsProvider.refresh();\n    }));\n\n    // OpenAI-Schlüssel bearbeiten\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editOpenAIKey', async () => {\n        await handleEditOpenAIKeyCommand();\n        if (providers) providers.settingsProvider.refresh();\n    }));\n\n    // Anthropic-Modell auswählen\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.selectAnthropicModel', async () => {\n        await handleSelectAnthropicModelCommand();\n        if (providers) providers.settingsProvider.refresh();\n    }));\n\n    // Anthropic-Schlüssel bearbeiten\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editAnthropicKey', async () => {\n        await handleEditAnthropicKeyCommand();\n        if (providers) providers.settingsProvider.refresh();\n    }));\n\n    // #region Trigger-Regeln Bearbeiten\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editFileCountThreshold', async () => {\n        await handleEditTriggerRuleCommand('fileCountThreshold', 'Datei-Anzahl Schwellenwert', 'z.B. 3', 'number');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editMinChangeCount', async () => {\n        await handleEditTriggerRuleCommand('minChangeCount', 'Änderungs-Anzahl Schwellenwert', 'z.B. 10', 'number');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editTimeThreshold', async () => {\n        await handleEditTriggerRuleCommand('timeThresholdMinutes', 'Zeit-Schwellwert (Minuten)', 'z.B. 30', 'number');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editFilePatterns', async () => {\n        await handleEditTriggerRuleCommand('filePatterns', 'Dateimuster (kommagetrennt)', 'z.B. **/*.js, **/*.ts', 'patterns');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editSpecificFiles', async () => {\n        await handleEditTriggerRuleCommand('specificFiles', 'Spezifische Dateien (kommagetrennt)', 'z.B. package.json, README.md', 'files');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editIntervalMinutes', async () => {\n        await handleEditTriggerRuleCommand('intervalMinutes', 'Intervall für Intervall-Trigger (Minuten)', 'z.B. 15', 'number');\n    }));\n\n    // Neue Toggle-Befehle für Trigger-Regeln\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleOnSave', async () => {\n        await handleToggleTriggerRuleCommand('onSave', 'Speichern-Trigger');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleOnInterval', async () => {\n        await handleToggleTriggerRuleCommand('onInterval', 'Intervall-Trigger');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleOnBranchSwitch', async () => {\n        await handleToggleTriggerRuleCommand('onBranchSwitch', 'Branch-Wechsel-Trigger');\n    }));\n    // #endregion\n\n    // #region Git-Einstellungen Bearbeiten\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleAutoPush', async () => {\n        await handleToggleGitSettingCommand('autoPush', 'Auto-Push');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editBranch', async () => {\n        await handleEditGitSettingCommand('branch', 'Branch für Commits', 'Leer lassen für aktuellen Branch');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.selectCommitLanguage', async () => {\n        await handleCommitMessageLanguageCommand(); // Behält eigene Logik wegen Prompt-Anpassung\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.selectCommitStyle', async () => {\n        await handleSelectGitSettingCommand('commitMessageStyle', 'Commit-Nachrichtenstil', [\n            { label: 'Conventional Commits', value: 'conventional' },\n            { label: 'Gitmoji', value: 'gitmoji' }\n        ]);\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleUseGitignore', async () => {\n        await handleToggleGitSettingCommand('useGitignore', 'Gitignore-Verwendung');\n        // Eventuell gitignore neu laden\n        const commandExists = await vscode.commands.getCommands(true).then(cmds => cmds.includes('comitto.internal.reloadGitignore'));\n        if (commandExists) {\n            vscode.commands.executeCommand('comitto.internal.reloadGitignore');\n        } else {\n            console.warn('Befehl comitto.internal.reloadGitignore nicht gefunden.');\n        }\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.selectStageMode', async () => {\n        await handleSelectStageModeCommand(); // Behält eigene Logik wegen Pattern-Frage\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editStagingPatterns', async () => {\n        await handleEditStagingPatternsCommand(); // Behält eigene Logik\n    }));\n    // #endregion\n\n    // #region UI-Einstellungen\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleSimpleMode', async () => {\n        await handleToggleUISettingCommand('simpleMode', 'Einfacher Modus');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleConfirmBeforeCommit', async () => {\n        await handleToggleUISettingCommand('confirmBeforeCommit', 'Bestätigung vor Commit');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleShowNotifications', async () => {\n        await handleToggleUISettingCommand('showNotifications', 'Benachrichtigungen anzeigen');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.selectTheme', async () => {\n        await handleSelectThemeCommand();\n    }));\n    // #endregion\n\n    // #region Benachrichtigungseinstellungen\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleNotificationOnCommit', async () => {\n        await handleToggleNotificationSettingCommand('onCommit', 'Commit-Benachrichtigungen');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleNotificationOnPush', async () => {\n        await handleToggleNotificationSettingCommand('onPush', 'Push-Benachrichtigungen');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleNotificationOnError', async () => {\n        await handleToggleNotificationSettingCommand('onError', 'Fehler-Benachrichtigungen');\n    }));\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.toggleNotificationOnTriggerFired', async () => {\n        await handleToggleNotificationSettingCommand('onTriggerFired', 'Trigger-Benachrichtigungen');\n    }));\n    // #endregion\n\n    // Prompt-Vorlage bearbeiten\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.editPromptTemplate', async () => {\n        await handleEditPromptTemplateCommand();\n        if (providers) providers.settingsProvider.refresh();\n    }));\n\n    // Dashboard anzeigen\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.showDashboard', async () => {\n        await handleShowDashboardCommand(context);\n    }));\n\n    // KI-Provider konfigurieren (kombiniert Auswahl und spezifische Konfig)\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.configureAIProvider', async () => {\n        await handleConfigureAIProviderCommand(providers);\n    }));\n\n    // Trigger konfigurieren (grafisch oder direkt)\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.configureTriggers', async () => {\n        await handleConfigureTriggersCommand(context, providers);\n    }));\n\n    // Einfache Benutzeroberfläche anzeigen\n    context.subscriptions.push(vscode.commands.registerCommand('comitto.showSimpleUI', () => {\n        showSimpleUI(context, providers);\n    }));\n\n    // #endregion UI & Konfigurationsbefehle\n}\n\n// ==========================================================================\n// HILFSFUNKTIONEN FÜR BEFEHLE\n// ==========================================================================\n\n// #region Generische Handler für Einstellungen\n\n/**\n * Generischer Handler zum Bearbeiten einer Trigger-Regel.\n * @param {string} ruleKey Schlüssel der Regel in `triggerRules`.\n * @param {string} promptText Text für die Eingabeaufforderung.\n * @param {string} placeHolder Platzhalter für die Eingabeaufforderung.\n * @param {'number'|'patterns'|'files'} inputType Typ der Eingabe für Validierung/Parsing.\n */\nasync function handleEditTriggerRuleCommand(ruleKey, promptText, placeHolder, inputType) {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const rules = { ...config.get('triggerRules') }; // Kopie erstellen\n    const currentValue = rules[ruleKey];\n\n    let valueToString = '';\n    if (inputType === 'patterns' || inputType === 'files') {\n        valueToString = Array.isArray(currentValue) ? currentValue.join(', ') : '';\n    } else {\n        valueToString = currentValue !== undefined ? currentValue.toString() : '';\n    }\n\n        const value = await vscode.window.showInputBox({\n        value: valueToString,\n        prompt: promptText,\n        placeHolder: placeHolder,\n            validateInput: text => {\n            if (inputType === 'number') {\n                if (!text) return 'Eingabe darf nicht leer sein.';\n                const num = parseInt(text);\n                if (isNaN(num) || num < (ruleKey === 'intervalMinutes' || ruleKey === 'timeThresholdMinutes' ? 1 : 0)) {\n                    return 'Bitte geben Sie eine gültige positive Zahl ein.';\n                }\n            }\n            // Keine spezielle Validierung für patterns/files hier, erfolgt beim Speichern\n            return null;\n            }\n        });\n        \n        if (value !== undefined) {\n        let processedValue;\n        if (inputType === 'number') {\n            processedValue = parseInt(value);\n        } else if (inputType === 'patterns' || inputType === 'files') {\n            processedValue = value.split(',').map(p => p.trim()).filter(p => p.length > 0);\n            if (inputType === 'patterns' && processedValue.length === 0) {\n                processedValue = ['**/*']; // Standard, wenn leer\n            }\n        } else {\n            processedValue = value; // Fallback\n        }\n\n        rules[ruleKey] = processedValue;\n        await config.update('triggerRules', rules, vscode.ConfigurationTarget.Global);\n        vscode.window.showInformationMessage(`${promptText} aktualisiert.`);\n        // UI Refresh wird durch onDidChangeConfiguration ausgelöst\n    }\n}\n\n/**\n * Generischer Handler zum Umschalten einer booleschen Trigger-Regel.\n * @param {string} ruleKey Schlüssel der Regel in `triggerRules`.\n * @param {string} settingName Name der Einstellung für die Benachrichtigung.\n */\nasync function handleToggleTriggerRuleCommand(ruleKey, settingName) {\n    try {\n        const config = vscode.workspace.getConfiguration('comitto');\n        const triggerRules = config.get('triggerRules') || {};\n        \n        // Aktuellen Wert umkehren (true -> false, false -> true)\n        const newValue = !(triggerRules[ruleKey]);\n        \n        // Aktualisierte triggerRules erstellen\n        const updatedRules = { ...triggerRules, [ruleKey]: newValue };\n        \n        // In die Konfiguration schreiben\n        await config.update('triggerRules', updatedRules, vscode.ConfigurationTarget.Global);\n        \n        // Benachrichtigung anzeigen\n        vscode.window.showInformationMessage(`${settingName} wurde ${newValue ? 'aktiviert' : 'deaktiviert'}.`);\n        \n        // Falls es der Intervall-Trigger ist und er aktiviert wurde, nach dem Intervall fragen\n        if (ruleKey === 'onInterval' && newValue && (!triggerRules.intervalMinutes || triggerRules.intervalMinutes <= 0)) {\n            await handleEditTriggerRuleCommand('intervalMinutes', 'Intervall (Minuten)', 'z.B. 5', 'number');\n        }\n    } catch (error) {\n        vscode.window.showErrorMessage(`Fehler beim Umschalten von ${settingName}: ${error.message}`);\n    }\n}\n\n/**\n * Generischer Handler zum Bearbeiten einer Git-Einstellung.\n * @param {string} settingKey Schlüssel der Einstellung in `gitSettings`.\n * @param {string} promptText Text für die Eingabeaufforderung.\n * @param {string} placeHolder Platzhalter für die Eingabeaufforderung.\n */\nasync function handleEditGitSettingCommand(settingKey, promptText, placeHolder) {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const gitSettings = { ...config.get('gitSettings') }; // Kopie erstellen\n    const currentValue = gitSettings[settingKey];\n\n        const value = await vscode.window.showInputBox({\n        value: currentValue !== undefined ? currentValue.toString() : '',\n        prompt: promptText,\n        placeHolder: placeHolder,\n        });\n        \n        if (value !== undefined) {\n        gitSettings[settingKey] = value;\n        await config.update('gitSettings', gitSettings, vscode.ConfigurationTarget.Global);\n        vscode.window.showInformationMessage(`${promptText} aktualisiert.`);\n        // UI Refresh wird durch onDidChangeConfiguration ausgelöst\n    }\n}\n\n/**\n * Generischer Handler zum Umschalten einer booleschen Git-Einstellung.\n * @param {string} settingKey Schlüssel der Einstellung in `gitSettings`.\n * @param {string} settingName Name der Einstellung für die Benachrichtigung.\n */\nasync function handleToggleGitSettingCommand(settingKey, settingName) {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const gitSettings = { ...config.get('gitSettings') };\n    const newValue = !gitSettings[settingKey];\n    gitSettings[settingKey] = newValue;\n    await config.update('gitSettings', gitSettings, vscode.ConfigurationTarget.Global);\n    vscode.window.showInformationMessage(`${settingName} ${newValue ? 'aktiviert' : 'deaktiviert'}.`);\n    // UI Refresh wird durch onDidChangeConfiguration ausgelöst\n}\n\n/**\n * Generischer Handler zum Auswählen einer Git-Einstellung aus einer Liste.\n * @param {string} settingKey Schlüssel der Einstellung in `gitSettings`.\n * @param {string} placeHolder Platzhalter für die QuickPick-Liste.\n * @param {Array<{label: string, value: any}>} options Auswahloptionen.\n */\nasync function handleSelectGitSettingCommand(settingKey, placeHolder, options) {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const gitSettings = { ...config.get('gitSettings') };\n    const currentValue = gitSettings[settingKey];\n\n    const selected = await vscode.window.showQuickPick(\n        options.map(opt => ({ \n            ...opt,\n            description: currentValue === opt.value ? '(Aktuell)' : ''\n        })),\n        {\n            placeHolder: placeHolder,\n            ignoreFocusOut: true\n        }\n    );\n\n    if (selected) {\n        gitSettings[settingKey] = selected.value;\n        await config.update('gitSettings', gitSettings, vscode.ConfigurationTarget.Global);\n        vscode.window.showInformationMessage(`${placeHolder} auf \"${selected.label}\" gesetzt.`);\n        // UI Refresh wird durch onDidChangeConfiguration ausgelöst\n    }\n}\n\n/**\n * Generischer Handler zum Umschalten einer booleschen UI-Einstellung.\n * @param {string} settingKey Schlüssel der Einstellung in `uiSettings`.\n * @param {string} settingName Name der Einstellung für die Benachrichtigung.\n */\nasync function handleToggleUISettingCommand(settingKey, settingName) {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const uiSettings = { ...config.get('uiSettings') };\n    const newValue = !uiSettings[settingKey];\n    uiSettings[settingKey] = newValue;\n    await config.update('uiSettings', uiSettings, vscode.ConfigurationTarget.Global);\n    \n    // Für Benachrichtigungen immer eine Nachricht zeigen\n    if (settingKey === 'showNotifications') {\n         vscode.window.showInformationMessage(`${settingName} wurden ${newValue ? 'aktiviert' : 'deaktiviert'}.`);\n    } else if (uiSettings.showNotifications) {\n        vscode.window.showInformationMessage(`${settingName} wurde ${newValue ? 'aktiviert' : 'deaktiviert'}.`);\n    }\n    // UI Refresh wird durch onDidChangeConfiguration ausgelöst\n}\n\n// #endregion\n\n// #region Spezifische Handler (Beibehaltene Logik)\n\n/**\n * Behandelt das Kommando zum Bearbeiten des OpenAI API-Schlüssels.\n */\nasync function handleEditOpenAIKeyCommand() {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const currentValue = config.get('openai.apiKey');\n        const value = await vscode.window.showInputBox({\n            value: currentValue,\n        prompt: 'Geben Sie Ihren OpenAI API-Schlüssel ein',\n        placeHolder: 'sk-...',\n        password: true,\n        ignoreFocusOut: true\n        });\n        \n        if (value !== undefined) {\n        await config.update('openai.apiKey', value, vscode.ConfigurationTarget.Global);\n        vscode.window.showInformationMessage('OpenAI API-Schlüssel aktualisiert.');\n    }\n}\n\n/**\n * Behandelt das Kommando zur Auswahl des Anthropic-Modells.\n */\nasync function handleSelectAnthropicModelCommand() {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const currentModel = config.get('anthropic.model');\n    const models = [\n        'claude-3-haiku-20240307',\n        'claude-3-sonnet-20240229',\n        'claude-3-opus-20240229',\n        'claude-2.1',\n        'claude-2.0',\n        'claude-instant-1.2'\n    ];\n        \n        const selected = await vscode.window.showQuickPick(\n        models.map(name => ({\n            label: name,\n            description: name === currentModel ? '(Aktuell)' : ''\n        })),\n        { \n            placeHolder: 'Claude-Modell auswählen',\n            ignoreFocusOut: true\n        }\n        );\n        \n        if (selected) {\n        await config.update('anthropic.model', selected.label, vscode.ConfigurationTarget.Global);\n        vscode.window.showInformationMessage(`Anthropic-Modell auf ${selected.label} gesetzt.`);\n    }\n}\n\n/**\n * Behandelt das Kommando zum Bearbeiten des Anthropic API-Schlüssels.\n */\nasync function handleEditAnthropicKeyCommand() {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const currentValue = config.get('anthropic.apiKey');\n    const value = await vscode.window.showInputBox({\n        value: currentValue,\n        prompt: 'Geben Sie Ihren Anthropic API-Schlüssel ein',\n        placeHolder: 'sk-ant-...',\n        password: true,\n        ignoreFocusOut: true\n    });\n    \n    if (value !== undefined) {\n        await config.update('anthropic.apiKey', value, vscode.ConfigurationTarget.Global);\n        vscode.window.showInformationMessage('Anthropic API-Schlüssel aktualisiert.');\n    }\n}\n\n/**\n * Behandelt das Kommando zur Bearbeitung der Prompt-Vorlage.\n */\nasync function handleEditPromptTemplateCommand() {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const currentValue = config.get('promptTemplate');\n        \n        // Temporäre Datei erstellen und öffnen\n    try {\n        const document = await vscode.workspace.openTextDocument({\n            content: currentValue,\n            language: 'markdown'\n        });\n        \n        await vscode.window.showTextDocument(document);\n        \n        // Listener für Speichern hinzufügen und nach erfolgreichem Speichern wieder entfernen\n        const disposable = vscode.workspace.onDidSaveTextDocument(async (doc) => {\n            if (doc === document) {\n                const newContent = doc.getText();\n                // Nur aktualisieren, wenn sich der Inhalt geändert hat\n                if (newContent !== currentValue) {\n                    await config.update('promptTemplate', newContent, vscode.ConfigurationTarget.Global);\n                vscode.window.showInformationMessage('Prompt-Vorlage wurde gespeichert.');\n                }\n                disposable.dispose(); // Listener entfernen\n                // Optional: Temporäres Dokument schließen?\n                // await vscode.commands.executeCommand('workbench.action.closeActiveEditor');\n            }\n        });\n        \n        // Listener für Schließen des Dokuments (ohne Speichern)\n        const closeDisposable = vscode.workspace.onDidCloseTextDocument(doc => {\n            if (doc === document) {\n                disposable.dispose(); // Auch den Speicher-Listener entfernen\n                closeDisposable.dispose();\n            }\n        });\n\n    } catch (error) {\n        vscode.window.showErrorMessage(`Fehler beim Öffnen der Prompt-Vorlage: ${error.message}`);\n        console.error('Fehler bei handleEditPromptTemplateCommand:', error);\n    }\n}\n\n/**\n * Behandelt das Kommando zum Anzeigen des Dashboards.\n * @param {vscode.ExtensionContext} context \n */\nasync function handleShowDashboardCommand(context) {\n    try {\n        // Neues Panel erstellen\n        const panel = vscode.window.createWebviewPanel(\n            'comittoDashboard',\n            'Comitto Dashboard',\n            vscode.ViewColumn.One,\n            {\n                enableScripts: true,\n                retainContextWhenHidden: true,\n                localResourceRoots: [\n                    vscode.Uri.joinPath(context.extensionUri, 'resources')\n                ]\n            }\n        );\n        \n        // Nachrichten vom Webview verarbeiten\n        panel.webview.onDidReceiveMessage(\n            async (message) => {\n                try {\n                    switch (message.command) {\n                        case 'refresh':\n                            try {\n                                panel.webview.html = generateDashboardHTML(context);\n                            } catch (error) {\n                                console.error('Fehler beim Aktualisieren des Dashboards:', error);\n                                vscode.window.showErrorMessage(`Fehler beim Aktualisieren des Dashboards: ${error.message}`);\n                            }\n                            break;\n                        case 'toggleAutoCommit':\n                            try {\n                                const config = vscode.workspace.getConfiguration('comitto');\n                                const enabled = !config.get('autoCommitEnabled');\n                                await config.update('autoCommitEnabled', enabled, vscode.ConfigurationTarget.Global);\n                                panel.webview.html = generateDashboardHTML(context);\n                            } catch (error) {\n                                console.error('Fehler beim Umschalten des Auto-Commit-Status:', error);\n                                vscode.window.showErrorMessage(`Fehler beim Umschalten des Auto-Commit-Status: ${error.message}`);\n                            }\n                            break;\n                        case 'manualCommit':\n                            vscode.commands.executeCommand('comitto.performManualCommit');\n                            break;\n                        case 'openSettings':\n                            vscode.commands.executeCommand('comitto.openSettings');\n                            break;\n                        case 'configureProvider':\n                            vscode.commands.executeCommand('comitto.configureAIProvider');\n                            break;\n                        case 'configureTriggers':\n                            vscode.commands.executeCommand('comitto.configureTriggers');\n                            break;\n                        // Debug-Befehle\n                        case 'debugForceCommit':\n                            // Log zum Panel senden\n                            panel.webview.postMessage({ \n                                type: 'debugLog', \n                                content: 'Force Commit wird ausgeführt...' \n                            });\n                            \n                            try {\n                                // Commit ohne Validierung erzwingen\n                                await vscode.commands.executeCommand('comitto.performManualCommit');\n                                panel.webview.postMessage({ \n                                    type: 'debugLog', \n                                    content: 'Force Commit erfolgreich durchgeführt.' \n                                });\n                            } catch (error) {\n                                console.error('Debug Force Commit fehlgeschlagen:', error);\n                                panel.webview.postMessage({ \n                                    type: 'debugLog', \n                                    content: `Fehler: ${error.message}` \n                                });\n                            }\n                            break;\n                        case 'debugViewChangedFiles':\n                            // Liste der aktuell beobachteten Dateien an das Panel senden\n                            panel.webview.postMessage({ \n                                type: 'changedFiles', \n                                files: Array.from(changedFiles) \n                            });\n                            break;\n                    }\n                } catch (error) {\n                    console.error('Fehler bei der Verarbeitung des Dashboard-Befehls:', error);\n                    panel.webview.postMessage({ \n                        type: 'debugLog', \n                        content: `Fehler bei der Befehlsverarbeitung: ${error.message}` \n                    });\n                }\n            },\n            undefined,\n            context.subscriptions\n        );\n\n        // HTML für das Webview generieren und setzen\n        console.log('Setze Dashboard-HTML');\n        try {\n            panel.webview.html = generateDashboardHTML(context);\n        } catch (error) {\n            console.error('Fehler beim Generieren des Dashboard-HTML:', error);\n            vscode.window.showErrorMessage(`Fehler beim Öffnen des Dashboards: ${error.message}`);\n            \n            // Fallback-HTML setzen\n            panel.webview.html = `\n                <html>\n                <head>\n                    <style>\n                        body { font-family: Arial, sans-serif; padding: 20px; }\n                        .error { color: red; }\n                    </style>\n                </head>\n                <body>\n                    <h1>Fehler beim Laden des Dashboards</h1>\n                    <p class=\"error\">${error.message}</p>\n                    <p>Bitte schließen Sie das Dashboard und versuchen Sie es erneut zu öffnen.</p>\n                </body>\n                </html>\n            `;\n        }\n    } catch (error) {\n        console.error('Fehler beim Öffnen des Dashboards:', error);\n        vscode.window.showErrorMessage(`Fehler beim Öffnen des Comitto-Dashboards: ${error.message}`);\n    }\n}\n\n/**\n * Behandelt das Kommando zur Konfiguration des KI-Providers.\n * @param {Object} providers \n */\nasync function handleConfigureAIProviderCommand(providers) {\n    const providerOptions = [\n        { label: 'Ollama (lokal)', id: 'ollama' },\n        { label: 'OpenAI', id: 'openai' },\n        { label: 'Anthropic Claude', id: 'anthropic' }\n    ];\n    \n    const selectedProvider = await vscode.window.showQuickPick(providerOptions, {\n                placeHolder: 'KI-Provider auswählen',\n                title: 'Comitto - KI-Provider konfigurieren'\n    });\n    \n    if (!selectedProvider) return;\n    \n    // Provider in der Konfiguration speichern\n    await vscode.workspace.getConfiguration('comitto').update('aiProvider', selectedProvider.id, vscode.ConfigurationTarget.Global);\n    vscode.window.showInformationMessage(`KI-Provider auf \"${selectedProvider.label}\" gesetzt.`);\n    \n    // Provider-spezifische Einstellungen konfigurieren\n    let configSuccess = true;\n    switch (selectedProvider.id) {\n        case 'ollama':\n            configSuccess = await configureOllamaSettings();\n                    break;\n                case 'openai':\n            await handleOpenAIModelSelectionCommand();\n            await handleEditOpenAIKeyCommand(); // Fragen wir gleich nach dem Key\n            break;\n        case 'anthropic':\n            await handleSelectAnthropicModelCommand();\n            await handleEditAnthropicKeyCommand(); // Fragen wir gleich nach dem Key\n            break;\n    }\n    \n    // UI nur aktualisieren, wenn Konfiguration erfolgreich war\n    if (configSuccess && providers) {\n        providers.statusProvider.refresh();\n        providers.quickActionsProvider.refresh();\n        providers.settingsProvider.refresh();\n    }\n}\n\n/**\n * Konfiguriert die Ollama-Einstellungen (Endpunkt und Modell) mit verbesserter UX.\n * @returns {Promise<boolean>} True bei Erfolg, False bei Abbruch/Fehler.\n */\nasync function configureOllamaSettings() {\n    try {\n        const config = vscode.workspace.getConfiguration('comitto');\n        const currentEndpoint = config.get('ollama.endpoint') || 'http://localhost:11434/api/generate';\n        const currentModel = config.get('ollama.model') || 'llama3';\n        \n        // Konfiguration des Endpoints\n        const endpoint = await vscode.window.showInputBox({\n            placeHolder: 'http://localhost:11434/api/generate',\n            prompt: 'Ollama API-Endpunkt',\n            value: currentEndpoint,\n            validateInput: value => {\n                if (!value) return 'Der Endpunkt darf nicht leer sein';\n                if (!value.startsWith('http://') && !value.startsWith('https://')) {\n                    return 'Der Endpunkt muss mit http:// oder https:// beginnen';\n                }\n                // Einfache URL-Validierung (optional, könnte komplexer sein)\n                try {\n                    new URL(value);\n                } catch (e) {\n                    return 'Ungültige URL';\n                }\n                return null; // Kein Fehler\n            },\n            ignoreFocusOut: true\n        });\n        \n        // Abbruch durch Benutzer\n        if (endpoint === undefined) return false;\n\n        await config.update('ollama.endpoint', endpoint, vscode.ConfigurationTarget.Global);\n        \n        // Versuche, die Verbindung zu Ollama zu testen und Modelle zu laden\n        let availableModels = [];\n        let connectionError = null;\n        try {\n            const statusBarMessage = vscode.window.setStatusBarMessage('$(sync~spin) Teste Verbindung zu Ollama und lade Modelle...', 5000);\n            const axios = require('axios');\n            // Verwende /api/tags zum Testen der Verbindung und Abrufen der Modelle\n            const tagsEndpoint = endpoint.replace(/\\/api\\/(generate|chat)$/, '/api/tags');\n            const response = await axios.get(tagsEndpoint, { timeout: 7000 }); // 7 Sekunden Timeout\n            statusBarMessage.dispose(); // Nachricht entfernen\n            \n            if (response.data && response.data.models) {\n                availableModels = response.data.models.map(model => model.name).sort();\n                vscode.window.showInformationMessage(`Verbindung zu Ollama erfolgreich! ${availableModels.length} Modelle gefunden.`);\n            } else {\n                vscode.window.showWarningMessage('Verbindung zu Ollama erfolgreich, aber keine Modelle gefunden.');\n            }\n        } catch (error) {\n            connectionError = error;\n            console.error('Fehler beim Testen der Ollama-Verbindung:', error);\n            vscode.window.showWarningMessage(\n                `Warnung: Konnte keine Verbindung zu Ollama herstellen (${error.message}). ` +\n                'Bitte stellen Sie sicher, dass Ollama läuft und der Endpunkt korrekt ist.'\n            );\n        }\n        \n        // Konfiguration des Modells\n        const popularModels = [\n            'llama3', 'mistral', 'mixtral', 'phi', 'gemma', 'codellama', 'orca-mini'\n        ];\n        \n        // Kombiniere populäre und verfügbare Modelle ohne Duplikate\n        const allModels = [...new Set([...availableModels, ...popularModels])].sort(); // Sortieren für bessere Übersicht\n        \n        // QuickPick für Modell-Auswahl\n        const quickPickItems = allModels.map(model => ({\n            label: model,\n            description: availableModels.includes(model) ? '$(check) Lokal verfügbar' : '$(cloud-download) Evtl. Download nötig',\n            detail: model === currentModel ? '(Aktuell ausgewählt)' : ''\n        }));\n        \n        const selectedModel = await vscode.window.showQuickPick(quickPickItems, {\n            placeHolder: 'Wählen Sie ein Ollama-Modell',\n            title: 'Ollama Modell auswählen',\n            ignoreFocusOut: true\n        });\n        \n        // Abbruch durch Benutzer\n        if (!selectedModel) return false;\n\n        await config.update('ollama.model', selectedModel.label, vscode.ConfigurationTarget.Global);\n        vscode.window.showInformationMessage(`Ollama-Modell auf \"${selectedModel.label}\" gesetzt.`);\n        \n        return true; // Erfolg\n    } catch (error) {\n        vscode.window.showErrorMessage(`Fehler bei der Konfiguration von Ollama: ${error.message}`);\n        console.error('Fehler bei der Konfiguration von Ollama:', error);\n        return false; // Fehler\n    }\n}\n\n/**\n * Funktion zum Verwalten der OpenAI-Modellauswahl\n * Verbesserte Implementierung mit moderner Benutzeroberfläche\n * @returns {Promise<void>}\n */\nasync function handleOpenAIModelSelectionCommand() {\n    try {\n        // OpenAI-Modelle aus UI-Modul abrufen\n        const models = ui.getOpenAIModelOptions().map(option => ({\n            label: option.label,\n            description: option.value,\n            detail: option.value === 'gpt-4o' ? 'Empfohlen' : undefined\n        }));\n        \n        // Aktuelles Modell abrufen\n        const config = vscode.workspace.getConfiguration('comitto');\n        const currentModel = config.get('openai.model');\n        \n        // Modellauswahl anzeigen\n        const selectedModel = await vscode.window.showQuickPick(models, {\n            placeHolder: 'Wählen Sie ein OpenAI-Modell',\n            title: 'OpenAI-Modell auswählen',\n            matchOnDescription: true,\n            matchOnDetail: true\n        });\n        \n        if (selectedModel) {\n            // Konfiguration aktualisieren\n            await config.update('openai.model', selectedModel.description, vscode.ConfigurationTarget.Global);\n            vscode.window.showInformationMessage(`OpenAI-Modell auf \"${selectedModel.label}\" gesetzt.`);\n        }\n    } catch (error) {\n        vscode.window.showErrorMessage(`Fehler bei der OpenAI-Modellauswahl: ${error.message}`);\n    }\n}\n\n/**\n * Behandelt das Kommando zur Konfiguration der Trigger-Regeln.\n * @param {vscode.ExtensionContext} context \n * @param {Object} providers \n */\nasync function handleConfigureTriggersCommand(context, providers) {\n    const configOptions = [\n        // { label: 'Grafischer Trigger-Konfigurator öffnen', id: 'graphical', description: 'Visuelle Einstellung der Trigger' }, // Zukünftig?\n        { label: 'Trigger-Einstellungen bearbeiten', id: 'direct', description: 'Einzelne Trigger-Regeln anpassen' }\n    ];\n    \n    const selectedOption = await vscode.window.showQuickPick(configOptions, {\n        placeHolder: 'Wie möchten Sie die Trigger konfigurieren?',\n            title: 'Comitto - Trigger konfigurieren'\n        });\n        \n    if (!selectedOption) return;\n    \n    // if (selectedOption.id === 'graphical') {\n    //     showTriggerConfigWebview(context, providers); // Für zukünftige grafische UI\n    // } else\n     if (selectedOption.id === 'direct') {\n        // Menü zur Auswahl der spezifischen Trigger-Einstellung\n        const config = vscode.workspace.getConfiguration('comitto');\n        const rules = config.get('triggerRules');\n        \n        const triggerOptions = [\n            { label: `Datei-Anzahl Schwellenwert: ${rules.fileCountThreshold}`, id: 'comitto.editFileCountThreshold' },\n            { label: `Änderungs-Anzahl Schwellenwert: ${rules.minChangeCount}`, id: 'comitto.editMinChangeCount' },\n            { label: `Zeit-Schwellwert (Minuten): ${rules.timeThresholdMinutes}`, id: 'comitto.editTimeThreshold' },\n            { label: `Trigger bei Speichern: ${rules.onSave ? 'Ja' : 'Nein'}`, id: 'comitto.toggleOnSave' },\n            { label: `Intervall-Trigger: ${rules.onInterval ? `Ja (alle ${rules.intervalMinutes} Min.)` : 'Nein'}`, id: 'comitto.toggleOnInterval' },\n            { label: `Intervall-Dauer bearbeiten`, id: 'comitto.editIntervalMinutes', disabled: !rules.onInterval }, // Nur wenn Intervall aktiv\n            { label: `Trigger bei Branch-Wechsel: ${rules.onBranchSwitch ? 'Ja' : 'Nein'}`, id: 'comitto.toggleOnBranchSwitch' },\n            { label: 'Dateimuster bearbeiten', id: 'comitto.editFilePatterns' },\n            { label: 'Spezifische Dateien bearbeiten', id: 'comitto.editSpecificFiles' }\n        ];\n        \n        const selectedTrigger = await vscode.window.showQuickPick(\n             triggerOptions.filter(opt => !opt.disabled), // Deaktivierte Optionen ausblenden\n             {\n                placeHolder: 'Welche Trigger-Einstellung möchten Sie bearbeiten?',\n                title: 'Comitto - Trigger-Regel bearbeiten'\n             }\n        );\n        \n        if (selectedTrigger && selectedTrigger.id) {\n            vscode.commands.executeCommand(selectedTrigger.id);\n        }\n    }\n}\n\n/**\n * Zeigt eine einfache Benutzeroberfläche für grundlegende Funktionen.\n * @param {vscode.ExtensionContext} context \n * @param {Object} providers \n */\nfunction showSimpleUI(context, providers) {\n    try {\n        // Neues Panel erstellen\n        const panel = vscode.window.createWebviewPanel(\n            'comittoSimpleUI',\n            'Comitto: Einfache Benutzeroberfläche',\n            vscode.ViewColumn.One,\n            {\n                enableScripts: true,\n                retainContextWhenHidden: true,\n                localResourceRoots: [\n                    vscode.Uri.joinPath(context.extensionUri, 'resources')\n                ]\n            }\n        );\n        \n        // Konfiguration auslesen\n        const config = vscode.workspace.getConfiguration('comitto');\n        const autoCommitEnabled = config.get('autoCommitEnabled');\n        const providerName = ui.getProviderDisplayName(config.get('aiProvider'));\n        \n        // HTML für das Webview generieren und setzen\n        panel.webview.html = generateSimpleUIHTML(autoCommitEnabled, providerName, context);\n        \n        // Nachrichten vom Webview verarbeiten\n        panel.webview.onDidReceiveMessage(\n            async (message) => {\n                try {\n                    switch (message.command) {\n                        case 'toggleAutoCommit':\n                            const newEnabled = !autoCommitEnabled;\n                            await config.update('autoCommitEnabled', newEnabled, vscode.ConfigurationTarget.Global);\n                            // UI-Aktualisierung (wird automatisch durch Konfigurationsänderung ausgelöst)\n                            break;\n                        case 'performManualCommit':\n                            vscode.commands.executeCommand('comitto.performManualCommit');\n                            break;\n                        case 'selectProvider':\n                            vscode.commands.executeCommand('comitto.configureAIProvider');\n                            break;\n                        case 'configureTriggers':\n                            vscode.commands.executeCommand('comitto.configureTriggers');\n                            break;\n                        case 'openDashboard':\n                            vscode.commands.executeCommand('comitto.showDashboard');\n                            break;\n                        case 'openSettings':\n                            vscode.commands.executeCommand('comitto.openSettings');\n                            break;\n                    }\n                } catch (error) {\n                    vscode.window.showErrorMessage(`Fehler bei der Verarbeitung der SimpleUI-Aktion: ${error.message}`);\n                }\n            },\n            undefined,\n            context.subscriptions\n        );\n    } catch (error) {\n        console.error('Fehler beim Öffnen der einfachen Benutzeroberfläche:', error);\n        vscode.window.showErrorMessage(`Fehler beim Öffnen der einfachen Benutzeroberfläche: ${error.message}`);\n    }\n}\n\n/**\n * Generiert das HTML für die einfache Benutzeroberfläche.\n * @param {boolean} autoCommitEnabled \n * @param {string} providerName \n * @param {vscode.ExtensionContext} context\n * @returns {string} \n */\nfunction generateSimpleUIHTML(autoCommitEnabled, providerName, context) {\n    // Pfade zu Ressourcen erstellen\n    const simpleUIJsUri = vscode.Uri.joinPath(context.extensionUri, 'resources', 'ui', 'simpleUI.js');\n    const styleUri = vscode.Uri.joinPath(context.extensionUri, 'resources', 'ui', 'styles.css');\n    const animationsUri = vscode.Uri.joinPath(context.extensionUri, 'resources', 'ui', 'animations.css');\n    const logoUri = vscode.Uri.joinPath(context.extensionUri, 'resources', 'icon.svg');\n\n    // Webview URIs erstellen\n    let panel = context.globalState.get('comittoSimpleUIPanel');\n    if (!panel) return \"<div>Simple UI konnte nicht geladen werden.</div>\";\n\n    const simpleUIJsWebviewUri = panel.webview.asWebviewUri(simpleUIJsUri);\n    const styleWebviewUri = panel.webview.asWebviewUri(styleUri);\n    const animationsWebviewUri = panel.webview.asWebviewUri(animationsUri);\n    const logoWebviewUri = panel.webview.asWebviewUri(logoUri);\n    \n    // Nonce für CSP\n    const nonce = getNonce();\n\n    // Version aus package.json lesen\n    let version = '0.9.5'; // Aktuelle Version\n    try {\n        const pkgPath = vscode.Uri.joinPath(context.extensionUri, 'package.json').fsPath;\n        const pkg = JSON.parse(require('fs').readFileSync(pkgPath, 'utf8'));\n        version = pkg.version || version;\n    } catch (e) {\n        console.error(\"Fehler beim Lesen der package.json für Version\", e);\n    }\n\n    return `\n    <!DOCTYPE html>\n    <html lang=\"de\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <!-- Content Security Policy -->\n        <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src ${panel.webview.cspSource} https://cdn.jsdelivr.net 'unsafe-inline'; font-src https://fonts.gstatic.com; img-src ${panel.webview.cspSource} https: data:; script-src 'nonce-${nonce}' https://cdn.jsdelivr.net; connect-src 'none';\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        \n        <!-- Tailwind CSS -->\n        <link href=\"https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css\" rel=\"stylesheet\">\n        \n        <!-- Custom Styles -->\n        <link href=\"${styleWebviewUri}\" rel=\"stylesheet\">\n        <link href=\"${animationsWebviewUri}\" rel=\"stylesheet\">\n        \n        <!-- Google Fonts - Inter -->\n        <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\n        \n        <title>Comitto - Einfache Bedienung</title>\n        \n        <style nonce=\"${nonce}\">\n            /* Spezifische Inline-Styles für diese Ansicht */\n            .animated-bg {\n                background: linear-gradient(-45deg, #6366f1, #4f46e5, #3b82f6, #0ea5e9);\n                background-size: 400% 400%;\n                animation: animated-bg 15s ease infinite;\n            }\n            \n            .status-box {\n                border-radius: 16px;\n                padding: 1rem;\n                margin: 1.5rem 0;\n                text-align: center;\n                font-size: 1.25rem;\n                font-weight: 500;\n                transition: all 0.3s ease;\n            }\n            \n            .provider-card {\n                display: flex;\n                align-items: center;\n                gap: 1rem;\n                padding: 1rem;\n                border-radius: 12px;\n                background: rgba(255, 255, 255, 0.1);\n                margin-bottom: 1rem;\n            }\n            \n            .provider-icon {\n                font-size: 2rem;\n                width: 48px;\n                height: 48px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                border-radius: 12px;\n                background: rgba(99, 102, 241, 0.2);\n            }\n        </style>\n    </head>\n    <body class=\"vscode-dark\">\n        <div class=\"container animated-bg\">\n            <!-- Header mit Logo -->\n            <div class=\"header flex items-center justify-center py-6\">\n                <img src=\"${logoWebviewUri}\" alt=\"Comitto Logo\" class=\"h-16 w-16 floating-element\"/>\n                <h1 class=\"text-3xl font-bold ml-4 typing\">Comitto</h1>\n            </div>\n            \n            <!-- Status-Anzeige -->\n            <div class=\"status-box glass-container ${autoCommitEnabled ? 'bg-green-900 bg-opacity-20' : 'bg-red-900 bg-opacity-20'} border ${autoCommitEnabled ? 'border-green-500' : 'border-red-500'} shadow-lg\">\n                <div class=\"flex items-center justify-center\">\n                    <span class=\"status-indicator ${autoCommitEnabled ? 'status-active pulse' : 'status-inactive'} mr-2\"></span>\n                    <span>Automatische Commits: <strong>${autoCommitEnabled ? 'AKTIVIERT' : 'DEAKTIVIERT'}</strong></span>\n                </div>\n            </div>\n            \n            <!-- Aktions-Buttons -->\n            <div class=\"action-buttons flex flex-col gap-4 mt-8\">\n                <button id=\"toggleBtn\" class=\"btn ${autoCommitEnabled ? 'btn-danger' : 'btn-secondary'} hover-lift w-full text-lg py-4\" data-enabled=\"${autoCommitEnabled}\">\n                    <span class=\"icon text-2xl\">${autoCommitEnabled ? '🚫' : '✅'}</span>\n                    ${autoCommitEnabled ? 'Auto-Commit deaktivieren' : 'Auto-Commit aktivieren'}\n                </button>\n                \n                <button id=\"manualCommitBtn\" class=\"btn hover-lift w-full text-lg py-4\">\n                    <span class=\"icon text-2xl\">💾</span>\n                    Manuellen Commit ausführen\n                </button>\n            </div>\n            \n            <!-- KI-Provider Info -->\n            <div class=\"info-box glass-container mt-8 p-4 rounded-xl shadow-lg\">\n                <h2 class=\"text-xl font-semibold mb-4 flex items-center\">\n                    <span class=\"icon mr-2\">🧠</span> KI-Provider\n                </h2>\n                <div class=\"provider-card\">\n                    <div class=\"provider-icon\">🤖</div>\n                    <div class=\"flex-1\">\n                        <p>Aktiver Provider:</p>\n                        <p class=\"text-lg font-semibold\">${providerName}</p>\n                    </div>\n                    <button id=\"configureAIBtn\" class=\"btn btn-icon\">\n                        <span class=\"icon\">⚙️</span>\n                    </button>\n                </div>\n            </div>\n            \n            <!-- Weitere Aktionen -->\n            <div class=\"info-box glass-container mt-6 p-4 rounded-xl shadow-lg\">\n                <h2 class=\"text-xl font-semibold mb-4 flex items-center\">\n                    <span class=\"icon mr-2\">⚡</span> Weitere Aktionen\n                </h2>\n                <div class=\"grid grid-cols-1 gap-3\">\n                    <button id=\"configureTriggersBtn\" class=\"btn btn-secondary hover-lift\">\n                        <span class=\"icon\">⚙️</span> Trigger konfigurieren\n                    </button>\n                    <button id=\"openDashboardBtn\" class=\"btn btn-secondary hover-lift\">\n                        <span class=\"icon\">📊</span> Dashboard öffnen\n                    </button>\n                    <button id=\"openSettingsBtn\" class=\"btn btn-secondary hover-lift\">\n                        <span class=\"icon\">🔧</span> Alle Einstellungen\n                    </button>\n                </div>\n            </div>\n            \n            <!-- Footer -->\n            <div class=\"footer mt-8 mb-4 text-center opacity-70\">\n                <p>Comitto v${version}</p>\n            </div>\n        </div>\n        \n        <!-- Simple UI JavaScript -->\n        <script nonce=\"${nonce}\" src=\"${simpleUIJsWebviewUri}\"></script>\n    </body>\n    </html>\n    `;\n}\n\n/**\n * Generiert das HTML für das Dashboard (Webview).\n * @param {vscode.ExtensionContext} context\n * @returns {string} HTML-Inhalt\n */\nfunction generateDashboardHTML(context) {\n    // Bestehendes Panel abrufen\n    let panel = context.globalState.get('comittoDashboardPanel');\n    if (!panel || !panel.webview) {\n        console.error('Dashboard-Panel nicht gefunden oder webview nicht verfügbar');\n        // Das Panel sollte bereits erstellt worden sein, bevor diese Funktion aufgerufen wird\n        // Statt undefined zurückzugeben, geben wir eine Fehlermeldung zurück\n        return `<html><body><h1>Fehler beim Initialisieren des Dashboards</h1>\n                <p>Bitte schließen Sie das Dashboard und versuchen Sie es erneut zu öffnen.</p></body></html>`;\n    }\n    \n    const config = vscode.workspace.getConfiguration('comitto');\n    const enabled = config.get('autoCommitEnabled');\n    const provider = config.get('aiProvider');\n    const rules = config.get('triggerRules');\n    const gitSettings = config.get('gitSettings');\n    const providerName = ui.getProviderDisplayName(provider);\n    const providerIcon = ui.getProviderIcon(provider); // Holen des Icons\n    \n    let providerModel = '';\n    switch (provider) {\n        case 'ollama': providerModel = config.get('ollama.model'); break;\n        case 'openai': providerModel = config.get('openai.model'); break;\n        case 'anthropic': providerModel = config.get('anthropic.model'); break;\n    }\n\n    // Pfade zu Ressourcen\n    const dashboardJsUri = vscode.Uri.joinPath(context.extensionUri, 'resources', 'ui', 'dashboard.js');\n    const styleUri = vscode.Uri.joinPath(context.extensionUri, 'resources', 'ui', 'styles.css');\n    const animationsUri = vscode.Uri.joinPath(context.extensionUri, 'resources', 'ui', 'animations.css');\n    const logoUri = vscode.Uri.joinPath(context.extensionUri, 'resources', 'icon.svg');\n    \n    // Webview URIs erstellen\n    const dashboardJsWebviewUri = panel.webview.asWebviewUri(dashboardJsUri);\n    const styleWebviewUri = panel.webview.asWebviewUri(styleUri);\n    const animationsWebviewUri = panel.webview.asWebviewUri(animationsUri);\n    const logoWebviewUri = panel.webview.asWebviewUri(logoUri);\n    \n    // Nonce für CSP\n    const nonce = getNonce();\n    \n    // Version aus package.json lesen\n    let version = '0.9.6'; // Aktuelle Version\n    try {\n        const pkgPath = vscode.Uri.joinPath(context.extensionUri, 'package.json').fsPath;\n        const pkg = JSON.parse(require('fs').readFileSync(pkgPath, 'utf8'));\n        version = pkg.version || version;\n    } catch (e) {\n        console.error(\"Fehler beim Lesen der package.json für Version\", e);\n    }\n    \n    return `\n    <!DOCTYPE html>\n    <html lang=\"de\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <!-- Content Security Policy -->\n        <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src ${panel.webview.cspSource} https://cdn.jsdelivr.net 'unsafe-inline'; font-src https://fonts.gstatic.com; img-src ${panel.webview.cspSource} https: data:; script-src 'nonce-${nonce}' https://cdn.jsdelivr.net; connect-src 'none';\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        \n        <!-- Tailwind CSS -->\n        <link href=\"https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css\" rel=\"stylesheet\">\n        \n        <!-- Custom Styles -->\n        <link href=\"${styleWebviewUri}\" rel=\"stylesheet\">\n        <link href=\"${animationsWebviewUri}\" rel=\"stylesheet\">\n        \n        <!-- Google Fonts - Inter -->\n        <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\n        \n        <title>Comitto Dashboard</title>\n    </head>\n    <body class=\"vscode-dark\">\n        <div class=\"container glass-container animated-bg\">\n            <div class=\"dashboard-header\">\n                <div class=\"flex items-center gap-4\">\n                    <img src=\"${logoWebviewUri}\" alt=\"Comitto Logo\" class=\"h-12 w-12 floating-element\"/>\n                    <h1 class=\"dashboard-title typing\">Comitto Dashboard</h1>\n                </div>\n                <button id=\"refreshBtn\" class=\"btn btn-icon\" title=\"Aktualisieren\">\n                    <span class=\"icon\">🔄</span>\n                </button>\n            </div>\n            \n            <div class=\"flex justify-between items-center mb-6 fade-in\" style=\"animation-delay: 0.2s\">\n                <div class=\"status ${enabled ? 'status-enabled' : 'status-disabled'} flex items-center\">\n                    <span class=\"status-indicator ${enabled ? 'status-active' : 'status-inactive'}\"></span>\n                    <span><strong>Status:</strong> Comitto ist derzeit ${enabled ? 'aktiviert' : 'deaktiviert'}</span>\n                </div>\n                \n                <div class=\"flex gap-2\">\n                    <button id=\"commitBtn\" class=\"btn hover-lift\" title=\"Jetzt einen Commit mit KI generieren\">\n                        <span class=\"icon\">💾</span> Manueller Commit\n                    </button>\n                    <button id=\"toggleBtn\" class=\"btn ${enabled ? 'btn-danger' : 'btn-secondary'} hover-lift\" data-enabled=\"${enabled}\" title=\"Automatische Commits an-/ausschalten\">\n                        <span class=\"icon\">${enabled ? '🚫' : '✅'}</span> ${enabled ? 'Deaktivieren' : 'Aktivieren'}\n                    </button>\n                </div>\n            </div>\n            \n            <div class=\"dashboard fade-in\" style=\"animation-delay: 0.4s\">\n                <!-- KI-Konfiguration -->\n                <div class=\"card interactive\">\n                    <div class=\"card-header\">\n                        <h2 class=\"card-title\">\n                            <span class=\"icon\">${providerIcon.id ? `$(${providerIcon.id})` : '🧠'}</span> KI-Konfiguration\n                        </h2>\n                        <span class=\"badge badge-primary\">\n                            ${providerName}\n                        </span>\n                    </div>\n                    <div class=\"card-content\">\n                        <p class=\"mb-2\"><strong>Modell:</strong> ${providerModel || 'Nicht gesetzt'}</p>\n                        <div class=\"flex justify-center mt-4\">\n                            <button id=\"configureAIBtn\" class=\"btn btn-secondary hover-lift\">\n                                <span class=\"icon\">⚙️</span> KI konfigurieren\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                \n                <!-- Trigger-Regeln -->\n                <div class=\"card interactive\">\n                    <div class=\"card-header\">\n                        <h2 class=\"card-title\">\n                            <span class=\"icon\">⚙️</span> Trigger-Regeln\n                        </h2>\n                        <span class=\"badge ${rules.onSave || rules.onInterval ? 'badge-success' : 'badge-danger'}\">\n                            ${rules.onSave || rules.onInterval ? 'Aktiv' : 'Inaktiv'}\n                        </span>\n                    </div>\n                    <div class=\"card-content\">\n                        <div class=\"grid grid-cols-2 gap-2 mb-3\">\n                            <div>\n                                <p><strong>Datei-Anzahl:</strong></p>\n                                <span class=\"badge\">${rules.fileCountThreshold}</span>\n                            </div>\n                            <div>\n                                <p><strong>Änderungs-Anzahl:</strong></p>\n                                <span class=\"badge\">${rules.minChangeCount}</span>\n                            </div>\n                            <div>\n                                <p><strong>Zeit-Schwellwert:</strong></p>\n                                <span class=\"badge\">${rules.timeThresholdMinutes} Min.</span>\n                            </div>\n                            <div>\n                                <p><strong>Aktive Trigger:</strong></p>\n                                <div class=\"flex flex-wrap gap-1\">\n                                    ${rules.onSave ? '<span class=\"badge badge-success\">Speichern</span>' : ''}\n                                    ${rules.onInterval ? `<span class=\"badge badge-success\">Intervall (${rules.intervalMinutes} Min.)</span>` : ''}\n                                    ${rules.onBranchSwitch ? '<span class=\"badge badge-success\">Branch-Wechsel</span>' : ''}\n                                    ${!rules.onSave && !rules.onInterval && !rules.onBranchSwitch ? '<span class=\"badge badge-danger\">Keine</span>' : ''}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"flex justify-center\">\n                            <button id=\"configureTriggersBtn\" class=\"btn btn-secondary hover-lift\">\n                                <span class=\"icon\">⚙️</span> Trigger konfigurieren\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                \n                <!-- Git-Einstellungen -->\n                <div class=\"card interactive\">\n                    <div class=\"card-header\">\n                        <h2 class=\"card-title\">\n                            <span class=\"icon\">📝</span> Git-Einstellungen\n                        </h2>\n                        <span class=\"badge badge-primary\">\n                            ${gitSettings.commitMessageLanguage === 'de' ? 'Deutsch' : 'Englisch'}\n                        </span>\n                    </div>\n                    <div class=\"card-content\">\n                        <div class=\"grid grid-cols-2 gap-2 mb-3\">\n                            <div>\n                                <p><strong>Auto-Push:</strong></p>\n                                <span class=\"badge ${gitSettings.autoPush ? 'badge-success' : 'badge-danger'}\">\n                                    ${gitSettings.autoPush ? 'Ja' : 'Nein'}\n                                </span>\n                            </div>\n                            <div>\n                                <p><strong>Branch:</strong></p>\n                                <span class=\"badge tooltip\">\n                                    ${gitSettings.branch || 'Aktueller Branch'}\n                                    <span class=\"tooltip-text\">Aktiv für ${gitSettings.branch || 'aktuellen Branch'}</span>\n                                </span>\n                            </div>\n                            <div>\n                                <p><strong>Commit-Stil:</strong></p>\n                                <span class=\"badge\">${gitSettings.commitMessageStyle}</span>\n                            </div>\n                            <div>\n                                <p><strong>Staging-Modus:</strong></p>\n                                <span class=\"badge\">${ui.getStageModeLabel(gitSettings.stageMode)}</span>\n                            </div>\n                        </div>\n                        <div class=\"flex justify-center\">\n                            <button id=\"openSettingsBtn\" class=\"btn btn-secondary hover-lift\">\n                                <span class=\"icon\">🔧</span> Alle Einstellungen\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                \n                <!-- Aktivitätsübersicht -->\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <h2 class=\"card-title\">\n                            <span class=\"icon\">📊</span> Aktivitätsübersicht\n                        </h2>\n                    </div>\n                    <div class=\"card-content\">\n                        <div class=\"h-40\">\n                            <canvas id=\"commitChart\"></canvas>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div class=\"flex justify-center mt-4 fade-in\" style=\"animation-delay: 0.8s\">\n                <div class=\"badge\">Comitto v${version}</div>\n            </div>\n        </div>\n        \n        <!-- Chart.js (optional) -->\n        <script nonce=\"${nonce}\" src=\"https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js\"></script>\n        \n        <!-- Dashboard JavaScript -->\n        <script nonce=\"${nonce}\" src=\"${dashboardJsWebviewUri}\"></script>\n    </body>\n    </html>\n    `;\n}\n\n/**\n * Generiert eine Nonce für die Content Security Policy.\n * @returns {string} Eine zufällige Nonce.\n */\nfunction getNonce() {\n    let text = '';\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (let i = 0; i < 32; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n}\n\n/**\n * Funktion zum Verwalten der Commit-Nachrichtensprache\n * Verbesserte Implementierung mit Anpassung des Prompt-Templates\n * @returns {Promise<void>}\n */\nasync function handleCommitMessageLanguageCommand() {\n    try {\n        // Konfiguration abrufen\n        const config = vscode.workspace.getConfiguration('comitto');\n        const gitSettings = config.get('gitSettings') || {};\n        \n        // Aktuell eingestellte Sprache abrufen\n        const currentLanguage = gitSettings.commitMessageLanguage || 'en';\n        \n        // Sprachoptionen definieren\n        const languageOptions = [\n            { label: 'Englisch', value: 'en', description: 'Commit-Nachrichten in englischer Sprache' },\n            { label: 'Deutsch', value: 'de', description: 'Commit-Nachrichten in deutscher Sprache' }\n        ];\n        \n        // Sprachauswahl anzeigen\n        const selectedLanguage = await vscode.window.showQuickPick(languageOptions, {\n            placeHolder: 'Wählen Sie die Sprache für Commit-Nachrichten',\n            title: 'Commit-Nachrichtensprache auswählen'\n        });\n        \n        if (selectedLanguage) {\n            // Git-Einstellungen aktualisieren\n            gitSettings.commitMessageLanguage = selectedLanguage.value;\n            await config.update('gitSettings', gitSettings, vscode.ConfigurationTarget.Global);\n            \n            // Prompt-Template entsprechend anpassen\n            let promptTemplate = config.get('promptTemplate');\n            \n            // Je nach gewählter Sprache den Prompt-Template anpassen\n            if (selectedLanguage.value === 'de') {\n                // Wenn es bereits ein deutsches Template gibt, nicht ersetzen\n                if (!promptTemplate.includes('auf Deutsch')) {\n                    promptTemplate = promptTemplate.replace(\n                        /Generate a meaningful commit message in English/i,\n                        'Generiere eine aussagekräftige Commit-Nachricht auf Deutsch'\n                    );\n                    promptTemplate = promptTemplate.replace(\n                        /using the Conventional Commits format/i,\n                        'im Format der Conventional Commits'\n                    );\n                    promptTemplate = promptTemplate.replace(\n                        /Keep it under 80 characters/i,\n                        'Halte sie unter 80 Zeichen'\n                    );\n                    promptTemplate = promptTemplate.replace(\n                        /Here is the diff of changes/i,\n                        'Hier ist das Diff der Änderungen'\n                    );\n                }\n            } else {\n                // Wenn es bereits ein englisches Template gibt, nicht ersetzen\n                if (!promptTemplate.includes('in English')) {\n                    promptTemplate = promptTemplate.replace(\n                        /Generiere eine aussagekräftige Commit-Nachricht auf Deutsch/i,\n                        'Generate a meaningful commit message in English'\n                    );\n                    promptTemplate = promptTemplate.replace(\n                        /im Format der Conventional Commits/i,\n                        'using the Conventional Commits format'\n                    );\n                    promptTemplate = promptTemplate.replace(\n                        /Halte sie unter 80 Zeichen/i,\n                        'Keep it under 80 characters'\n                    );\n                    promptTemplate = promptTemplate.replace(\n                        /Hier ist das Diff der Änderungen/i,\n                        'Here is the diff of changes'\n                    );\n                }\n            }\n            \n            // Aktualisiertes Template speichern\n            await config.update('promptTemplate', promptTemplate, vscode.ConfigurationTarget.Global);\n            \n            vscode.window.showInformationMessage(\n                `Commit-Nachrichtensprache auf \"${selectedLanguage.label}\" gesetzt.`\n            );\n        }\n    } catch (error) {\n        vscode.window.showErrorMessage(`Fehler bei der Spracheinstellung: ${error.message}`);\n    }\n}\n\n/**\n * Behandelt das Kommando zur Auswahl des Staging-Modus.\n */\nasync function handleSelectStageModeCommand() {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const gitSettings = { ...config.get('gitSettings') };\n    const currentMode = gitSettings.stageMode || 'all';\n\n    const modes = [\n        { label: 'Alle Änderungen', value: 'all', detail: 'Alle geänderten Dateien automatisch stagen (`git add .`)' },\n        { label: 'Spezifische Muster', value: 'specific', detail: 'Nur Dateien stagen, die bestimmten Mustern entsprechen' },\n        { label: 'Manuell auswählen', value: 'prompt', detail: 'Vor jedem Commit nach zu stagenden Dateien fragen' }\n    ];\n\n    const selected = await vscode.window.showQuickPick(\n        modes.map(mode => ({ ...mode, description: currentMode === mode.value ? '(Aktuell)' : ''})),\n        {\n            placeHolder: 'Staging-Modus auswählen',\n            title: 'Wie sollen Änderungen gestaged werden?',\n            ignoreFocusOut: true\n        });\n\n    if (selected) {\n        gitSettings.stageMode = selected.value;\n        await config.update('gitSettings', gitSettings, vscode.ConfigurationTarget.Global);\n        vscode.window.showInformationMessage(`Staging-Modus auf \"${selected.label}\" gesetzt.`);\n        \n        // Wenn \"Spezifische Dateien\" ausgewählt wurde und keine Muster existieren, nach Mustern fragen\n        if (selected.value === 'specific' && (!gitSettings.specificStagingPatterns || gitSettings.specificStagingPatterns.length === 0)) {\n            await handleEditStagingPatternsCommand();\n        }\n        // UI Refresh wird durch onDidChangeConfiguration ausgelöst\n    }\n}\n\n/**\n * Behandelt das Kommando zum Bearbeiten der Staging-Muster.\n */\nasync function handleEditStagingPatternsCommand() {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const gitSettings = { ...config.get('gitSettings') };\n    const currentPatterns = gitSettings.specificStagingPatterns || [];\n\n    const input = await vscode.window.showInputBox({\n        placeHolder: '*.js,*.json,src/**/*',\n        value: currentPatterns.join(','),\n        prompt: 'Kommagetrennte Glob-Muster für spezifisches Staging',\n        title: 'Staging-Muster bearbeiten',\n        ignoreFocusOut: true\n    });\n\n    if (input !== undefined) {\n        const patterns = input.split(',').map(p => p.trim()).filter(p => p);\n        gitSettings.specificStagingPatterns = patterns;\n        await config.update('gitSettings', gitSettings, vscode.ConfigurationTarget.Global);\n        if (patterns.length > 0) {\n            vscode.window.showInformationMessage(`Spezifische Staging-Muster aktualisiert: ${patterns.join(', ')}`);\n        } else {\n             vscode.window.showInformationMessage('Spezifische Staging-Muster entfernt.');\n        }\n       // UI Refresh wird durch onDidChangeConfiguration ausgelöst\n    }\n}\n\n/**\n * Behandelt das Kommando zum Ausführen des \"Alle Änderungen stagen\"-Befehls.\n * @returns {Promise<boolean>} True bei Erfolg, False bei Fehler/Abbruch.\n */\nasync function handleStageAllCommand() {\n    try {\n        const workspaceFolder = vscode.workspace.workspaceFolders && vscode.workspace.workspaceFolders[0];\n        if (!workspaceFolder) {\n            vscode.window.showErrorMessage('Kein Workspace geöffnet.');\n            return false;\n        }\n        const repoPath = workspaceFolder.uri.fsPath;\n        \n        // Prüfe, ob es überhaupt Änderungen gibt\n        const statusOutput = await executeGitCommand('git status --porcelain', repoPath);\n        if (!statusOutput.trim()) {\n            vscode.window.showInformationMessage('Keine Änderungen zum Stagen vorhanden.');\n            return true;\n        }\n\n        const statusBarMessage = vscode.window.setStatusBarMessage('$(sync~spin) Stage alle Änderungen...', 2000);\n        await executeGitCommand('git add .', repoPath);\n        statusBarMessage.dispose();\n        vscode.window.showInformationMessage('Alle Änderungen wurden gestaged.');\n        return true;\n    } catch (error) {\n        vscode.window.showErrorMessage(`Fehler beim Stagen aller Änderungen: ${error.message}`);\n        return false;\n    }\n}\n\n/**\n * Behandelt das Kommando zum Ausführen des \"Ausgewählte Dateien stagen\"-Befehls.\n * @returns {Promise<boolean>} True bei Erfolg, False bei Fehler/Abbruch.\n */\nasync function handleStageSelectedCommand() {\n    try {\n        const workspaceFolder = vscode.workspace.workspaceFolders && vscode.workspace.workspaceFolders[0];\n        if (!workspaceFolder) {\n            vscode.window.showErrorMessage('Kein Workspace geöffnet.');\n            return false;\n        }\n        const repoPath = workspaceFolder.uri.fsPath;\n        \n        // Git-Status abrufen\n        const statusOutput = await executeGitCommand('git status --porcelain', repoPath);\n        if (!statusOutput.trim()) {\n            vscode.window.showInformationMessage('Keine Änderungen zum Stagen gefunden.');\n            return true;\n        }\n        \n        // Geänderte Dateien parsen und für QuickPick vorbereiten\n        const changedFiles = statusOutput\n            .split('\\n')\n            .filter(line => line.trim() !== '')\n            .map(line => {\n                const status = line.substring(0, 2);\n                const filePath = line.substring(3).trim(); // Trimmen ist wichtig\n                return { \n                    status,\n                    filePath,\n                    label: `${ui.getStatusDescription(status)}: ${filePath}`,\n                    picked: !status.includes('?') // Vorauswahl aller Dateien außer untracked\n                };\n            });\n        \n        if (changedFiles.length === 0) {\n            vscode.window.showInformationMessage('Keine Änderungen zum Stagen gefunden.');\n            return true;\n        }\n        \n        // Dateien zur Auswahl anbieten\n        const selectedItems = await vscode.window.showQuickPick(changedFiles, {\n            placeHolder: 'Wählen Sie die zu stagenden Dateien aus',\n            canPickMany: true,\n            ignoreFocusOut: true,\n            title: 'Dateien für Staging auswählen'\n        });\n        \n        if (!selectedItems || selectedItems.length === 0) {\n            vscode.window.showInformationMessage('Keine Dateien zum Stagen ausgewählt.');\n            return false; // Benutzerabbruch\n        }\n        \n        const statusBarMessage = vscode.window.setStatusBarMessage(`$(sync~spin) Stage ${selectedItems.length} Datei(en)...`, 5000);\n        // Ausgewählte Dateien stagen\n        // Git add akzeptiert mehrere Dateien, sicherstellen, dass Pfade korrekt sind\n        const filesToStage = selectedItems.map(item => `\"${item.filePath}\"`).join(' ');\n        await executeGitCommand(`git add -- ${filesToStage}`, repoPath); // '--' trennt Optionen von Dateipfaden\n        \n        statusBarMessage.dispose();\n        vscode.window.showInformationMessage(`${selectedItems.length} Datei(en) wurden gestaged.`);\n        return true;\n    } catch (error) {\n        vscode.window.showErrorMessage(`Fehler beim Stagen ausgewählter Dateien: ${error.message}`);\n        console.error(\"Staging Error Details:\", error);\n        return false;\n    }\n}\n\n/**\n * Behandelt das Kommando zur Auswahl des Themes.\n */\nasync function handleSelectThemeCommand() {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const uiSettings = { ...config.get('uiSettings') };\n    const currentTheme = uiSettings.theme || 'auto';\n\n    const themes = [\n        { label: 'Hell', value: 'light', detail: 'Helles Theme für Comitto UI-Elemente' },\n        { label: 'Dunkel', value: 'dark', detail: 'Dunkles Theme für Comitto UI-Elemente' },\n        { label: 'Automatisch', value: 'auto', detail: 'Theme automatisch an VS Code anpassen' }\n    ];\n\n    const selected = await vscode.window.showQuickPick(\n        themes.map(theme => ({...theme, description: currentTheme === theme.value ? '(Aktuell)' : ''})),\n        {\n            placeHolder: 'Theme für Comitto auswählen',\n            title: 'Comitto Theme',\n            ignoreFocusOut: true\n        });\n\n    if (selected) {\n        uiSettings.theme = selected.value;\n        await config.update('uiSettings', uiSettings, vscode.ConfigurationTarget.Global);\n        vscode.window.showInformationMessage(`Comitto Theme auf \"${selected.label}\" gesetzt.`);\n        // UI Refresh wird durch onDidChangeConfiguration ausgelöst\n    }\n}\n\n/**\n * Umschaltet eine Einstellung in den notifications-Einstellungen\n * @param {string} settingKey Der Schlüssel der Einstellung\n * @param {string} settingName Anzeigename der Einstellung für Benachrichtigungen\n */\nasync function handleToggleNotificationSettingCommand(settingKey, settingName) {\n    try {\n        const config = vscode.workspace.getConfiguration('comitto');\n        const notifications = config.get('notifications') || {};\n        \n        // Aktuellen Wert umkehren (true -> false, false -> true)\n        const newValue = !(notifications[settingKey]);\n        \n        // Aktualisierte notifications erstellen\n        const updatedNotifications = { ...notifications, [settingKey]: newValue };\n        \n        // In die Konfiguration schreiben\n        await config.update('notifications', updatedNotifications, vscode.ConfigurationTarget.Global);\n        \n        // Benachrichtigung anzeigen, wenn sie nicht gerade deaktiviert wurde\n        if (settingKey !== 'onError' || newValue) {\n            vscode.window.showInformationMessage(`${settingName} wurden ${newValue ? 'aktiviert' : 'deaktiviert'}.`);\n        }\n    } catch (error) {\n        vscode.window.showErrorMessage(`Fehler beim Umschalten von ${settingName}: ${error.message}`);\n    }\n}\n\n// #endregion Spezifische Handler\n\n/**\n * Fehlerbehandlungsfunktion für bessere Benutzerfreundlichkeit und Debugging\n * @param {Error} error Der aufgetretene Fehler\n * @param {string} context Kontext, in dem der Fehler aufgetreten ist\n * @param {boolean} showNotification Ob eine Benachrichtigung angezeigt werden soll\n * @returns {string} Benutzerfreundliche Fehlermeldung\n */\nfunction handleError(error, context, showNotification = true) {\n    // Originalnachricht für Logging\n    const originalMessage = error.message || 'Unbekannter Fehler';\n    console.error(`Comitto Fehler [${context}]:`, error);\n    \n    // Benutzerfreundliche Fehlermeldung extrahieren\n    let userMessage = originalMessage;\n    \n    // Git-spezifische Fehler erkennen und übersetzen\n    if (originalMessage.includes('fatal: not a git repository')) {\n        userMessage = 'Dieses Verzeichnis ist kein Git-Repository. Bitte initialisieren Sie zuerst ein Git-Repository.';\n    } else if (originalMessage.includes('fatal: unable to access')) {\n        userMessage = 'Fehler beim Zugriff auf das Remote-Repository. Bitte prüfen Sie Ihre Netzwerkverbindung und Zugangsrechte.';\n    } else if (originalMessage.includes('maxBuffer') || originalMessage.includes('zu groß')) {\n        userMessage = 'Zu viele oder zu große Änderungen für die automatische Verarbeitung. Es wird versucht, mit einem kleineren Diff fortzufahren.';\n    } else if (originalMessage.includes('fatal: could not read')) {\n        userMessage = 'Fehler beim Lesen von Git-Objekten. Möglicherweise ist Ihr Repository beschädigt.';\n    } else if (originalMessage.includes('Permission denied')) {\n        userMessage = 'Zugriff verweigert. Bitte prüfen Sie Ihre Berechtigungen.';\n    } else if (originalMessage.includes('Authentication failed')) {\n        userMessage = 'Authentifizierung fehlgeschlagen. Bitte prüfen Sie Ihre Git-Credentials.';\n    } else if (originalMessage.includes('ENOENT')) {\n        userMessage = 'Datei oder Verzeichnis nicht gefunden.';\n    } else if (originalMessage.includes('ECONNREFUSED')) {\n        userMessage = 'Verbindung verweigert. Der Server ist möglicherweise nicht erreichbar.';\n    } else if (originalMessage.includes('ETIMEDOUT')) {\n        userMessage = 'Zeitüberschreitung bei der Verbindung. Bitte prüfen Sie Ihre Netzwerkverbindung.';\n    }\n    \n    // Anzeigen, falls gewünscht\n    if (showNotification) {\n        const config = vscode.workspace.getConfiguration('comitto');\n        const notificationSettings = config.get('notifications');\n        if (notificationSettings && notificationSettings.onError) {\n            vscode.window.showErrorMessage(`${context}: ${userMessage}`);\n        }\n    }\n    \n    // Auch als detaillierteren Log ausgeben\n    console.warn(`Comitto [${context}] - Benutzerfreundlich: ${userMessage}`);\n    \n    return userMessage;\n}\n\n/**\n * Bereitet die KI-Prompt-Vorlage vor und passt sie an aktuelle Einstellungen an\n * @param {string} gitStatus Die Ausgabe von git status\n * @param {string} diffOutput Die Ausgabe von git diff\n * @returns {string} Die angepasste Prompt-Vorlage\n */\nfunction preparePromptTemplate(gitStatus, diffOutput) {\n    const config = vscode.workspace.getConfiguration('comitto');\n    const gitSettings = config.get('gitSettings');\n    \n    // Änderungen in ein lesbares Format bringen\n    const changes = gitStatus.split('\\n')\n        .filter(line => line.trim().length > 0)\n        .map(line => {\n            const status = line.substring(0, 2).trim();\n            const filePath = line.substring(3).trim();\n            return `${getStatusText(status)} ${filePath}`;\n        })\n        .join('\\n');\n    \n    // Prompt-Vorlage mit Änderungen füllen\n    let promptTemplate = config.get('promptTemplate');\n    promptTemplate = promptTemplate.replace('{changes}', changes);\n    \n    // Sprache für die Commit-Nachricht einfügen\n    const language = gitSettings.commitMessageLanguage || 'en';\n    const languageText = language === 'de' ? 'auf Deutsch' : 'in English';\n    \n    // Sicherstellen, dass die richtige Sprache im Prompt verwendet wird\n    if (promptTemplate.includes('auf Deutsch') && language !== 'de') {\n        promptTemplate = promptTemplate.replace('auf Deutsch', 'in English');\n    } else if (promptTemplate.includes('in English') && language === 'de') {\n        promptTemplate = promptTemplate.replace('in English', 'auf Deutsch');\n    } else if (!promptTemplate.toLowerCase().includes(languageText.toLowerCase())) {\n        promptTemplate += `\\nDie Commit-Nachricht soll ${languageText} sein.`;\n    }\n    \n    // Commit-Stil einfügen\n    const style = gitSettings.commitMessageStyle || 'conventional';\n    if (style === 'conventional' && !promptTemplate.toLowerCase().includes('conventional')) {\n        const conventionalText = language === 'de' \n            ? '\\nVerwende das Conventional Commits Format (feat, fix, docs, style, etc.).'\n            : '\\nUse the Conventional Commits format (feat, fix, docs, style, etc.).';\n        promptTemplate += conventionalText;\n    } else if (style === 'gitmoji' && !promptTemplate.toLowerCase().includes('gitmoji')) {\n        const gitmojiText = language === 'de'\n            ? '\\nVerwende Gitmojis am Anfang der Commit-Nachricht (z.B. 🐛 für Bugfixes, ✨ für neue Features).'\n            : '\\nUse Gitmojis at the beginning of the commit message (e.g. 🐛 for bugfixes, ✨ for new features).';\n        promptTemplate += gitmojiText;\n    }\n    \n    // Zusätzliche Anweisungen für englische Konventionen\n    if (language === 'en' && !promptTemplate.toLowerCase().includes('conventional git conventions')) {\n        promptTemplate += `\n\\nFollow these additional rules:\n1. Use imperative mood (\"Add feature\" not \"Added feature\")\n2. Don't capitalize the first word if using conventional commits format\n3. No period at the end\n4. Keep the message concise and under 72 characters if possible\n5. If needed, add more details after a blank line`;\n    }\n    \n    // Diff-Informationen für komplexere Abrechnungen hinzufügen\n    if (diffOutput && diffOutput.length > 0) {\n        // Eine aggressiv gekürzte Version des Diffs anhängen, um den Kontext zu verbessern,\n        // aber nicht zu viel Token zu verwenden\n        promptTemplate += `\\n\\n${processDiffForPrompt(diffOutput)}`;\n    }\n    \n    return promptTemplate;\n}\n\n/**\n * Prozessiert den Git-Diff für eine optimale Verwendung im Prompt\n * @param {string} diffOutput Der originale Diff-Output\n * @returns {string} Ein angepasster, gekürzter Diff\n */\nfunction processDiffForPrompt(diffOutput) {\n    // Maximale Anzahl der Zeichen des Diffs für den Prompt\n    const maxDiffLength = 3000;\n    \n    // Sehr große Diffs erkennen und Warnung ausgeben\n    if (diffOutput.length > 100000) {\n        console.warn(`Extrem großer Diff (${diffOutput.length} Zeichen) wird stark gekürzt.`);\n    }\n    \n    // Intelligente Kürzung: Nur die wichtigsten Änderungen\n    let shortenedDiff = '';\n    \n    try {\n        // Aufteilen nach Dateiänderungen (beginnen mit 'diff --git')\n        const fileChanges = diffOutput.split('diff --git');\n        \n        // Die ersten Änderungen für jede Datei extrahieren (maximal 8 Dateien)\n        const maxFiles = Math.min(8, fileChanges.length);\n        const filesToInclude = fileChanges.slice(0, maxFiles);\n        \n        filesToInclude.forEach((fileChange, index) => {\n            if (index === 0 && !fileChange.trim()) return; // Erstes Element kann leer sein\n            \n            // Dateiinformationen extrahieren\n            const fileNameMatch = fileChange.match(/a\\/(.+?) b\\//);\n            const fileName = fileNameMatch ? fileNameMatch[1] : 'unknown-file';\n            \n            // Jede Dateiänderung auf maximal 500 Zeichen beschränken\n            const maxPerFile = 500;\n            \n            // Nur die relevanten Änderungen erfassen (Zeilen mit + oder - am Anfang)\n            const changesOnly = fileChange\n                .split('\\n')\n                .filter(line => line.startsWith('+') || line.startsWith('-'))\n                .join('\\n')\n                .substring(0, maxPerFile);\n            \n            shortenedDiff += `\\n${index > 0 ? 'diff --git' : ''} a/${fileName} b/${fileName}\\n${changesOnly}`;\n            \n            if (changesOnly.length >= maxPerFile) {\n                shortenedDiff += '\\n...';\n            }\n        });\n        \n        // Kürzen, wenn insgesamt zu lang\n        if (shortenedDiff.length > maxDiffLength) {\n            shortenedDiff = shortenedDiff.substring(0, maxDiffLength);\n            shortenedDiff += '\\n...';\n        }\n        \n        shortenedDiff += `\\n[Diff wurde gekürzt, insgesamt ${diffOutput.length} Zeichen in ${fileChanges.length} Dateien]`;\n    } catch (error) {\n        console.error('Fehler beim intelligenten Kürzen des Diffs:', error);\n        shortenedDiff = diffOutput.substring(0, maxDiffLength) + \n            `\\n...\\n[Diff wurde einfach gekürzt, insgesamt ${diffOutput.length} Zeichen]`;\n    }\n    \n    // Final cleanup und Optimierung\n    return 'Hier ist ein Ausschnitt der konkreten Änderungen:\\n' + shortenedDiff;\n}\n\n// Ersetze die bestehende generateCommitMessage-Funktion mit dieser verbesserten Version\n/**\n * Generiert eine Commit-Nachricht mit dem konfigurierten KI-Modell\n * @param {string} gitStatus Die Ausgabe von git status\n * @param {string} diffOutput Die Ausgabe von git diff\n * @returns {Promise<string>} Generierte Commit-Nachricht\n */\nasync function generateCommitMessage(gitStatus, diffOutput) {\n    try {\n        const config = vscode.workspace.getConfiguration('comitto');\n        const aiProvider = config.get('aiProvider');\n        \n        // Generierung des optimierten Prompts\n        const prompt = preparePromptTemplate(gitStatus, diffOutput);\n        \n        // Verschiedene KI-Provider unterstützen\n        let commitMessage = '';\n        switch (aiProvider) {\n            case 'ollama':\n                commitMessage = await generateWithOllama(prompt);\n                break;\n            case 'openai':\n                commitMessage = await generateWithOpenAI(prompt);\n                break;\n            case 'anthropic':\n                commitMessage = await generateWithAnthropic(prompt);\n                break;\n            default:\n                throw new Error(`Unbekannter KI-Provider: ${aiProvider}`);\n        }\n        \n        // Nachverarbeitung der Commit-Nachricht\n        return processCommitMessage(commitMessage);\n    } catch (error) {\n        // Fehlerbehandlung\n        handleError(error, 'Commit-Nachricht generieren');\n        \n        // Fallback: Einfache, generische Commit-Nachricht\n        const config = vscode.workspace.getConfiguration('comitto');\n        const gitSettings = config.get('gitSettings');\n        const language = gitSettings.commitMessageLanguage || 'en';\n        const style = gitSettings.commitMessageStyle || 'conventional';\n        \n        // Basierend auf Sprache und Stil einen Fallback erzeugen\n        if (language === 'de') {\n            return style === 'conventional' ? \n                \"chore: Änderungen gespeichert\" : \n                \"💾 Änderungen gespeichert\";\n        } else {\n            return style === 'conventional' ? \n                \"chore: save changes\" : \n                \"💾 Save changes\";\n        }\n    }\n}\n\n/**\n * Nachverarbeitet die generierte Commit-Nachricht gemäß Projektkonventionen\n * @param {string} rawMessage Die rohe, generierte Nachricht\n * @returns {string} Die verarbeitete Nachricht\n */\nfunction processCommitMessage(rawMessage) {\n    if (!rawMessage) return \"chore: auto commit\";\n    \n    // Leerzeichen und Anführungszeichen entfernen\n    let message = rawMessage.trim()\n        .replace(/^[\"']|[\"']$/g, '')  // Entfernt Anführungszeichen am Anfang und Ende\n        .replace(/\\n/g, ' ');  // Ersetzt Zeilenumbrüche durch Leerzeichen\n    \n    // Übliche Probleme korrigieren\n    message = message\n        // Doppelte Leerzeichen entfernen\n        .replace(/\\s+/g, ' ')\n        // Löscht \"Commit-Nachricht:\" oder \"Commit message:\" am Anfang\n        .replace(/^(commit[- ]message:?\\s*)/i, '')\n        // Entfernt Backticks (wenn die KI Code-Formatierung verwendet)\n        .replace(/^```|```$/g, '');\n    \n    // Korrekturen für Conventional Commits Format\n    const conventionalMatch = message.match(/^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\\([\\w-]+\\))?:\\s*(.+)/i);\n    if (conventionalMatch) {\n        // Stellt sicher, dass der Typ kleingeschrieben ist\n        const type = conventionalMatch[1].toLowerCase();\n        // Behält den Scope bei, wenn vorhanden\n        const scope = conventionalMatch[2] || '';\n        // Rest der Nachricht\n        const content = conventionalMatch[3];\n        // Baut die Nachricht neu zusammen\n        message = `${type}${scope}: ${content}`;\n    }\n    \n    // Punkt am Ende entfernen (Konvention)\n    message = message.replace(/\\.$/, '');\n    \n    // Längenbegrenzung (72 Zeichen für erste Zeile)\n    if (message.length > 72) {\n        message = message.substring(0, 69) + '...';\n    }\n    \n    return message;\n}\n\nmodule.exports = {\n    registerCommands,\n    handleSelectThemeCommand,\n    handleStageSelectedCommand,\n    handleStageAllCommand,\n    handleOpenAIModelSelectionCommand,\n    handleCommitMessageLanguageCommand,\n    handleConfigureTriggersCommand,\n    showSimpleUI,\n    generateSimpleUIHTML,\n    generateDashboardHTML,\n    handleSelectStageModeCommand,\n    handleEditStagingPatternsCommand,\n    handleToggleGitSettingCommand,\n    handleToggleUISettingCommand,\n    handleToggleNotificationSettingCommand,\n    handleConfigureAIProviderCommand,\n    handleEditOpenAIKeyCommand,\n    handleSelectAnthropicModelCommand,\n    handleEditAnthropicKeyCommand,\n    handleEditPromptTemplateCommand\n}; ","module.exports = require(\"tty\");","module.exports = require(\"stream\");","module.exports = require(\"assert\");","module.exports = require(\"zlib\");","module.exports = require(\"events\");","module.exports = require(\"child_process\");","module.exports = require(\"https\");","module.exports = require(\"path\");","module.exports = require(\"crypto\");","module.exports = require(\"url\");","module.exports = require(\"http\");","module.exports = require(\"util\");","module.exports = require(\"fs\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [121,730], () => (__webpack_require__(286)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + (chunkId === 121 ? \"vendor\" : chunkId) + \".js\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["deferred","next","installedChunks","_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","_unsupportedIterableToArray","_arrayLikeToArray","toString","Array","from","test","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","statusBarItem","fileWatcher","vscode","require","path","exec","fs","ignore","ui","commands","_require2","executeGitCommand","ComittoError","getStatusText","ErrorTypes","logError","getErrorLogs","getDiagnosticInfo","withRetry","os","changedFiles","WebviewPanel","Set","isCommitInProgress","lastCommitTime","gitignoreObj","uiProviders","intervalTimer","debugLogs","addDebugLog","message","undefined","logEntry","timestamp","Date","toISOString","unshift","console","error","warn","log","concat","window","webviews","webview","viewType","visible","postMessage","content","toUpperCase","debugLog","category","level","workspace","getConfiguration","get","formattedMessage","outputChannel","createOutputChannel","appendLine","show","logDir","join","process","env","HOME","USERPROFILE","existsSync","mkdirSync","recursive","logFile","split","appendFileSync","handleError","_x","_handleError","_callee2","contextMessage","showToUser","comittoError","viewDetailsButton","reportButton","messagePrefix","userMessage","issueBody","_args2","_context2","UNKNOWN","context","toJSON","showErrorMessage","showErrorDetails","encodeURIComponent","JSON","stringify","version","extensions","getExtension","packageJSON","openExternal","Uri","parse","panel","createWebviewPanel","ViewColumn","One","enableScripts","diagnosticInfo","html","originalError","stack","onDidReceiveMessage","command","clipboard","writeText","text","showInformationMessage","showErrorLogs","logs","map","index","clearErrorLogs","dispose","showSaveDialog","defaultUri","file","homedir","filters","fileUri","writeFileSync","fsPath","_activate","_callee4","hasGit","_context4","ensureResourceDirs","registerUI","createStatusBarItem","StatusBarAlignment","Left","tooltip","subscriptions","checkGitRepository","executeCommand","registerCommands","setupFileWatcher","disableFileWatcher","performAutoCommit","showNotification","loadGitignore","registerCommand","_callee3","info","_context3","data","setupAutoBackgroundMonitoring","setTimeout","statusProvider","refresh","settingsProvider","quickActionsProvider","showWelcomeNotification","t0","_x3","_checkGitRepository","_callee5","workspaceFolders","repoPath","_context5","uri","dir","dirPath","joinPath","extensionUri","currentVersion","extension","globalState","selection","update","showNotifications","activeTextEditor","gitSettings","useGitignore","repositoryPath","gitignorePath","gitignoreContent","readFileSync","add","triggerRules","filePatterns","createFileSystemWatcher","onDidChange","isFileIgnored","checkCommitTrigger","onDidCreate","onDidDelete","onInterval","setupIntervalTrigger","intervalMinutes","minutes","clearInterval","setInterval","size","onTriggerFired","clear","filePath","includes","relativePath","relative","replace","ignores","rules","specificFiles","hasSpecificFileChanged","some","isArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","changed","hasMinChanges","minChangeCount","hasFileThreshold","fileCountThreshold","timeThresholdMs","timeThresholdMinutes","now","getTime","_performAutoCommit","_callee6","isManualTrigger","retryCount","MAX_RETRIES","config","gitStatus","diffOutput","fileList","commitMessage","dateStr","timeStr","_gitSettings","language","style","escapedMessage","notificationSettings","errorMessage","_args6","_context6","stageChanges","stageMode","t1","t2","trim","t3","t4","generateCommitMessage","t5","getFullYear","String","getMonth","padStart","getDate","getHours","getMinutes","commitMessageLanguage","commitMessageStyle","branch","t6","t7","t8","onCommit","t9","autoPush","performAutoPush","t10","t11","onError","t12","_x4","_performAutoPush","_callee7","MAX_PUSH_RETRIES","currentBranch","pushOptions","pushCommand","pushSuccess","pushError","_loop","_ret","_context8","_context7","onPush","_x5","_stageChanges","_callee8","mode","gitStatusOutput","changedFilesList","selectedFiles","_iterator","_step","patterns","_iterator2","_step2","pattern","safePattern","_context9","filter","line","status","substring","showQuickPick","label","description","getStatusDescription","picked","canPickMany","placeHolder","_createForOfIteratorHelper","specificStagingPatterns","uiSettings","showWarningMessage","originalText","_callee","debugSettings","_context","extendedLogging","module","exports","activate","_x2","deactivate","handleEditTriggerRuleCommand","_handleEditTriggerRuleCommand","_callee39","ruleKey","promptText","inputType","currentValue","valueToString","processedValue","_context39","_objectSpread","showInputBox","prompt","validateInput","num","parseInt","ConfigurationTarget","Global","handleToggleTriggerRuleCommand","_x6","_handleToggleTriggerRuleCommand","_callee40","settingName","newValue","updatedRules","_context40","_defineProperty","handleEditGitSettingCommand","_x7","_x8","_x9","_handleEditGitSettingCommand","_callee41","settingKey","_context41","handleToggleGitSettingCommand","_x10","_x11","_handleToggleGitSettingCommand","_callee42","_context42","handleSelectGitSettingCommand","_x12","_x13","_x14","_handleSelectGitSettingCommand","_callee43","options","selected","_context43","opt","ignoreFocusOut","handleToggleUISettingCommand","_x15","_x16","_handleToggleUISettingCommand","_callee44","_context44","handleEditOpenAIKeyCommand","_handleEditOpenAIKeyCommand","_callee45","_context45","password","handleSelectAnthropicModelCommand","_handleSelectAnthropicModelCommand","_callee46","currentModel","models","_context46","handleEditAnthropicKeyCommand","_handleEditAnthropicKeyCommand","_callee47","_context47","handleEditPromptTemplateCommand","_handleEditPromptTemplateCommand","_callee49","document","disposable","closeDisposable","_context49","openTextDocument","showTextDocument","onDidSaveTextDocument","_ref39","_callee48","doc","newContent","_context48","getText","_x26","onDidCloseTextDocument","handleShowDashboardCommand","_x17","_handleShowDashboardCommand","_callee51","_context51","retainContextWhenHidden","localResourceRoots","_ref40","_callee50","enabled","_context50","generateDashboardHTML","files","_x27","handleConfigureAIProviderCommand","_x18","_handleConfigureAIProviderCommand","_callee52","providers","providerOptions","selectedProvider","configSuccess","_context52","id","title","configureOllamaSettings","handleOpenAIModelSelectionCommand","_configureOllamaSettings","_callee53","currentEndpoint","endpoint","availableModels","statusBarMessage","axios","tagsEndpoint","response","popularModels","allModels","quickPickItems","selectedModel","_context53","startsWith","URL","setStatusBarMessage","timeout","model","sort","_toConsumableArray","detail","_handleOpenAIModelSelectionCommand","_callee54","_context54","getOpenAIModelOptions","option","matchOnDescription","matchOnDetail","handleConfigureTriggersCommand","_x19","_x20","_handleConfigureTriggersCommand","_callee55","configOptions","selectedOption","triggerOptions","selectedTrigger","_context55","onSave","disabled","onBranchSwitch","showSimpleUI","autoCommitEnabled","providerName","getProviderDisplayName","generateSimpleUIHTML","_ref38","_callee38","newEnabled","_context38","_x21","simpleUIJsUri","styleUri","animationsUri","logoUri","simpleUIJsWebviewUri","asWebviewUri","styleWebviewUri","animationsWebviewUri","logoWebviewUri","nonce","getNonce","pkgPath","cspSource","provider","providerIcon","getProviderIcon","providerModel","dashboardJsUri","dashboardJsWebviewUri","getStageModeLabel","Math","floor","possible","random","handleCommitMessageLanguageCommand","_handleCommitMessageLanguageCommand","_callee56","languageOptions","selectedLanguage","promptTemplate","_context56","handleSelectStageModeCommand","_handleSelectStageModeCommand","_callee57","currentMode","modes","_context57","handleEditStagingPatternsCommand","_handleEditStagingPatternsCommand","_callee58","currentPatterns","input","_context58","_handleStageAllCommand","_callee59","workspaceFolder","_context59","_handleStageSelectedCommand","_callee60","statusOutput","_changedFiles","selectedItems","filesToStage","_context60","item","handleSelectThemeCommand","_handleSelectThemeCommand","_callee61","currentTheme","themes","_context61","theme","handleToggleNotificationSettingCommand","_x22","_x23","_handleToggleNotificationSettingCommand","_callee62","notifications","updatedNotifications","_context62","shouldProceed","confirmBeforeCommit","modal","_callee9","_callee10","_context10","_callee11","_context11","_callee12","_context12","_callee13","_context13","_callee14","_context14","_callee15","_context15","_callee16","_context16","_callee17","_context17","_callee18","_context18","_callee19","_context19","_callee20","_context20","_callee21","_context21","_callee22","_context22","_callee23","_context23","getCommands","cmds","_callee24","_context24","_callee25","_context25","_callee26","_context26","_callee27","_context27","_callee28","_context28","_callee29","_context29","_callee30","_context30","_callee31","_context31","_callee32","_context32","_callee33","_context33","_callee34","_context34","_callee35","_context35","_callee36","_context36","_callee37","_context37","handleStageSelectedCommand","handleStageAllCommand","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","x","__webpack_exports__","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","key","splice","chunkId","all","reduce","promises","obj","prop","chunk","moreModules","modules","ids","runtime","installChunk"],"sourceRoot":""}